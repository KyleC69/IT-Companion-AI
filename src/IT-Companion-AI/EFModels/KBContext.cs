//------------------------------------------------------------------------------
// This is auto-generated code.
//------------------------------------------------------------------------------
// This code was generated by Entity Developer tool using EF Core template.
// Code is generated on: 1/8/2026 10:40:40 PM
//
// Changes to this file may cause incorrect behavior and will be lost if
// the code is regenerated.
//------------------------------------------------------------------------------

using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Data.Common;
using System.Linq;
using System.Linq.Expressions;
using System.Reflection;
using System.Threading.Tasks;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Infrastructure;
using Microsoft.EntityFrameworkCore.Internal;
using Microsoft.EntityFrameworkCore.Metadata;

namespace ITCompanionAI.Entities
{

    public partial class KBContext : DbContext
    {

        public KBContext() :
            base()
        {
            OnCreated();
        }

        public KBContext(DbContextOptions<KBContext> options) :
            base(options)
        {
            OnCreated();
        }

        protected override void OnConfiguring(DbContextOptionsBuilder optionsBuilder)
        {
            if (!optionsBuilder.IsConfigured ||
                (!optionsBuilder.Options.Extensions.OfType<RelationalOptionsExtension>().Any(ext => !string.IsNullOrEmpty(ext.ConnectionString) || ext.Connection != null) &&
                 !optionsBuilder.Options.Extensions.Any(ext => !(ext is RelationalOptionsExtension) && !(ext is CoreOptionsExtension))))
            {
                optionsBuilder.UseSqlServer(@"Data Source=(localdb)\mssqllocaldb;Initial Catalog=KnowledgeCurator;Integrated Security=True;Persist Security Info=True");
            }
            CustomizeConfiguration(ref optionsBuilder);
            base.OnConfiguring(optionsBuilder);
        }

        partial void CustomizeConfiguration(ref DbContextOptionsBuilder optionsBuilder);

        public virtual DbSet<ApiFeature> ApiFeatures
        {
            get;
            set;
        }

        public virtual DbSet<ApiMember> ApiMembers
        {
            get;
            set;
        }

        public virtual DbSet<ApiMemberDiff> ApiMemberDiffs
        {
            get;
            set;
        }

        public virtual DbSet<ApiParameter> ApiParameters
        {
            get;
            set;
        }

        public virtual DbSet<ApiType> ApiTypes
        {
            get;
            set;
        }

        public virtual DbSet<ApiTypeDiff> ApiTypeDiffs
        {
            get;
            set;
        }

        public virtual DbSet<CodeBlock> CodeBlocks
        {
            get;
            set;
        }

        public virtual DbSet<DocPage> DocPages
        {
            get;
            set;
        }

        public virtual DbSet<DocPageDiff> DocPageDiffs
        {
            get;
            set;
        }

        public virtual DbSet<DocSection> DocSections
        {
            get;
            set;
        }

        public virtual DbSet<ExecutionResult> ExecutionResults
        {
            get;
            set;
        }

        public virtual DbSet<ExecutionRun> ExecutionRuns
        {
            get;
            set;
        }

        public virtual DbSet<FeatureDocLink> FeatureDocLinks
        {
            get;
            set;
        }

        public virtual DbSet<FeatureMemberLink> FeatureMemberLinks
        {
            get;
            set;
        }

        public virtual DbSet<FeatureTypeLink> FeatureTypeLinks
        {
            get;
            set;
        }

        public virtual DbSet<IngestionRun> IngestionRuns
        {
            get;
            set;
        }

        public virtual DbSet<RagChunk> RagChunks
        {
            get;
            set;
        }

        public virtual DbSet<RagRun> RagRuns
        {
            get;
            set;
        }

        public virtual DbSet<ReviewIssue> ReviewIssues
        {
            get;
            set;
        }

        public virtual DbSet<ReviewItem> ReviewItems
        {
            get;
            set;
        }

        public virtual DbSet<ReviewRun> ReviewRuns
        {
            get;
            set;
        }

        public virtual DbSet<Sample> Samples
        {
            get;
            set;
        }

        public virtual DbSet<SampleApiMemberLink> SampleApiMemberLinks
        {
            get;
            set;
        }

        public virtual DbSet<SampleRun> SampleRuns
        {
            get;
            set;
        }

        public virtual DbSet<SemanticIdentity> SemanticIdentities
        {
            get;
            set;
        }

        public virtual DbSet<SnapshotDiff> SnapshotDiffs
        {
            get;
            set;
        }

        public virtual DbSet<SourceSnapshot> SourceSnapshots
        {
            get;
            set;
        }

        public virtual DbSet<TruthRun> TruthRuns
        {
            get;
            set;
        }

        public virtual DbSet<VApiFeatureCurrent> VApiFeatureCurrents
        {
            get;
            set;
        }

        public virtual DbSet<VApiMemberCurrent> VApiMemberCurrents
        {
            get;
            set;
        }

        public virtual DbSet<VApiTypeCurrent> VApiTypeCurrents
        {
            get;
            set;
        }

        public virtual DbSet<VDocPageCurrent> VDocPageCurrents
        {
            get;
            set;
        }

        #region Methods

        public void CompactTypeHistory (string SemanticUid)
        {

            DbConnection connection = this.Database.GetDbConnection();
            bool needClose = false;
            if (connection.State != ConnectionState.Open)
            {
                connection.Open();
                needClose = true;
            }

            try
            {
                using (DbCommand cmd = connection.CreateCommand())
                {
                    if (this.Database.GetCommandTimeout().HasValue)
                        cmd.CommandTimeout = this.Database.GetCommandTimeout().Value;
                    cmd.CommandType = CommandType.StoredProcedure;
                    cmd.CommandText = @"dbo.CompactTypeHistory";

                    DbParameter SemanticUidParameter = cmd.CreateParameter();
                    SemanticUidParameter.ParameterName = "SemanticUid";
                    SemanticUidParameter.Direction = ParameterDirection.Input;
                    SemanticUidParameter.DbType = DbType.String;
                    SemanticUidParameter.Size = 1000;
                    if (SemanticUid != null)
                    {
                        SemanticUidParameter.Value = SemanticUid;
                    }
                    else
                    {
                        SemanticUidParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SemanticUidParameter);
                    cmd.ExecuteNonQuery();
                }
            }
            finally
            {
                if (needClose)
                    connection.Close();
            }
        }

        public async Task CompactTypeHistoryAsync (string SemanticUid)
        {

            DbConnection connection = this.Database.GetDbConnection();
            bool needClose = false;
            if (connection.State != ConnectionState.Open)
            {
                await connection.OpenAsync();
                needClose = true;
            }

            try
            {
                using (DbCommand cmd = connection.CreateCommand())
                {
                    if (this.Database.GetCommandTimeout().HasValue)
                        cmd.CommandTimeout = this.Database.GetCommandTimeout().Value;
                    cmd.CommandType = CommandType.StoredProcedure;
                    cmd.CommandText = @"dbo.CompactTypeHistory";

                    DbParameter SemanticUidParameter = cmd.CreateParameter();
                    SemanticUidParameter.ParameterName = "SemanticUid";
                    SemanticUidParameter.Direction = ParameterDirection.Input;
                    SemanticUidParameter.DbType = DbType.String;
                    SemanticUidParameter.Size = 1000;
                    if (SemanticUid != null)
                    {
                        SemanticUidParameter.Value = SemanticUid;
                    }
                    else
                    {
                        SemanticUidParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SemanticUidParameter);
                    await cmd.ExecuteNonQueryAsync();
                }
            }
            finally
            {
                if (needClose)
                    connection.Close();
            }
        }

        public void SpBeginIngestionRun (string SchemaVersion, string Notes, ref Guid? IngestionRunId)
        {

            DbConnection connection = this.Database.GetDbConnection();
            bool needClose = false;
            if (connection.State != ConnectionState.Open)
            {
                connection.Open();
                needClose = true;
            }

            try
            {
                using (DbCommand cmd = connection.CreateCommand())
                {
                    if (this.Database.GetCommandTimeout().HasValue)
                        cmd.CommandTimeout = this.Database.GetCommandTimeout().Value;
                    cmd.CommandType = CommandType.StoredProcedure;
                    cmd.CommandText = @"dbo.sp_BeginIngestionRun";

                    DbParameter SchemaVersionParameter = cmd.CreateParameter();
                    SchemaVersionParameter.ParameterName = "SchemaVersion";
                    SchemaVersionParameter.Direction = ParameterDirection.Input;
                    SchemaVersionParameter.DbType = DbType.String;
                    SchemaVersionParameter.Size = 200;
                    if (SchemaVersion != null)
                    {
                        SchemaVersionParameter.Value = SchemaVersion;
                    }
                    else
                    {
                        SchemaVersionParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SchemaVersionParameter);

                    DbParameter NotesParameter = cmd.CreateParameter();
                    NotesParameter.ParameterName = "Notes";
                    NotesParameter.Direction = ParameterDirection.Input;
                    NotesParameter.DbType = DbType.String;
                    if (Notes != null)
                    {
                        NotesParameter.Value = Notes;
                    }
                    else
                    {
                        NotesParameter.Size = -1;
                        NotesParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(NotesParameter);

                    DbParameter IngestionRunIdParameter = cmd.CreateParameter();
                    IngestionRunIdParameter.ParameterName = "IngestionRunId";
                    IngestionRunIdParameter.Direction = ParameterDirection.InputOutput;
                    IngestionRunIdParameter.DbType = DbType.Guid;
                    if (IngestionRunId.HasValue)
                    {
                        IngestionRunIdParameter.Value = IngestionRunId.Value;
                    }
                    else
                    {
                        IngestionRunIdParameter.Size = -1;
                        IngestionRunIdParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(IngestionRunIdParameter);
                    cmd.ExecuteNonQuery();

                    if (cmd.Parameters["IngestionRunId"].Value != null && !(cmd.Parameters["IngestionRunId"].Value is System.DBNull))
                        IngestionRunId = (Guid)Convert.ChangeType(cmd.Parameters["IngestionRunId"].Value, typeof(Guid));
                    else
                        IngestionRunId = default(Guid);
                }
            }
            finally
            {
                if (needClose)
                    connection.Close();
            }
        }

        public async Task<Tuple<Guid?>> SpBeginIngestionRunAsync (string SchemaVersion, string Notes, Guid? IngestionRunId)
        {

            DbConnection connection = this.Database.GetDbConnection();
            bool needClose = false;
            if (connection.State != ConnectionState.Open)
            {
                await connection.OpenAsync();
                needClose = true;
            }

            try
            {
                using (DbCommand cmd = connection.CreateCommand())
                {
                    if (this.Database.GetCommandTimeout().HasValue)
                        cmd.CommandTimeout = this.Database.GetCommandTimeout().Value;
                    cmd.CommandType = CommandType.StoredProcedure;
                    cmd.CommandText = @"dbo.sp_BeginIngestionRun";

                    DbParameter SchemaVersionParameter = cmd.CreateParameter();
                    SchemaVersionParameter.ParameterName = "SchemaVersion";
                    SchemaVersionParameter.Direction = ParameterDirection.Input;
                    SchemaVersionParameter.DbType = DbType.String;
                    SchemaVersionParameter.Size = 200;
                    if (SchemaVersion != null)
                    {
                        SchemaVersionParameter.Value = SchemaVersion;
                    }
                    else
                    {
                        SchemaVersionParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SchemaVersionParameter);

                    DbParameter NotesParameter = cmd.CreateParameter();
                    NotesParameter.ParameterName = "Notes";
                    NotesParameter.Direction = ParameterDirection.Input;
                    NotesParameter.DbType = DbType.String;
                    if (Notes != null)
                    {
                        NotesParameter.Value = Notes;
                    }
                    else
                    {
                        NotesParameter.Size = -1;
                        NotesParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(NotesParameter);

                    DbParameter IngestionRunIdParameter = cmd.CreateParameter();
                    IngestionRunIdParameter.ParameterName = "IngestionRunId";
                    IngestionRunIdParameter.Direction = ParameterDirection.InputOutput;
                    IngestionRunIdParameter.DbType = DbType.Guid;
                    if (IngestionRunId.HasValue)
                    {
                        IngestionRunIdParameter.Value = IngestionRunId.Value;
                    }
                    else
                    {
                        IngestionRunIdParameter.Size = -1;
                        IngestionRunIdParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(IngestionRunIdParameter);
                    await cmd.ExecuteNonQueryAsync();

                    if (cmd.Parameters["IngestionRunId"].Value != null && !(cmd.Parameters["IngestionRunId"].Value is System.DBNull))
                        IngestionRunId = (Guid)Convert.ChangeType(cmd.Parameters["IngestionRunId"].Value, typeof(Guid));
                    else
                        IngestionRunId = default(Guid);
                }
            }
            finally
            {
                if (needClose)
                    connection.Close();
            }
            return new Tuple<Guid?>(IngestionRunId);
        }

        public SpCheckTemporalConsistencyMultipleResult SpCheckTemporalConsistency ()
        {

            SpCheckTemporalConsistencyMultipleResult result = new SpCheckTemporalConsistencyMultipleResult();
            DbConnection connection = this.Database.GetDbConnection();
            bool needClose = false;
            if (connection.State != ConnectionState.Open)
            {
                connection.Open();
                needClose = true;
            }

            try
            {
                using (DbCommand cmd = connection.CreateCommand())
                {
                    if (this.Database.GetCommandTimeout().HasValue)
                        cmd.CommandTimeout = this.Database.GetCommandTimeout().Value;
                    cmd.CommandType = CommandType.StoredProcedure;
                    cmd.CommandText = @"dbo.sp_CheckTemporalConsistency";
                    using (IDataReader reader = cmd.ExecuteReader())
                    {
                        string[] fieldNames;
                        fieldNames = Enumerable.Range(0, reader.FieldCount).Select(i => reader.GetName(i)).ToArray();

                        while (reader.Read())
                        {

                            SpCheckTemporalConsistencyResult resultRow = new SpCheckTemporalConsistencyResult();
                            if (fieldNames.Contains(@"table_name") && !reader.IsDBNull(reader.GetOrdinal(@"table_name")))
                                resultRow.TableName = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"table_name")), typeof(string));
                            if (fieldNames.Contains(@"semantic_uid") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid")))
                                resultRow.SemanticUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid")), typeof(string));
                            result.SpCheckTemporalConsistencyResults.Add(resultRow);
                        }
                        reader.NextResult();

                        fieldNames = Enumerable.Range(0, reader.FieldCount).Select(i => reader.GetName(i)).ToArray();

                        while (reader.Read())
                        {

                            SpCheckTemporalConsistencyResult resultRow = new SpCheckTemporalConsistencyResult();
                            if (fieldNames.Contains(@"table_name") && !reader.IsDBNull(reader.GetOrdinal(@"table_name")))
                                resultRow.TableName = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"table_name")), typeof(string));
                            if (fieldNames.Contains(@"semantic_uid") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid")))
                                resultRow.SemanticUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid")), typeof(string));
                            result.SpCheckTemporalConsistencyResults.Add(resultRow);
                        }
                        reader.NextResult();

                        fieldNames = Enumerable.Range(0, reader.FieldCount).Select(i => reader.GetName(i)).ToArray();

                        while (reader.Read())
                        {

                            SpCheckTemporalConsistencyResult resultRow = new SpCheckTemporalConsistencyResult();
                            if (fieldNames.Contains(@"table_name") && !reader.IsDBNull(reader.GetOrdinal(@"table_name")))
                                resultRow.TableName = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"table_name")), typeof(string));
                            if (fieldNames.Contains(@"semantic_uid") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid")))
                                resultRow.SemanticUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid")), typeof(string));
                            result.SpCheckTemporalConsistencyResults.Add(resultRow);
                        }
                        reader.NextResult();

                        fieldNames = Enumerable.Range(0, reader.FieldCount).Select(i => reader.GetName(i)).ToArray();

                        while (reader.Read())
                        {

                            SpCheckTemporalConsistencyResult resultRow = new SpCheckTemporalConsistencyResult();
                            if (fieldNames.Contains(@"table_name") && !reader.IsDBNull(reader.GetOrdinal(@"table_name")))
                                resultRow.TableName = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"table_name")), typeof(string));
                            if (fieldNames.Contains(@"semantic_uid") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid")))
                                resultRow.SemanticUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid")), typeof(string));
                            result.SpCheckTemporalConsistencyResults.Add(resultRow);
                        }
                        reader.NextResult();

                        fieldNames = Enumerable.Range(0, reader.FieldCount).Select(i => reader.GetName(i)).ToArray();

                        while (reader.Read())
                        {

                            SpCheckTemporalConsistencyResult1 resultRow = new SpCheckTemporalConsistencyResult1();
                            if (fieldNames.Contains(@"table_name") && !reader.IsDBNull(reader.GetOrdinal(@"table_name")))
                                resultRow.TableName = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"table_name")), typeof(string));
                            if (fieldNames.Contains(@"id") && !reader.IsDBNull(reader.GetOrdinal(@"id")))
                                resultRow.Id = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"id")), typeof(System.Guid));
                            if (fieldNames.Contains(@"semantic_uid") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid")))
                                resultRow.SemanticUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid")), typeof(string));
                            result.SpCheckTemporalConsistencyResult1s.Add(resultRow);
                        }
                        reader.NextResult();

                        fieldNames = Enumerable.Range(0, reader.FieldCount).Select(i => reader.GetName(i)).ToArray();

                        while (reader.Read())
                        {

                            SpCheckTemporalConsistencyResult1 resultRow = new SpCheckTemporalConsistencyResult1();
                            if (fieldNames.Contains(@"table_name") && !reader.IsDBNull(reader.GetOrdinal(@"table_name")))
                                resultRow.TableName = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"table_name")), typeof(string));
                            if (fieldNames.Contains(@"id") && !reader.IsDBNull(reader.GetOrdinal(@"id")))
                                resultRow.Id = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"id")), typeof(System.Guid));
                            if (fieldNames.Contains(@"semantic_uid") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid")))
                                resultRow.SemanticUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid")), typeof(string));
                            result.SpCheckTemporalConsistencyResult1s.Add(resultRow);
                        }
                        reader.NextResult();

                        fieldNames = Enumerable.Range(0, reader.FieldCount).Select(i => reader.GetName(i)).ToArray();

                        while (reader.Read())
                        {

                            SpCheckTemporalConsistencyResult1 resultRow = new SpCheckTemporalConsistencyResult1();
                            if (fieldNames.Contains(@"table_name") && !reader.IsDBNull(reader.GetOrdinal(@"table_name")))
                                resultRow.TableName = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"table_name")), typeof(string));
                            if (fieldNames.Contains(@"id") && !reader.IsDBNull(reader.GetOrdinal(@"id")))
                                resultRow.Id = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"id")), typeof(System.Guid));
                            if (fieldNames.Contains(@"semantic_uid") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid")))
                                resultRow.SemanticUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid")), typeof(string));
                            result.SpCheckTemporalConsistencyResult1s.Add(resultRow);
                        }
                        reader.NextResult();

                        fieldNames = Enumerable.Range(0, reader.FieldCount).Select(i => reader.GetName(i)).ToArray();

                        while (reader.Read())
                        {

                            SpCheckTemporalConsistencyResult1 resultRow = new SpCheckTemporalConsistencyResult1();
                            if (fieldNames.Contains(@"table_name") && !reader.IsDBNull(reader.GetOrdinal(@"table_name")))
                                resultRow.TableName = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"table_name")), typeof(string));
                            if (fieldNames.Contains(@"id") && !reader.IsDBNull(reader.GetOrdinal(@"id")))
                                resultRow.Id = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"id")), typeof(System.Guid));
                            if (fieldNames.Contains(@"semantic_uid") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid")))
                                resultRow.SemanticUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid")), typeof(string));
                            result.SpCheckTemporalConsistencyResult1s.Add(resultRow);
                        }
                        reader.NextResult();

                        fieldNames = Enumerable.Range(0, reader.FieldCount).Select(i => reader.GetName(i)).ToArray();

                        while (reader.Read())
                        {

                            SpCheckTemporalConsistencyResult2 resultRow = new SpCheckTemporalConsistencyResult2();
                            if (fieldNames.Contains(@"table_name") && !reader.IsDBNull(reader.GetOrdinal(@"table_name")))
                                resultRow.TableName = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"table_name")), typeof(string));
                            if (fieldNames.Contains(@"semantic_uid") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid")))
                                resultRow.SemanticUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid")), typeof(string));
                            if (fieldNames.Contains(@"version_number") && !reader.IsDBNull(reader.GetOrdinal(@"version_number")))
                                resultRow.VersionNumber = (int)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"version_number")), typeof(int));
                            if (fieldNames.Contains(@"valid_from_utc") && !reader.IsDBNull(reader.GetOrdinal(@"valid_from_utc")))
                                resultRow.ValidFromUtc = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"valid_from_utc")), typeof(System.DateTime));
                            if (fieldNames.Contains(@"valid_to_utc") && !reader.IsDBNull(reader.GetOrdinal(@"valid_to_utc")))
                                resultRow.ValidToUtc = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"valid_to_utc")), typeof(System.DateTime));
                            else
                                resultRow.ValidToUtc = null;
                            if (fieldNames.Contains(@"next_from") && !reader.IsDBNull(reader.GetOrdinal(@"next_from")))
                                resultRow.NextFrom = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"next_from")), typeof(System.DateTime));
                            else
                                resultRow.NextFrom = null;
                            result.SpCheckTemporalConsistencyResult2s.Add(resultRow);
                        }
                        reader.NextResult();

                        fieldNames = Enumerable.Range(0, reader.FieldCount).Select(i => reader.GetName(i)).ToArray();

                        while (reader.Read())
                        {

                            SpCheckTemporalConsistencyResult2 resultRow = new SpCheckTemporalConsistencyResult2();
                            if (fieldNames.Contains(@"table_name") && !reader.IsDBNull(reader.GetOrdinal(@"table_name")))
                                resultRow.TableName = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"table_name")), typeof(string));
                            if (fieldNames.Contains(@"semantic_uid") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid")))
                                resultRow.SemanticUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid")), typeof(string));
                            if (fieldNames.Contains(@"version_number") && !reader.IsDBNull(reader.GetOrdinal(@"version_number")))
                                resultRow.VersionNumber = (int)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"version_number")), typeof(int));
                            if (fieldNames.Contains(@"valid_from_utc") && !reader.IsDBNull(reader.GetOrdinal(@"valid_from_utc")))
                                resultRow.ValidFromUtc = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"valid_from_utc")), typeof(System.DateTime));
                            if (fieldNames.Contains(@"valid_to_utc") && !reader.IsDBNull(reader.GetOrdinal(@"valid_to_utc")))
                                resultRow.ValidToUtc = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"valid_to_utc")), typeof(System.DateTime));
                            else
                                resultRow.ValidToUtc = null;
                            if (fieldNames.Contains(@"next_from") && !reader.IsDBNull(reader.GetOrdinal(@"next_from")))
                                resultRow.NextFrom = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"next_from")), typeof(System.DateTime));
                            else
                                resultRow.NextFrom = null;
                            result.SpCheckTemporalConsistencyResult2s.Add(resultRow);
                        }
                        reader.NextResult();

                        fieldNames = Enumerable.Range(0, reader.FieldCount).Select(i => reader.GetName(i)).ToArray();

                        while (reader.Read())
                        {

                            SpCheckTemporalConsistencyResult2 resultRow = new SpCheckTemporalConsistencyResult2();
                            if (fieldNames.Contains(@"table_name") && !reader.IsDBNull(reader.GetOrdinal(@"table_name")))
                                resultRow.TableName = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"table_name")), typeof(string));
                            if (fieldNames.Contains(@"semantic_uid") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid")))
                                resultRow.SemanticUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid")), typeof(string));
                            if (fieldNames.Contains(@"version_number") && !reader.IsDBNull(reader.GetOrdinal(@"version_number")))
                                resultRow.VersionNumber = (int)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"version_number")), typeof(int));
                            if (fieldNames.Contains(@"valid_from_utc") && !reader.IsDBNull(reader.GetOrdinal(@"valid_from_utc")))
                                resultRow.ValidFromUtc = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"valid_from_utc")), typeof(System.DateTime));
                            if (fieldNames.Contains(@"valid_to_utc") && !reader.IsDBNull(reader.GetOrdinal(@"valid_to_utc")))
                                resultRow.ValidToUtc = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"valid_to_utc")), typeof(System.DateTime));
                            else
                                resultRow.ValidToUtc = null;
                            if (fieldNames.Contains(@"next_from") && !reader.IsDBNull(reader.GetOrdinal(@"next_from")))
                                resultRow.NextFrom = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"next_from")), typeof(System.DateTime));
                            else
                                resultRow.NextFrom = null;
                            result.SpCheckTemporalConsistencyResult2s.Add(resultRow);
                        }
                        reader.NextResult();

                        fieldNames = Enumerable.Range(0, reader.FieldCount).Select(i => reader.GetName(i)).ToArray();

                        while (reader.Read())
                        {

                            SpCheckTemporalConsistencyResult2 resultRow = new SpCheckTemporalConsistencyResult2();
                            if (fieldNames.Contains(@"table_name") && !reader.IsDBNull(reader.GetOrdinal(@"table_name")))
                                resultRow.TableName = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"table_name")), typeof(string));
                            if (fieldNames.Contains(@"semantic_uid") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid")))
                                resultRow.SemanticUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid")), typeof(string));
                            if (fieldNames.Contains(@"version_number") && !reader.IsDBNull(reader.GetOrdinal(@"version_number")))
                                resultRow.VersionNumber = (int)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"version_number")), typeof(int));
                            if (fieldNames.Contains(@"valid_from_utc") && !reader.IsDBNull(reader.GetOrdinal(@"valid_from_utc")))
                                resultRow.ValidFromUtc = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"valid_from_utc")), typeof(System.DateTime));
                            if (fieldNames.Contains(@"valid_to_utc") && !reader.IsDBNull(reader.GetOrdinal(@"valid_to_utc")))
                                resultRow.ValidToUtc = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"valid_to_utc")), typeof(System.DateTime));
                            else
                                resultRow.ValidToUtc = null;
                            if (fieldNames.Contains(@"next_from") && !reader.IsDBNull(reader.GetOrdinal(@"next_from")))
                                resultRow.NextFrom = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"next_from")), typeof(System.DateTime));
                            else
                                resultRow.NextFrom = null;
                            result.SpCheckTemporalConsistencyResult2s.Add(resultRow);
                        }
                        reader.NextResult();

                    }

                }
            }
            finally
            {
                if (needClose)
                    connection.Close();
            }
            return result;
        }

        public async Task<SpCheckTemporalConsistencyMultipleResult> SpCheckTemporalConsistencyAsync ()
        {

            SpCheckTemporalConsistencyMultipleResult result = new SpCheckTemporalConsistencyMultipleResult();
            DbConnection connection = this.Database.GetDbConnection();
            bool needClose = false;
            if (connection.State != ConnectionState.Open)
            {
                await connection.OpenAsync();
                needClose = true;
            }

            try
            {
                using (DbCommand cmd = connection.CreateCommand())
                {
                    if (this.Database.GetCommandTimeout().HasValue)
                        cmd.CommandTimeout = this.Database.GetCommandTimeout().Value;
                    cmd.CommandType = CommandType.StoredProcedure;
                    cmd.CommandText = @"dbo.sp_CheckTemporalConsistency";
                    using (IDataReader reader = await cmd.ExecuteReaderAsync())
                    {
                        string[] fieldNames;
                        fieldNames = Enumerable.Range(0, reader.FieldCount).Select(i => reader.GetName(i)).ToArray();

                        while (reader.Read())
                        {

                            SpCheckTemporalConsistencyResult resultRow = new SpCheckTemporalConsistencyResult();
                            if (fieldNames.Contains(@"table_name") && !reader.IsDBNull(reader.GetOrdinal(@"table_name")))
                                resultRow.TableName = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"table_name")), typeof(string));
                            if (fieldNames.Contains(@"semantic_uid") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid")))
                                resultRow.SemanticUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid")), typeof(string));
                            result.SpCheckTemporalConsistencyResults.Add(resultRow);
                        }
                        reader.NextResult();

                        fieldNames = Enumerable.Range(0, reader.FieldCount).Select(i => reader.GetName(i)).ToArray();

                        while (reader.Read())
                        {

                            SpCheckTemporalConsistencyResult resultRow = new SpCheckTemporalConsistencyResult();
                            if (fieldNames.Contains(@"table_name") && !reader.IsDBNull(reader.GetOrdinal(@"table_name")))
                                resultRow.TableName = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"table_name")), typeof(string));
                            if (fieldNames.Contains(@"semantic_uid") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid")))
                                resultRow.SemanticUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid")), typeof(string));
                            result.SpCheckTemporalConsistencyResults.Add(resultRow);
                        }
                        reader.NextResult();

                        fieldNames = Enumerable.Range(0, reader.FieldCount).Select(i => reader.GetName(i)).ToArray();

                        while (reader.Read())
                        {

                            SpCheckTemporalConsistencyResult resultRow = new SpCheckTemporalConsistencyResult();
                            if (fieldNames.Contains(@"table_name") && !reader.IsDBNull(reader.GetOrdinal(@"table_name")))
                                resultRow.TableName = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"table_name")), typeof(string));
                            if (fieldNames.Contains(@"semantic_uid") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid")))
                                resultRow.SemanticUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid")), typeof(string));
                            result.SpCheckTemporalConsistencyResults.Add(resultRow);
                        }
                        reader.NextResult();

                        fieldNames = Enumerable.Range(0, reader.FieldCount).Select(i => reader.GetName(i)).ToArray();

                        while (reader.Read())
                        {

                            SpCheckTemporalConsistencyResult resultRow = new SpCheckTemporalConsistencyResult();
                            if (fieldNames.Contains(@"table_name") && !reader.IsDBNull(reader.GetOrdinal(@"table_name")))
                                resultRow.TableName = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"table_name")), typeof(string));
                            if (fieldNames.Contains(@"semantic_uid") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid")))
                                resultRow.SemanticUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid")), typeof(string));
                            result.SpCheckTemporalConsistencyResults.Add(resultRow);
                        }
                        reader.NextResult();

                        fieldNames = Enumerable.Range(0, reader.FieldCount).Select(i => reader.GetName(i)).ToArray();

                        while (reader.Read())
                        {

                            SpCheckTemporalConsistencyResult1 resultRow = new SpCheckTemporalConsistencyResult1();
                            if (fieldNames.Contains(@"table_name") && !reader.IsDBNull(reader.GetOrdinal(@"table_name")))
                                resultRow.TableName = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"table_name")), typeof(string));
                            if (fieldNames.Contains(@"id") && !reader.IsDBNull(reader.GetOrdinal(@"id")))
                                resultRow.Id = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"id")), typeof(System.Guid));
                            if (fieldNames.Contains(@"semantic_uid") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid")))
                                resultRow.SemanticUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid")), typeof(string));
                            result.SpCheckTemporalConsistencyResult1s.Add(resultRow);
                        }
                        reader.NextResult();

                        fieldNames = Enumerable.Range(0, reader.FieldCount).Select(i => reader.GetName(i)).ToArray();

                        while (reader.Read())
                        {

                            SpCheckTemporalConsistencyResult1 resultRow = new SpCheckTemporalConsistencyResult1();
                            if (fieldNames.Contains(@"table_name") && !reader.IsDBNull(reader.GetOrdinal(@"table_name")))
                                resultRow.TableName = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"table_name")), typeof(string));
                            if (fieldNames.Contains(@"id") && !reader.IsDBNull(reader.GetOrdinal(@"id")))
                                resultRow.Id = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"id")), typeof(System.Guid));
                            if (fieldNames.Contains(@"semantic_uid") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid")))
                                resultRow.SemanticUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid")), typeof(string));
                            result.SpCheckTemporalConsistencyResult1s.Add(resultRow);
                        }
                        reader.NextResult();

                        fieldNames = Enumerable.Range(0, reader.FieldCount).Select(i => reader.GetName(i)).ToArray();

                        while (reader.Read())
                        {

                            SpCheckTemporalConsistencyResult1 resultRow = new SpCheckTemporalConsistencyResult1();
                            if (fieldNames.Contains(@"table_name") && !reader.IsDBNull(reader.GetOrdinal(@"table_name")))
                                resultRow.TableName = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"table_name")), typeof(string));
                            if (fieldNames.Contains(@"id") && !reader.IsDBNull(reader.GetOrdinal(@"id")))
                                resultRow.Id = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"id")), typeof(System.Guid));
                            if (fieldNames.Contains(@"semantic_uid") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid")))
                                resultRow.SemanticUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid")), typeof(string));
                            result.SpCheckTemporalConsistencyResult1s.Add(resultRow);
                        }
                        reader.NextResult();

                        fieldNames = Enumerable.Range(0, reader.FieldCount).Select(i => reader.GetName(i)).ToArray();

                        while (reader.Read())
                        {

                            SpCheckTemporalConsistencyResult1 resultRow = new SpCheckTemporalConsistencyResult1();
                            if (fieldNames.Contains(@"table_name") && !reader.IsDBNull(reader.GetOrdinal(@"table_name")))
                                resultRow.TableName = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"table_name")), typeof(string));
                            if (fieldNames.Contains(@"id") && !reader.IsDBNull(reader.GetOrdinal(@"id")))
                                resultRow.Id = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"id")), typeof(System.Guid));
                            if (fieldNames.Contains(@"semantic_uid") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid")))
                                resultRow.SemanticUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid")), typeof(string));
                            result.SpCheckTemporalConsistencyResult1s.Add(resultRow);
                        }
                        reader.NextResult();

                        fieldNames = Enumerable.Range(0, reader.FieldCount).Select(i => reader.GetName(i)).ToArray();

                        while (reader.Read())
                        {

                            SpCheckTemporalConsistencyResult2 resultRow = new SpCheckTemporalConsistencyResult2();
                            if (fieldNames.Contains(@"table_name") && !reader.IsDBNull(reader.GetOrdinal(@"table_name")))
                                resultRow.TableName = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"table_name")), typeof(string));
                            if (fieldNames.Contains(@"semantic_uid") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid")))
                                resultRow.SemanticUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid")), typeof(string));
                            if (fieldNames.Contains(@"version_number") && !reader.IsDBNull(reader.GetOrdinal(@"version_number")))
                                resultRow.VersionNumber = (int)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"version_number")), typeof(int));
                            if (fieldNames.Contains(@"valid_from_utc") && !reader.IsDBNull(reader.GetOrdinal(@"valid_from_utc")))
                                resultRow.ValidFromUtc = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"valid_from_utc")), typeof(System.DateTime));
                            if (fieldNames.Contains(@"valid_to_utc") && !reader.IsDBNull(reader.GetOrdinal(@"valid_to_utc")))
                                resultRow.ValidToUtc = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"valid_to_utc")), typeof(System.DateTime));
                            else
                                resultRow.ValidToUtc = null;
                            if (fieldNames.Contains(@"next_from") && !reader.IsDBNull(reader.GetOrdinal(@"next_from")))
                                resultRow.NextFrom = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"next_from")), typeof(System.DateTime));
                            else
                                resultRow.NextFrom = null;
                            result.SpCheckTemporalConsistencyResult2s.Add(resultRow);
                        }
                        reader.NextResult();

                        fieldNames = Enumerable.Range(0, reader.FieldCount).Select(i => reader.GetName(i)).ToArray();

                        while (reader.Read())
                        {

                            SpCheckTemporalConsistencyResult2 resultRow = new SpCheckTemporalConsistencyResult2();
                            if (fieldNames.Contains(@"table_name") && !reader.IsDBNull(reader.GetOrdinal(@"table_name")))
                                resultRow.TableName = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"table_name")), typeof(string));
                            if (fieldNames.Contains(@"semantic_uid") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid")))
                                resultRow.SemanticUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid")), typeof(string));
                            if (fieldNames.Contains(@"version_number") && !reader.IsDBNull(reader.GetOrdinal(@"version_number")))
                                resultRow.VersionNumber = (int)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"version_number")), typeof(int));
                            if (fieldNames.Contains(@"valid_from_utc") && !reader.IsDBNull(reader.GetOrdinal(@"valid_from_utc")))
                                resultRow.ValidFromUtc = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"valid_from_utc")), typeof(System.DateTime));
                            if (fieldNames.Contains(@"valid_to_utc") && !reader.IsDBNull(reader.GetOrdinal(@"valid_to_utc")))
                                resultRow.ValidToUtc = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"valid_to_utc")), typeof(System.DateTime));
                            else
                                resultRow.ValidToUtc = null;
                            if (fieldNames.Contains(@"next_from") && !reader.IsDBNull(reader.GetOrdinal(@"next_from")))
                                resultRow.NextFrom = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"next_from")), typeof(System.DateTime));
                            else
                                resultRow.NextFrom = null;
                            result.SpCheckTemporalConsistencyResult2s.Add(resultRow);
                        }
                        reader.NextResult();

                        fieldNames = Enumerable.Range(0, reader.FieldCount).Select(i => reader.GetName(i)).ToArray();

                        while (reader.Read())
                        {

                            SpCheckTemporalConsistencyResult2 resultRow = new SpCheckTemporalConsistencyResult2();
                            if (fieldNames.Contains(@"table_name") && !reader.IsDBNull(reader.GetOrdinal(@"table_name")))
                                resultRow.TableName = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"table_name")), typeof(string));
                            if (fieldNames.Contains(@"semantic_uid") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid")))
                                resultRow.SemanticUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid")), typeof(string));
                            if (fieldNames.Contains(@"version_number") && !reader.IsDBNull(reader.GetOrdinal(@"version_number")))
                                resultRow.VersionNumber = (int)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"version_number")), typeof(int));
                            if (fieldNames.Contains(@"valid_from_utc") && !reader.IsDBNull(reader.GetOrdinal(@"valid_from_utc")))
                                resultRow.ValidFromUtc = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"valid_from_utc")), typeof(System.DateTime));
                            if (fieldNames.Contains(@"valid_to_utc") && !reader.IsDBNull(reader.GetOrdinal(@"valid_to_utc")))
                                resultRow.ValidToUtc = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"valid_to_utc")), typeof(System.DateTime));
                            else
                                resultRow.ValidToUtc = null;
                            if (fieldNames.Contains(@"next_from") && !reader.IsDBNull(reader.GetOrdinal(@"next_from")))
                                resultRow.NextFrom = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"next_from")), typeof(System.DateTime));
                            else
                                resultRow.NextFrom = null;
                            result.SpCheckTemporalConsistencyResult2s.Add(resultRow);
                        }
                        reader.NextResult();

                        fieldNames = Enumerable.Range(0, reader.FieldCount).Select(i => reader.GetName(i)).ToArray();

                        while (reader.Read())
                        {

                            SpCheckTemporalConsistencyResult2 resultRow = new SpCheckTemporalConsistencyResult2();
                            if (fieldNames.Contains(@"table_name") && !reader.IsDBNull(reader.GetOrdinal(@"table_name")))
                                resultRow.TableName = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"table_name")), typeof(string));
                            if (fieldNames.Contains(@"semantic_uid") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid")))
                                resultRow.SemanticUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid")), typeof(string));
                            if (fieldNames.Contains(@"version_number") && !reader.IsDBNull(reader.GetOrdinal(@"version_number")))
                                resultRow.VersionNumber = (int)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"version_number")), typeof(int));
                            if (fieldNames.Contains(@"valid_from_utc") && !reader.IsDBNull(reader.GetOrdinal(@"valid_from_utc")))
                                resultRow.ValidFromUtc = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"valid_from_utc")), typeof(System.DateTime));
                            if (fieldNames.Contains(@"valid_to_utc") && !reader.IsDBNull(reader.GetOrdinal(@"valid_to_utc")))
                                resultRow.ValidToUtc = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"valid_to_utc")), typeof(System.DateTime));
                            else
                                resultRow.ValidToUtc = null;
                            if (fieldNames.Contains(@"next_from") && !reader.IsDBNull(reader.GetOrdinal(@"next_from")))
                                resultRow.NextFrom = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"next_from")), typeof(System.DateTime));
                            else
                                resultRow.NextFrom = null;
                            result.SpCheckTemporalConsistencyResult2s.Add(resultRow);
                        }
                        reader.NextResult();

                    }

                }
            }
            finally
            {
                if (needClose)
                    connection.Close();
            }
            return result;
        }

        public void SpCreateSourceSnapshot (Guid? IngestionRunId, string SnapshotUid, string RepoUrl, string Branch, string RepoCommit, string Language, string PackageName, string PackageVersion, string ConfigJson, ref Guid? SnapshotId)
        {

            DbConnection connection = this.Database.GetDbConnection();
            bool needClose = false;
            if (connection.State != ConnectionState.Open)
            {
                connection.Open();
                needClose = true;
            }

            try
            {
                using (DbCommand cmd = connection.CreateCommand())
                {
                    if (this.Database.GetCommandTimeout().HasValue)
                        cmd.CommandTimeout = this.Database.GetCommandTimeout().Value;
                    cmd.CommandType = CommandType.StoredProcedure;
                    cmd.CommandText = @"dbo.sp_CreateSourceSnapshot";

                    DbParameter IngestionRunIdParameter = cmd.CreateParameter();
                    IngestionRunIdParameter.ParameterName = "IngestionRunId";
                    IngestionRunIdParameter.Direction = ParameterDirection.Input;
                    IngestionRunIdParameter.DbType = DbType.Guid;
                    if (IngestionRunId.HasValue)
                    {
                        IngestionRunIdParameter.Value = IngestionRunId.Value;
                    }
                    else
                    {
                        IngestionRunIdParameter.Size = -1;
                        IngestionRunIdParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(IngestionRunIdParameter);

                    DbParameter SnapshotUidParameter = cmd.CreateParameter();
                    SnapshotUidParameter.ParameterName = "SnapshotUid";
                    SnapshotUidParameter.Direction = ParameterDirection.Input;
                    SnapshotUidParameter.DbType = DbType.String;
                    SnapshotUidParameter.Size = 1000;
                    if (SnapshotUid != null)
                    {
                        SnapshotUidParameter.Value = SnapshotUid;
                    }
                    else
                    {
                        SnapshotUidParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SnapshotUidParameter);

                    DbParameter RepoUrlParameter = cmd.CreateParameter();
                    RepoUrlParameter.ParameterName = "RepoUrl";
                    RepoUrlParameter.Direction = ParameterDirection.Input;
                    RepoUrlParameter.DbType = DbType.String;
                    if (RepoUrl != null)
                    {
                        RepoUrlParameter.Value = RepoUrl;
                    }
                    else
                    {
                        RepoUrlParameter.Size = -1;
                        RepoUrlParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(RepoUrlParameter);

                    DbParameter BranchParameter = cmd.CreateParameter();
                    BranchParameter.ParameterName = "Branch";
                    BranchParameter.Direction = ParameterDirection.Input;
                    BranchParameter.DbType = DbType.String;
                    BranchParameter.Size = 200;
                    if (Branch != null)
                    {
                        BranchParameter.Value = Branch;
                    }
                    else
                    {
                        BranchParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(BranchParameter);

                    DbParameter RepoCommitParameter = cmd.CreateParameter();
                    RepoCommitParameter.ParameterName = "RepoCommit";
                    RepoCommitParameter.Direction = ParameterDirection.Input;
                    RepoCommitParameter.DbType = DbType.String;
                    RepoCommitParameter.Size = 200;
                    if (RepoCommit != null)
                    {
                        RepoCommitParameter.Value = RepoCommit;
                    }
                    else
                    {
                        RepoCommitParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(RepoCommitParameter);

                    DbParameter LanguageParameter = cmd.CreateParameter();
                    LanguageParameter.ParameterName = "Language";
                    LanguageParameter.Direction = ParameterDirection.Input;
                    LanguageParameter.DbType = DbType.String;
                    LanguageParameter.Size = 200;
                    if (Language != null)
                    {
                        LanguageParameter.Value = Language;
                    }
                    else
                    {
                        LanguageParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(LanguageParameter);

                    DbParameter PackageNameParameter = cmd.CreateParameter();
                    PackageNameParameter.ParameterName = "PackageName";
                    PackageNameParameter.Direction = ParameterDirection.Input;
                    PackageNameParameter.DbType = DbType.String;
                    PackageNameParameter.Size = 200;
                    if (PackageName != null)
                    {
                        PackageNameParameter.Value = PackageName;
                    }
                    else
                    {
                        PackageNameParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(PackageNameParameter);

                    DbParameter PackageVersionParameter = cmd.CreateParameter();
                    PackageVersionParameter.ParameterName = "PackageVersion";
                    PackageVersionParameter.Direction = ParameterDirection.Input;
                    PackageVersionParameter.DbType = DbType.String;
                    PackageVersionParameter.Size = 200;
                    if (PackageVersion != null)
                    {
                        PackageVersionParameter.Value = PackageVersion;
                    }
                    else
                    {
                        PackageVersionParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(PackageVersionParameter);

                    DbParameter ConfigJsonParameter = cmd.CreateParameter();
                    ConfigJsonParameter.ParameterName = "ConfigJson";
                    ConfigJsonParameter.Direction = ParameterDirection.Input;
                    ConfigJsonParameter.DbType = DbType.String;
                    if (ConfigJson != null)
                    {
                        ConfigJsonParameter.Value = ConfigJson;
                    }
                    else
                    {
                        ConfigJsonParameter.Size = -1;
                        ConfigJsonParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(ConfigJsonParameter);

                    DbParameter SnapshotIdParameter = cmd.CreateParameter();
                    SnapshotIdParameter.ParameterName = "SnapshotId";
                    SnapshotIdParameter.Direction = ParameterDirection.InputOutput;
                    SnapshotIdParameter.DbType = DbType.Guid;
                    if (SnapshotId.HasValue)
                    {
                        SnapshotIdParameter.Value = SnapshotId.Value;
                    }
                    else
                    {
                        SnapshotIdParameter.Size = -1;
                        SnapshotIdParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SnapshotIdParameter);
                    cmd.ExecuteNonQuery();

                    if (cmd.Parameters["SnapshotId"].Value != null && !(cmd.Parameters["SnapshotId"].Value is System.DBNull))
                        SnapshotId = (Guid)Convert.ChangeType(cmd.Parameters["SnapshotId"].Value, typeof(Guid));
                    else
                        SnapshotId = default(Guid);
                }
            }
            finally
            {
                if (needClose)
                    connection.Close();
            }
        }

        public async Task<Tuple<Guid?>> SpCreateSourceSnapshotAsync (Guid? IngestionRunId, string SnapshotUid, string RepoUrl, string Branch, string RepoCommit, string Language, string PackageName, string PackageVersion, string ConfigJson, Guid? SnapshotId)
        {

            DbConnection connection = this.Database.GetDbConnection();
            bool needClose = false;
            if (connection.State != ConnectionState.Open)
            {
                await connection.OpenAsync();
                needClose = true;
            }

            try
            {
                using (DbCommand cmd = connection.CreateCommand())
                {
                    if (this.Database.GetCommandTimeout().HasValue)
                        cmd.CommandTimeout = this.Database.GetCommandTimeout().Value;
                    cmd.CommandType = CommandType.StoredProcedure;
                    cmd.CommandText = @"dbo.sp_CreateSourceSnapshot";

                    DbParameter IngestionRunIdParameter = cmd.CreateParameter();
                    IngestionRunIdParameter.ParameterName = "IngestionRunId";
                    IngestionRunIdParameter.Direction = ParameterDirection.Input;
                    IngestionRunIdParameter.DbType = DbType.Guid;
                    if (IngestionRunId.HasValue)
                    {
                        IngestionRunIdParameter.Value = IngestionRunId.Value;
                    }
                    else
                    {
                        IngestionRunIdParameter.Size = -1;
                        IngestionRunIdParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(IngestionRunIdParameter);

                    DbParameter SnapshotUidParameter = cmd.CreateParameter();
                    SnapshotUidParameter.ParameterName = "SnapshotUid";
                    SnapshotUidParameter.Direction = ParameterDirection.Input;
                    SnapshotUidParameter.DbType = DbType.String;
                    SnapshotUidParameter.Size = 1000;
                    if (SnapshotUid != null)
                    {
                        SnapshotUidParameter.Value = SnapshotUid;
                    }
                    else
                    {
                        SnapshotUidParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SnapshotUidParameter);

                    DbParameter RepoUrlParameter = cmd.CreateParameter();
                    RepoUrlParameter.ParameterName = "RepoUrl";
                    RepoUrlParameter.Direction = ParameterDirection.Input;
                    RepoUrlParameter.DbType = DbType.String;
                    if (RepoUrl != null)
                    {
                        RepoUrlParameter.Value = RepoUrl;
                    }
                    else
                    {
                        RepoUrlParameter.Size = -1;
                        RepoUrlParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(RepoUrlParameter);

                    DbParameter BranchParameter = cmd.CreateParameter();
                    BranchParameter.ParameterName = "Branch";
                    BranchParameter.Direction = ParameterDirection.Input;
                    BranchParameter.DbType = DbType.String;
                    BranchParameter.Size = 200;
                    if (Branch != null)
                    {
                        BranchParameter.Value = Branch;
                    }
                    else
                    {
                        BranchParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(BranchParameter);

                    DbParameter RepoCommitParameter = cmd.CreateParameter();
                    RepoCommitParameter.ParameterName = "RepoCommit";
                    RepoCommitParameter.Direction = ParameterDirection.Input;
                    RepoCommitParameter.DbType = DbType.String;
                    RepoCommitParameter.Size = 200;
                    if (RepoCommit != null)
                    {
                        RepoCommitParameter.Value = RepoCommit;
                    }
                    else
                    {
                        RepoCommitParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(RepoCommitParameter);

                    DbParameter LanguageParameter = cmd.CreateParameter();
                    LanguageParameter.ParameterName = "Language";
                    LanguageParameter.Direction = ParameterDirection.Input;
                    LanguageParameter.DbType = DbType.String;
                    LanguageParameter.Size = 200;
                    if (Language != null)
                    {
                        LanguageParameter.Value = Language;
                    }
                    else
                    {
                        LanguageParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(LanguageParameter);

                    DbParameter PackageNameParameter = cmd.CreateParameter();
                    PackageNameParameter.ParameterName = "PackageName";
                    PackageNameParameter.Direction = ParameterDirection.Input;
                    PackageNameParameter.DbType = DbType.String;
                    PackageNameParameter.Size = 200;
                    if (PackageName != null)
                    {
                        PackageNameParameter.Value = PackageName;
                    }
                    else
                    {
                        PackageNameParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(PackageNameParameter);

                    DbParameter PackageVersionParameter = cmd.CreateParameter();
                    PackageVersionParameter.ParameterName = "PackageVersion";
                    PackageVersionParameter.Direction = ParameterDirection.Input;
                    PackageVersionParameter.DbType = DbType.String;
                    PackageVersionParameter.Size = 200;
                    if (PackageVersion != null)
                    {
                        PackageVersionParameter.Value = PackageVersion;
                    }
                    else
                    {
                        PackageVersionParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(PackageVersionParameter);

                    DbParameter ConfigJsonParameter = cmd.CreateParameter();
                    ConfigJsonParameter.ParameterName = "ConfigJson";
                    ConfigJsonParameter.Direction = ParameterDirection.Input;
                    ConfigJsonParameter.DbType = DbType.String;
                    if (ConfigJson != null)
                    {
                        ConfigJsonParameter.Value = ConfigJson;
                    }
                    else
                    {
                        ConfigJsonParameter.Size = -1;
                        ConfigJsonParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(ConfigJsonParameter);

                    DbParameter SnapshotIdParameter = cmd.CreateParameter();
                    SnapshotIdParameter.ParameterName = "SnapshotId";
                    SnapshotIdParameter.Direction = ParameterDirection.InputOutput;
                    SnapshotIdParameter.DbType = DbType.Guid;
                    if (SnapshotId.HasValue)
                    {
                        SnapshotIdParameter.Value = SnapshotId.Value;
                    }
                    else
                    {
                        SnapshotIdParameter.Size = -1;
                        SnapshotIdParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SnapshotIdParameter);
                    await cmd.ExecuteNonQueryAsync();

                    if (cmd.Parameters["SnapshotId"].Value != null && !(cmd.Parameters["SnapshotId"].Value is System.DBNull))
                        SnapshotId = (Guid)Convert.ChangeType(cmd.Parameters["SnapshotId"].Value, typeof(Guid));
                    else
                        SnapshotId = default(Guid);
                }
            }
            finally
            {
                if (needClose)
                    connection.Close();
            }
            return new Tuple<Guid?>(SnapshotId);
        }

        public void SpCreateTruthRun (Guid? SnapshotId, string SchemaVersion, ref Guid? TruthRunId)
        {

            DbConnection connection = this.Database.GetDbConnection();
            bool needClose = false;
            if (connection.State != ConnectionState.Open)
            {
                connection.Open();
                needClose = true;
            }

            try
            {
                using (DbCommand cmd = connection.CreateCommand())
                {
                    if (this.Database.GetCommandTimeout().HasValue)
                        cmd.CommandTimeout = this.Database.GetCommandTimeout().Value;
                    cmd.CommandType = CommandType.StoredProcedure;
                    cmd.CommandText = @"dbo.sp_CreateTruthRun";

                    DbParameter SnapshotIdParameter = cmd.CreateParameter();
                    SnapshotIdParameter.ParameterName = "SnapshotId";
                    SnapshotIdParameter.Direction = ParameterDirection.Input;
                    SnapshotIdParameter.DbType = DbType.Guid;
                    if (SnapshotId.HasValue)
                    {
                        SnapshotIdParameter.Value = SnapshotId.Value;
                    }
                    else
                    {
                        SnapshotIdParameter.Size = -1;
                        SnapshotIdParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SnapshotIdParameter);

                    DbParameter SchemaVersionParameter = cmd.CreateParameter();
                    SchemaVersionParameter.ParameterName = "SchemaVersion";
                    SchemaVersionParameter.Direction = ParameterDirection.Input;
                    SchemaVersionParameter.DbType = DbType.String;
                    SchemaVersionParameter.Size = 200;
                    if (SchemaVersion != null)
                    {
                        SchemaVersionParameter.Value = SchemaVersion;
                    }
                    else
                    {
                        SchemaVersionParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SchemaVersionParameter);

                    DbParameter TruthRunIdParameter = cmd.CreateParameter();
                    TruthRunIdParameter.ParameterName = "TruthRunId";
                    TruthRunIdParameter.Direction = ParameterDirection.InputOutput;
                    TruthRunIdParameter.DbType = DbType.Guid;
                    if (TruthRunId.HasValue)
                    {
                        TruthRunIdParameter.Value = TruthRunId.Value;
                    }
                    else
                    {
                        TruthRunIdParameter.Size = -1;
                        TruthRunIdParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(TruthRunIdParameter);
                    cmd.ExecuteNonQuery();

                    if (cmd.Parameters["TruthRunId"].Value != null && !(cmd.Parameters["TruthRunId"].Value is System.DBNull))
                        TruthRunId = (Guid)Convert.ChangeType(cmd.Parameters["TruthRunId"].Value, typeof(Guid));
                    else
                        TruthRunId = default(Guid);
                }
            }
            finally
            {
                if (needClose)
                    connection.Close();
            }
        }

        public async Task<Tuple<Guid?>> SpCreateTruthRunAsync (Guid? SnapshotId, string SchemaVersion, Guid? TruthRunId)
        {

            DbConnection connection = this.Database.GetDbConnection();
            bool needClose = false;
            if (connection.State != ConnectionState.Open)
            {
                await connection.OpenAsync();
                needClose = true;
            }

            try
            {
                using (DbCommand cmd = connection.CreateCommand())
                {
                    if (this.Database.GetCommandTimeout().HasValue)
                        cmd.CommandTimeout = this.Database.GetCommandTimeout().Value;
                    cmd.CommandType = CommandType.StoredProcedure;
                    cmd.CommandText = @"dbo.sp_CreateTruthRun";

                    DbParameter SnapshotIdParameter = cmd.CreateParameter();
                    SnapshotIdParameter.ParameterName = "SnapshotId";
                    SnapshotIdParameter.Direction = ParameterDirection.Input;
                    SnapshotIdParameter.DbType = DbType.Guid;
                    if (SnapshotId.HasValue)
                    {
                        SnapshotIdParameter.Value = SnapshotId.Value;
                    }
                    else
                    {
                        SnapshotIdParameter.Size = -1;
                        SnapshotIdParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SnapshotIdParameter);

                    DbParameter SchemaVersionParameter = cmd.CreateParameter();
                    SchemaVersionParameter.ParameterName = "SchemaVersion";
                    SchemaVersionParameter.Direction = ParameterDirection.Input;
                    SchemaVersionParameter.DbType = DbType.String;
                    SchemaVersionParameter.Size = 200;
                    if (SchemaVersion != null)
                    {
                        SchemaVersionParameter.Value = SchemaVersion;
                    }
                    else
                    {
                        SchemaVersionParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SchemaVersionParameter);

                    DbParameter TruthRunIdParameter = cmd.CreateParameter();
                    TruthRunIdParameter.ParameterName = "TruthRunId";
                    TruthRunIdParameter.Direction = ParameterDirection.InputOutput;
                    TruthRunIdParameter.DbType = DbType.Guid;
                    if (TruthRunId.HasValue)
                    {
                        TruthRunIdParameter.Value = TruthRunId.Value;
                    }
                    else
                    {
                        TruthRunIdParameter.Size = -1;
                        TruthRunIdParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(TruthRunIdParameter);
                    await cmd.ExecuteNonQueryAsync();

                    if (cmd.Parameters["TruthRunId"].Value != null && !(cmd.Parameters["TruthRunId"].Value is System.DBNull))
                        TruthRunId = (Guid)Convert.ChangeType(cmd.Parameters["TruthRunId"].Value, typeof(Guid));
                    else
                        TruthRunId = default(Guid);
                }
            }
            finally
            {
                if (needClose)
                    connection.Close();
            }
            return new Tuple<Guid?>(TruthRunId);
        }

        public void SpDeleteSemanticIdentity (string Uid)
        {

            DbConnection connection = this.Database.GetDbConnection();
            bool needClose = false;
            if (connection.State != ConnectionState.Open)
            {
                connection.Open();
                needClose = true;
            }

            try
            {
                using (DbCommand cmd = connection.CreateCommand())
                {
                    if (this.Database.GetCommandTimeout().HasValue)
                        cmd.CommandTimeout = this.Database.GetCommandTimeout().Value;
                    cmd.CommandType = CommandType.StoredProcedure;
                    cmd.CommandText = @"dbo.sp_DeleteSemanticIdentity";

                    DbParameter UidParameter = cmd.CreateParameter();
                    UidParameter.ParameterName = "Uid";
                    UidParameter.Direction = ParameterDirection.Input;
                    UidParameter.DbType = DbType.String;
                    UidParameter.Size = 1000;
                    if (Uid != null)
                    {
                        UidParameter.Value = Uid;
                    }
                    else
                    {
                        UidParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(UidParameter);
                    cmd.ExecuteNonQuery();
                }
            }
            finally
            {
                if (needClose)
                    connection.Close();
            }
        }

        public async Task SpDeleteSemanticIdentityAsync (string Uid)
        {

            DbConnection connection = this.Database.GetDbConnection();
            bool needClose = false;
            if (connection.State != ConnectionState.Open)
            {
                await connection.OpenAsync();
                needClose = true;
            }

            try
            {
                using (DbCommand cmd = connection.CreateCommand())
                {
                    if (this.Database.GetCommandTimeout().HasValue)
                        cmd.CommandTimeout = this.Database.GetCommandTimeout().Value;
                    cmd.CommandType = CommandType.StoredProcedure;
                    cmd.CommandText = @"dbo.sp_DeleteSemanticIdentity";

                    DbParameter UidParameter = cmd.CreateParameter();
                    UidParameter.ParameterName = "Uid";
                    UidParameter.Direction = ParameterDirection.Input;
                    UidParameter.DbType = DbType.String;
                    UidParameter.Size = 1000;
                    if (Uid != null)
                    {
                        UidParameter.Value = Uid;
                    }
                    else
                    {
                        UidParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(UidParameter);
                    await cmd.ExecuteNonQueryAsync();
                }
            }
            finally
            {
                if (needClose)
                    connection.Close();
            }
        }

        public void SpEndIngestionRun (Guid? IngestionRunId)
        {

            DbConnection connection = this.Database.GetDbConnection();
            bool needClose = false;
            if (connection.State != ConnectionState.Open)
            {
                connection.Open();
                needClose = true;
            }

            try
            {
                using (DbCommand cmd = connection.CreateCommand())
                {
                    if (this.Database.GetCommandTimeout().HasValue)
                        cmd.CommandTimeout = this.Database.GetCommandTimeout().Value;
                    cmd.CommandType = CommandType.StoredProcedure;
                    cmd.CommandText = @"dbo.sp_EndIngestionRun";

                    DbParameter IngestionRunIdParameter = cmd.CreateParameter();
                    IngestionRunIdParameter.ParameterName = "IngestionRunId";
                    IngestionRunIdParameter.Direction = ParameterDirection.Input;
                    IngestionRunIdParameter.DbType = DbType.Guid;
                    if (IngestionRunId.HasValue)
                    {
                        IngestionRunIdParameter.Value = IngestionRunId.Value;
                    }
                    else
                    {
                        IngestionRunIdParameter.Size = -1;
                        IngestionRunIdParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(IngestionRunIdParameter);
                    cmd.ExecuteNonQuery();
                }
            }
            finally
            {
                if (needClose)
                    connection.Close();
            }
        }

        public async Task SpEndIngestionRunAsync (Guid? IngestionRunId)
        {

            DbConnection connection = this.Database.GetDbConnection();
            bool needClose = false;
            if (connection.State != ConnectionState.Open)
            {
                await connection.OpenAsync();
                needClose = true;
            }

            try
            {
                using (DbCommand cmd = connection.CreateCommand())
                {
                    if (this.Database.GetCommandTimeout().HasValue)
                        cmd.CommandTimeout = this.Database.GetCommandTimeout().Value;
                    cmd.CommandType = CommandType.StoredProcedure;
                    cmd.CommandText = @"dbo.sp_EndIngestionRun";

                    DbParameter IngestionRunIdParameter = cmd.CreateParameter();
                    IngestionRunIdParameter.ParameterName = "IngestionRunId";
                    IngestionRunIdParameter.Direction = ParameterDirection.Input;
                    IngestionRunIdParameter.DbType = DbType.Guid;
                    if (IngestionRunId.HasValue)
                    {
                        IngestionRunIdParameter.Value = IngestionRunId.Value;
                    }
                    else
                    {
                        IngestionRunIdParameter.Size = -1;
                        IngestionRunIdParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(IngestionRunIdParameter);
                    await cmd.ExecuteNonQueryAsync();
                }
            }
            finally
            {
                if (needClose)
                    connection.Close();
            }
        }

        public void SpEnsureSemanticIdentity (string Uid, string Kind, string Notes)
        {

            DbConnection connection = this.Database.GetDbConnection();
            bool needClose = false;
            if (connection.State != ConnectionState.Open)
            {
                connection.Open();
                needClose = true;
            }

            try
            {
                using (DbCommand cmd = connection.CreateCommand())
                {
                    if (this.Database.GetCommandTimeout().HasValue)
                        cmd.CommandTimeout = this.Database.GetCommandTimeout().Value;
                    cmd.CommandType = CommandType.StoredProcedure;
                    cmd.CommandText = @"dbo.sp_EnsureSemanticIdentity";

                    DbParameter UidParameter = cmd.CreateParameter();
                    UidParameter.ParameterName = "Uid";
                    UidParameter.Direction = ParameterDirection.Input;
                    UidParameter.DbType = DbType.String;
                    UidParameter.Size = 1000;
                    if (Uid != null)
                    {
                        UidParameter.Value = Uid;
                    }
                    else
                    {
                        UidParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(UidParameter);

                    DbParameter KindParameter = cmd.CreateParameter();
                    KindParameter.ParameterName = "Kind";
                    KindParameter.Direction = ParameterDirection.Input;
                    KindParameter.DbType = DbType.String;
                    KindParameter.Size = 50;
                    if (Kind != null)
                    {
                        KindParameter.Value = Kind;
                    }
                    else
                    {
                        KindParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(KindParameter);

                    DbParameter NotesParameter = cmd.CreateParameter();
                    NotesParameter.ParameterName = "Notes";
                    NotesParameter.Direction = ParameterDirection.Input;
                    NotesParameter.DbType = DbType.String;
                    if (Notes != null)
                    {
                        NotesParameter.Value = Notes;
                    }
                    else
                    {
                        NotesParameter.Size = -1;
                        NotesParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(NotesParameter);
                    cmd.ExecuteNonQuery();
                }
            }
            finally
            {
                if (needClose)
                    connection.Close();
            }
        }

        public async Task SpEnsureSemanticIdentityAsync (string Uid, string Kind, string Notes)
        {

            DbConnection connection = this.Database.GetDbConnection();
            bool needClose = false;
            if (connection.State != ConnectionState.Open)
            {
                await connection.OpenAsync();
                needClose = true;
            }

            try
            {
                using (DbCommand cmd = connection.CreateCommand())
                {
                    if (this.Database.GetCommandTimeout().HasValue)
                        cmd.CommandTimeout = this.Database.GetCommandTimeout().Value;
                    cmd.CommandType = CommandType.StoredProcedure;
                    cmd.CommandText = @"dbo.sp_EnsureSemanticIdentity";

                    DbParameter UidParameter = cmd.CreateParameter();
                    UidParameter.ParameterName = "Uid";
                    UidParameter.Direction = ParameterDirection.Input;
                    UidParameter.DbType = DbType.String;
                    UidParameter.Size = 1000;
                    if (Uid != null)
                    {
                        UidParameter.Value = Uid;
                    }
                    else
                    {
                        UidParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(UidParameter);

                    DbParameter KindParameter = cmd.CreateParameter();
                    KindParameter.ParameterName = "Kind";
                    KindParameter.Direction = ParameterDirection.Input;
                    KindParameter.DbType = DbType.String;
                    KindParameter.Size = 50;
                    if (Kind != null)
                    {
                        KindParameter.Value = Kind;
                    }
                    else
                    {
                        KindParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(KindParameter);

                    DbParameter NotesParameter = cmd.CreateParameter();
                    NotesParameter.ParameterName = "Notes";
                    NotesParameter.Direction = ParameterDirection.Input;
                    NotesParameter.DbType = DbType.String;
                    if (Notes != null)
                    {
                        NotesParameter.Value = Notes;
                    }
                    else
                    {
                        NotesParameter.Size = -1;
                        NotesParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(NotesParameter);
                    await cmd.ExecuteNonQueryAsync();
                }
            }
            finally
            {
                if (needClose)
                    connection.Close();
            }
        }

        public List<SpGetChangesInIngestionRunResult> SpGetChangesInIngestionRun (Guid? IngestionRunId)
        {

            List<SpGetChangesInIngestionRunResult> result = new List<SpGetChangesInIngestionRunResult>();
            DbConnection connection = this.Database.GetDbConnection();
            bool needClose = false;
            if (connection.State != ConnectionState.Open)
            {
                connection.Open();
                needClose = true;
            }

            try
            {
                using (DbCommand cmd = connection.CreateCommand())
                {
                    if (this.Database.GetCommandTimeout().HasValue)
                        cmd.CommandTimeout = this.Database.GetCommandTimeout().Value;
                    cmd.CommandType = CommandType.StoredProcedure;
                    cmd.CommandText = @"dbo.sp_GetChangesInIngestionRun";

                    DbParameter IngestionRunIdParameter = cmd.CreateParameter();
                    IngestionRunIdParameter.ParameterName = "IngestionRunId";
                    IngestionRunIdParameter.Direction = ParameterDirection.Input;
                    IngestionRunIdParameter.DbType = DbType.Guid;
                    if (IngestionRunId.HasValue)
                    {
                        IngestionRunIdParameter.Value = IngestionRunId.Value;
                    }
                    else
                    {
                        IngestionRunIdParameter.Size = -1;
                        IngestionRunIdParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(IngestionRunIdParameter);
                    using (IDataReader reader = cmd.ExecuteReader())
                    {
                        var fieldNames = Enumerable.Range(0, reader.FieldCount).Select(i => reader.GetName(i)).ToArray();
                        while (reader.Read())
                        {
                            SpGetChangesInIngestionRunResult row = new SpGetChangesInIngestionRunResult();
                            if (fieldNames.Contains("artifact_kind") && !reader.IsDBNull(reader.GetOrdinal(@"artifact_kind")))
                                row.ArtifactKind = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"artifact_kind")), typeof(string));

                            if (fieldNames.Contains("semantic_uid") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid")))
                                row.SemanticUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid")), typeof(string));

                            if (fieldNames.Contains("version_number") && !reader.IsDBNull(reader.GetOrdinal(@"version_number")))
                                row.VersionNumber = (int)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"version_number")), typeof(int));

                            if (fieldNames.Contains("valid_from_utc") && !reader.IsDBNull(reader.GetOrdinal(@"valid_from_utc")))
                                row.ValidFromUtc = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"valid_from_utc")), typeof(System.DateTime));

                            if (fieldNames.Contains("valid_to_utc") && !reader.IsDBNull(reader.GetOrdinal(@"valid_to_utc")))
                                row.ValidToUtc = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"valid_to_utc")), typeof(System.DateTime));
                            else
                                row.ValidToUtc = null;

                            result.Add(row);
                        }
                    }
                }
            }
            finally
            {
                if (needClose)
                    connection.Close();
            }
            return result;
        }

        public async Task<List<SpGetChangesInIngestionRunResult>> SpGetChangesInIngestionRunAsync (Guid? IngestionRunId)
        {

            List<SpGetChangesInIngestionRunResult> result = new List<SpGetChangesInIngestionRunResult>();
            DbConnection connection = this.Database.GetDbConnection();
            bool needClose = false;
            if (connection.State != ConnectionState.Open)
            {
                await connection.OpenAsync();
                needClose = true;
            }

            try
            {
                using (DbCommand cmd = connection.CreateCommand())
                {
                    if (this.Database.GetCommandTimeout().HasValue)
                        cmd.CommandTimeout = this.Database.GetCommandTimeout().Value;
                    cmd.CommandType = CommandType.StoredProcedure;
                    cmd.CommandText = @"dbo.sp_GetChangesInIngestionRun";

                    DbParameter IngestionRunIdParameter = cmd.CreateParameter();
                    IngestionRunIdParameter.ParameterName = "IngestionRunId";
                    IngestionRunIdParameter.Direction = ParameterDirection.Input;
                    IngestionRunIdParameter.DbType = DbType.Guid;
                    if (IngestionRunId.HasValue)
                    {
                        IngestionRunIdParameter.Value = IngestionRunId.Value;
                    }
                    else
                    {
                        IngestionRunIdParameter.Size = -1;
                        IngestionRunIdParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(IngestionRunIdParameter);
                    using (IDataReader reader = await cmd.ExecuteReaderAsync())
                    {
                        var fieldNames = Enumerable.Range(0, reader.FieldCount).Select(i => reader.GetName(i)).ToArray();
                        while (reader.Read())
                        {
                            SpGetChangesInIngestionRunResult row = new SpGetChangesInIngestionRunResult();
                            if (fieldNames.Contains("artifact_kind") && !reader.IsDBNull(reader.GetOrdinal(@"artifact_kind")))
                                row.ArtifactKind = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"artifact_kind")), typeof(string));

                            if (fieldNames.Contains("semantic_uid") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid")))
                                row.SemanticUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid")), typeof(string));

                            if (fieldNames.Contains("version_number") && !reader.IsDBNull(reader.GetOrdinal(@"version_number")))
                                row.VersionNumber = (int)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"version_number")), typeof(int));

                            if (fieldNames.Contains("valid_from_utc") && !reader.IsDBNull(reader.GetOrdinal(@"valid_from_utc")))
                                row.ValidFromUtc = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"valid_from_utc")), typeof(System.DateTime));

                            if (fieldNames.Contains("valid_to_utc") && !reader.IsDBNull(reader.GetOrdinal(@"valid_to_utc")))
                                row.ValidToUtc = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"valid_to_utc")), typeof(System.DateTime));
                            else
                                row.ValidToUtc = null;

                            result.Add(row);
                        }
                    }
                }
            }
            finally
            {
                if (needClose)
                    connection.Close();
            }
            return result;
        }

        public List<DocPage> SpGetDocPageHistory (string SemanticUid)
        {

            List<DocPage> result = new List<DocPage>();
            DbConnection connection = this.Database.GetDbConnection();
            bool needClose = false;
            if (connection.State != ConnectionState.Open)
            {
                connection.Open();
                needClose = true;
            }

            try
            {
                using (DbCommand cmd = connection.CreateCommand())
                {
                    if (this.Database.GetCommandTimeout().HasValue)
                        cmd.CommandTimeout = this.Database.GetCommandTimeout().Value;
                    cmd.CommandType = CommandType.StoredProcedure;
                    cmd.CommandText = @"dbo.sp_GetDocPageHistory";

                    DbParameter SemanticUidParameter = cmd.CreateParameter();
                    SemanticUidParameter.ParameterName = "SemanticUid";
                    SemanticUidParameter.Direction = ParameterDirection.Input;
                    SemanticUidParameter.DbType = DbType.String;
                    SemanticUidParameter.Size = 1000;
                    if (SemanticUid != null)
                    {
                        SemanticUidParameter.Value = SemanticUid;
                    }
                    else
                    {
                        SemanticUidParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SemanticUidParameter);
                    using (IDataReader reader = cmd.ExecuteReader())
                    {
                        var fieldNames = Enumerable.Range(0, reader.FieldCount).Select(i => reader.GetName(i)).ToArray();
                        while (reader.Read())
                        {
                            DocPage row = new DocPage();
                            if (fieldNames.Contains("id") && !reader.IsDBNull(reader.GetOrdinal(@"id")))
                                row.Id = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"id")), typeof(System.Guid));

                            if (fieldNames.Contains("semantic_uid") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid")))
                                row.SemanticUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid")), typeof(string));

                            if (fieldNames.Contains("source_snapshot_id") && !reader.IsDBNull(reader.GetOrdinal(@"source_snapshot_id")))
                                row.SourceSnapshotId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"source_snapshot_id")), typeof(System.Guid));

                            if (fieldNames.Contains("source_path") && !reader.IsDBNull(reader.GetOrdinal(@"source_path")))
                                row.SourcePath = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"source_path")), typeof(string));
                            else
                                row.SourcePath = null;

                            if (fieldNames.Contains("title") && !reader.IsDBNull(reader.GetOrdinal(@"title")))
                                row.Title = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"title")), typeof(string));
                            else
                                row.Title = null;

                            if (fieldNames.Contains("language") && !reader.IsDBNull(reader.GetOrdinal(@"language")))
                                row.Language = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"language")), typeof(string));
                            else
                                row.Language = null;

                            if (fieldNames.Contains("url") && !reader.IsDBNull(reader.GetOrdinal(@"url")))
                                row.Url = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"url")), typeof(string));
                            else
                                row.Url = null;

                            if (fieldNames.Contains("raw_markdown") && !reader.IsDBNull(reader.GetOrdinal(@"raw_markdown")))
                                row.RawMarkdown = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"raw_markdown")), typeof(string));
                            else
                                row.RawMarkdown = null;

                            if (fieldNames.Contains("version_number") && !reader.IsDBNull(reader.GetOrdinal(@"version_number")))
                                row.VersionNumber = (int)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"version_number")), typeof(int));

                            if (fieldNames.Contains("created_ingestion_run_id") && !reader.IsDBNull(reader.GetOrdinal(@"created_ingestion_run_id")))
                                row.CreatedIngestionRunId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"created_ingestion_run_id")), typeof(System.Guid));

                            if (fieldNames.Contains("updated_ingestion_run_id") && !reader.IsDBNull(reader.GetOrdinal(@"updated_ingestion_run_id")))
                                row.UpdatedIngestionRunId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"updated_ingestion_run_id")), typeof(System.Guid));

                            if (fieldNames.Contains("removed_ingestion_run_id") && !reader.IsDBNull(reader.GetOrdinal(@"removed_ingestion_run_id")))
                                row.RemovedIngestionRunId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"removed_ingestion_run_id")), typeof(System.Guid));
                            else
                                row.RemovedIngestionRunId = null;

                            if (fieldNames.Contains("valid_from_utc") && !reader.IsDBNull(reader.GetOrdinal(@"valid_from_utc")))
                                row.ValidFromUtc = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"valid_from_utc")), typeof(System.DateTime));

                            if (fieldNames.Contains("valid_to_utc") && !reader.IsDBNull(reader.GetOrdinal(@"valid_to_utc")))
                                row.ValidToUtc = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"valid_to_utc")), typeof(System.DateTime));
                            else
                                row.ValidToUtc = null;

                            if (fieldNames.Contains("is_active") && !reader.IsDBNull(reader.GetOrdinal(@"is_active")))
                                row.IsActive = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_active")), typeof(bool));

                            if (fieldNames.Contains("content_hash") && !reader.IsDBNull(reader.GetOrdinal(@"content_hash")))
                                row.ContentHash = (byte[])Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"content_hash")), typeof(byte[]));
                            else
                                row.ContentHash = null;

                            if (fieldNames.Contains("semantic_uid_hash") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid_hash")))
                                row.SemanticUidHash = (byte[])Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid_hash")), typeof(byte[]));
                            else
                                row.SemanticUidHash = null;

                            result.Add(row);
                        }
                    }
                }
            }
            finally
            {
                if (needClose)
                    connection.Close();
            }
            return result;
        }

        public async Task<List<DocPage>> SpGetDocPageHistoryAsync (string SemanticUid)
        {

            List<DocPage> result = new List<DocPage>();
            DbConnection connection = this.Database.GetDbConnection();
            bool needClose = false;
            if (connection.State != ConnectionState.Open)
            {
                await connection.OpenAsync();
                needClose = true;
            }

            try
            {
                using (DbCommand cmd = connection.CreateCommand())
                {
                    if (this.Database.GetCommandTimeout().HasValue)
                        cmd.CommandTimeout = this.Database.GetCommandTimeout().Value;
                    cmd.CommandType = CommandType.StoredProcedure;
                    cmd.CommandText = @"dbo.sp_GetDocPageHistory";

                    DbParameter SemanticUidParameter = cmd.CreateParameter();
                    SemanticUidParameter.ParameterName = "SemanticUid";
                    SemanticUidParameter.Direction = ParameterDirection.Input;
                    SemanticUidParameter.DbType = DbType.String;
                    SemanticUidParameter.Size = 1000;
                    if (SemanticUid != null)
                    {
                        SemanticUidParameter.Value = SemanticUid;
                    }
                    else
                    {
                        SemanticUidParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SemanticUidParameter);
                    using (IDataReader reader = await cmd.ExecuteReaderAsync())
                    {
                        var fieldNames = Enumerable.Range(0, reader.FieldCount).Select(i => reader.GetName(i)).ToArray();
                        while (reader.Read())
                        {
                            DocPage row = new DocPage();
                            if (fieldNames.Contains("id") && !reader.IsDBNull(reader.GetOrdinal(@"id")))
                                row.Id = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"id")), typeof(System.Guid));

                            if (fieldNames.Contains("semantic_uid") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid")))
                                row.SemanticUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid")), typeof(string));

                            if (fieldNames.Contains("source_snapshot_id") && !reader.IsDBNull(reader.GetOrdinal(@"source_snapshot_id")))
                                row.SourceSnapshotId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"source_snapshot_id")), typeof(System.Guid));

                            if (fieldNames.Contains("source_path") && !reader.IsDBNull(reader.GetOrdinal(@"source_path")))
                                row.SourcePath = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"source_path")), typeof(string));
                            else
                                row.SourcePath = null;

                            if (fieldNames.Contains("title") && !reader.IsDBNull(reader.GetOrdinal(@"title")))
                                row.Title = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"title")), typeof(string));
                            else
                                row.Title = null;

                            if (fieldNames.Contains("language") && !reader.IsDBNull(reader.GetOrdinal(@"language")))
                                row.Language = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"language")), typeof(string));
                            else
                                row.Language = null;

                            if (fieldNames.Contains("url") && !reader.IsDBNull(reader.GetOrdinal(@"url")))
                                row.Url = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"url")), typeof(string));
                            else
                                row.Url = null;

                            if (fieldNames.Contains("raw_markdown") && !reader.IsDBNull(reader.GetOrdinal(@"raw_markdown")))
                                row.RawMarkdown = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"raw_markdown")), typeof(string));
                            else
                                row.RawMarkdown = null;

                            if (fieldNames.Contains("version_number") && !reader.IsDBNull(reader.GetOrdinal(@"version_number")))
                                row.VersionNumber = (int)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"version_number")), typeof(int));

                            if (fieldNames.Contains("created_ingestion_run_id") && !reader.IsDBNull(reader.GetOrdinal(@"created_ingestion_run_id")))
                                row.CreatedIngestionRunId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"created_ingestion_run_id")), typeof(System.Guid));

                            if (fieldNames.Contains("updated_ingestion_run_id") && !reader.IsDBNull(reader.GetOrdinal(@"updated_ingestion_run_id")))
                                row.UpdatedIngestionRunId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"updated_ingestion_run_id")), typeof(System.Guid));

                            if (fieldNames.Contains("removed_ingestion_run_id") && !reader.IsDBNull(reader.GetOrdinal(@"removed_ingestion_run_id")))
                                row.RemovedIngestionRunId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"removed_ingestion_run_id")), typeof(System.Guid));
                            else
                                row.RemovedIngestionRunId = null;

                            if (fieldNames.Contains("valid_from_utc") && !reader.IsDBNull(reader.GetOrdinal(@"valid_from_utc")))
                                row.ValidFromUtc = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"valid_from_utc")), typeof(System.DateTime));

                            if (fieldNames.Contains("valid_to_utc") && !reader.IsDBNull(reader.GetOrdinal(@"valid_to_utc")))
                                row.ValidToUtc = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"valid_to_utc")), typeof(System.DateTime));
                            else
                                row.ValidToUtc = null;

                            if (fieldNames.Contains("is_active") && !reader.IsDBNull(reader.GetOrdinal(@"is_active")))
                                row.IsActive = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_active")), typeof(bool));

                            if (fieldNames.Contains("content_hash") && !reader.IsDBNull(reader.GetOrdinal(@"content_hash")))
                                row.ContentHash = (byte[])Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"content_hash")), typeof(byte[]));
                            else
                                row.ContentHash = null;

                            if (fieldNames.Contains("semantic_uid_hash") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid_hash")))
                                row.SemanticUidHash = (byte[])Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid_hash")), typeof(byte[]));
                            else
                                row.SemanticUidHash = null;

                            result.Add(row);
                        }
                    }
                }
            }
            finally
            {
                if (needClose)
                    connection.Close();
            }
            return result;
        }

        public List<ApiMember> SpGetMemberHistory (string SemanticUid)
        {

            List<ApiMember> result = new List<ApiMember>();
            DbConnection connection = this.Database.GetDbConnection();
            bool needClose = false;
            if (connection.State != ConnectionState.Open)
            {
                connection.Open();
                needClose = true;
            }

            try
            {
                using (DbCommand cmd = connection.CreateCommand())
                {
                    if (this.Database.GetCommandTimeout().HasValue)
                        cmd.CommandTimeout = this.Database.GetCommandTimeout().Value;
                    cmd.CommandType = CommandType.StoredProcedure;
                    cmd.CommandText = @"dbo.sp_GetMemberHistory";

                    DbParameter SemanticUidParameter = cmd.CreateParameter();
                    SemanticUidParameter.ParameterName = "SemanticUid";
                    SemanticUidParameter.Direction = ParameterDirection.Input;
                    SemanticUidParameter.DbType = DbType.String;
                    SemanticUidParameter.Size = 1000;
                    if (SemanticUid != null)
                    {
                        SemanticUidParameter.Value = SemanticUid;
                    }
                    else
                    {
                        SemanticUidParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SemanticUidParameter);
                    using (IDataReader reader = cmd.ExecuteReader())
                    {
                        var fieldNames = Enumerable.Range(0, reader.FieldCount).Select(i => reader.GetName(i)).ToArray();
                        while (reader.Read())
                        {
                            ApiMember row = new ApiMember();
                            if (fieldNames.Contains("id") && !reader.IsDBNull(reader.GetOrdinal(@"id")))
                                row.Id = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"id")), typeof(System.Guid));

                            if (fieldNames.Contains("semantic_uid") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid")))
                                row.SemanticUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid")), typeof(string));

                            if (fieldNames.Contains("api_feature_id") && !reader.IsDBNull(reader.GetOrdinal(@"api_feature_id")))
                                row.ApiFeatureId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"api_feature_id")), typeof(System.Guid));

                            if (fieldNames.Contains("name") && !reader.IsDBNull(reader.GetOrdinal(@"name")))
                                row.Name = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"name")), typeof(string));
                            else
                                row.Name = null;

                            if (fieldNames.Contains("kind") && !reader.IsDBNull(reader.GetOrdinal(@"kind")))
                                row.Kind = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"kind")), typeof(string));
                            else
                                row.Kind = null;

                            if (fieldNames.Contains("method_kind") && !reader.IsDBNull(reader.GetOrdinal(@"method_kind")))
                                row.MethodKind = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"method_kind")), typeof(string));
                            else
                                row.MethodKind = null;

                            if (fieldNames.Contains("accessibility") && !reader.IsDBNull(reader.GetOrdinal(@"accessibility")))
                                row.Accessibility = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"accessibility")), typeof(string));
                            else
                                row.Accessibility = null;

                            if (fieldNames.Contains("is_static") && !reader.IsDBNull(reader.GetOrdinal(@"is_static")))
                                row.IsStatic = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_static")), typeof(bool));
                            else
                                row.IsStatic = null;

                            if (fieldNames.Contains("is_extension_method") && !reader.IsDBNull(reader.GetOrdinal(@"is_extension_method")))
                                row.IsExtensionMethod = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_extension_method")), typeof(bool));
                            else
                                row.IsExtensionMethod = null;

                            if (fieldNames.Contains("is_async") && !reader.IsDBNull(reader.GetOrdinal(@"is_async")))
                                row.IsAsync = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_async")), typeof(bool));
                            else
                                row.IsAsync = null;

                            if (fieldNames.Contains("is_virtual") && !reader.IsDBNull(reader.GetOrdinal(@"is_virtual")))
                                row.IsVirtual = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_virtual")), typeof(bool));
                            else
                                row.IsVirtual = null;

                            if (fieldNames.Contains("is_override") && !reader.IsDBNull(reader.GetOrdinal(@"is_override")))
                                row.IsOverride = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_override")), typeof(bool));
                            else
                                row.IsOverride = null;

                            if (fieldNames.Contains("is_abstract") && !reader.IsDBNull(reader.GetOrdinal(@"is_abstract")))
                                row.IsAbstract = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_abstract")), typeof(bool));
                            else
                                row.IsAbstract = null;

                            if (fieldNames.Contains("is_sealed") && !reader.IsDBNull(reader.GetOrdinal(@"is_sealed")))
                                row.IsSealed = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_sealed")), typeof(bool));
                            else
                                row.IsSealed = null;

                            if (fieldNames.Contains("is_readonly") && !reader.IsDBNull(reader.GetOrdinal(@"is_readonly")))
                                row.IsReadonly = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_readonly")), typeof(bool));
                            else
                                row.IsReadonly = null;

                            if (fieldNames.Contains("is_const") && !reader.IsDBNull(reader.GetOrdinal(@"is_const")))
                                row.IsConst = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_const")), typeof(bool));
                            else
                                row.IsConst = null;

                            if (fieldNames.Contains("is_unsafe") && !reader.IsDBNull(reader.GetOrdinal(@"is_unsafe")))
                                row.IsUnsafe = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_unsafe")), typeof(bool));
                            else
                                row.IsUnsafe = null;

                            if (fieldNames.Contains("return_type_uid") && !reader.IsDBNull(reader.GetOrdinal(@"return_type_uid")))
                                row.ReturnTypeUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"return_type_uid")), typeof(string));
                            else
                                row.ReturnTypeUid = null;

                            if (fieldNames.Contains("return_nullable") && !reader.IsDBNull(reader.GetOrdinal(@"return_nullable")))
                                row.ReturnNullable = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"return_nullable")), typeof(string));
                            else
                                row.ReturnNullable = null;

                            if (fieldNames.Contains("generic_parameters") && !reader.IsDBNull(reader.GetOrdinal(@"generic_parameters")))
                                row.GenericParameters = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"generic_parameters")), typeof(string));
                            else
                                row.GenericParameters = null;

                            if (fieldNames.Contains("generic_constraints") && !reader.IsDBNull(reader.GetOrdinal(@"generic_constraints")))
                                row.GenericConstraints = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"generic_constraints")), typeof(string));
                            else
                                row.GenericConstraints = null;

                            if (fieldNames.Contains("summary") && !reader.IsDBNull(reader.GetOrdinal(@"summary")))
                                row.Summary = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"summary")), typeof(string));
                            else
                                row.Summary = null;

                            if (fieldNames.Contains("remarks") && !reader.IsDBNull(reader.GetOrdinal(@"remarks")))
                                row.Remarks = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"remarks")), typeof(string));
                            else
                                row.Remarks = null;

                            if (fieldNames.Contains("attributes") && !reader.IsDBNull(reader.GetOrdinal(@"attributes")))
                                row.Attributes = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"attributes")), typeof(string));
                            else
                                row.Attributes = null;

                            if (fieldNames.Contains("source_file_path") && !reader.IsDBNull(reader.GetOrdinal(@"source_file_path")))
                                row.SourceFilePath = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"source_file_path")), typeof(string));
                            else
                                row.SourceFilePath = null;

                            if (fieldNames.Contains("source_start_line") && !reader.IsDBNull(reader.GetOrdinal(@"source_start_line")))
                                row.SourceStartLine = (int)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"source_start_line")), typeof(int));
                            else
                                row.SourceStartLine = null;

                            if (fieldNames.Contains("source_end_line") && !reader.IsDBNull(reader.GetOrdinal(@"source_end_line")))
                                row.SourceEndLine = (int)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"source_end_line")), typeof(int));
                            else
                                row.SourceEndLine = null;

                            if (fieldNames.Contains("member_uid_hash") && !reader.IsDBNull(reader.GetOrdinal(@"member_uid_hash")))
                                row.MemberUidHash = (byte[])Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"member_uid_hash")), typeof(byte[]));
                            else
                                row.MemberUidHash = null;

                            if (fieldNames.Contains("version_number") && !reader.IsDBNull(reader.GetOrdinal(@"version_number")))
                                row.VersionNumber = (int)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"version_number")), typeof(int));

                            if (fieldNames.Contains("created_ingestion_run_id") && !reader.IsDBNull(reader.GetOrdinal(@"created_ingestion_run_id")))
                                row.CreatedIngestionRunId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"created_ingestion_run_id")), typeof(System.Guid));

                            if (fieldNames.Contains("updated_ingestion_run_id") && !reader.IsDBNull(reader.GetOrdinal(@"updated_ingestion_run_id")))
                                row.UpdatedIngestionRunId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"updated_ingestion_run_id")), typeof(System.Guid));
                            else
                                row.UpdatedIngestionRunId = null;

                            if (fieldNames.Contains("removed_ingestion_run_id") && !reader.IsDBNull(reader.GetOrdinal(@"removed_ingestion_run_id")))
                                row.RemovedIngestionRunId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"removed_ingestion_run_id")), typeof(System.Guid));
                            else
                                row.RemovedIngestionRunId = null;

                            if (fieldNames.Contains("valid_from_utc") && !reader.IsDBNull(reader.GetOrdinal(@"valid_from_utc")))
                                row.ValidFromUtc = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"valid_from_utc")), typeof(System.DateTime));

                            if (fieldNames.Contains("valid_to_utc") && !reader.IsDBNull(reader.GetOrdinal(@"valid_to_utc")))
                                row.ValidToUtc = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"valid_to_utc")), typeof(System.DateTime));
                            else
                                row.ValidToUtc = null;

                            if (fieldNames.Contains("is_active") && !reader.IsDBNull(reader.GetOrdinal(@"is_active")))
                                row.IsActive = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_active")), typeof(bool));

                            if (fieldNames.Contains("content_hash") && !reader.IsDBNull(reader.GetOrdinal(@"content_hash")))
                                row.ContentHash = (byte[])Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"content_hash")), typeof(byte[]));
                            else
                                row.ContentHash = null;

                            if (fieldNames.Contains("semantic_uid_hash") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid_hash")))
                                row.SemanticUidHash = (byte[])Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid_hash")), typeof(byte[]));
                            else
                                row.SemanticUidHash = null;

                            result.Add(row);
                        }
                    }
                }
            }
            finally
            {
                if (needClose)
                    connection.Close();
            }
            return result;
        }

        public async Task<List<ApiMember>> SpGetMemberHistoryAsync (string SemanticUid)
        {

            List<ApiMember> result = new List<ApiMember>();
            DbConnection connection = this.Database.GetDbConnection();
            bool needClose = false;
            if (connection.State != ConnectionState.Open)
            {
                await connection.OpenAsync();
                needClose = true;
            }

            try
            {
                using (DbCommand cmd = connection.CreateCommand())
                {
                    if (this.Database.GetCommandTimeout().HasValue)
                        cmd.CommandTimeout = this.Database.GetCommandTimeout().Value;
                    cmd.CommandType = CommandType.StoredProcedure;
                    cmd.CommandText = @"dbo.sp_GetMemberHistory";

                    DbParameter SemanticUidParameter = cmd.CreateParameter();
                    SemanticUidParameter.ParameterName = "SemanticUid";
                    SemanticUidParameter.Direction = ParameterDirection.Input;
                    SemanticUidParameter.DbType = DbType.String;
                    SemanticUidParameter.Size = 1000;
                    if (SemanticUid != null)
                    {
                        SemanticUidParameter.Value = SemanticUid;
                    }
                    else
                    {
                        SemanticUidParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SemanticUidParameter);
                    using (IDataReader reader = await cmd.ExecuteReaderAsync())
                    {
                        var fieldNames = Enumerable.Range(0, reader.FieldCount).Select(i => reader.GetName(i)).ToArray();
                        while (reader.Read())
                        {
                            ApiMember row = new ApiMember();
                            if (fieldNames.Contains("id") && !reader.IsDBNull(reader.GetOrdinal(@"id")))
                                row.Id = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"id")), typeof(System.Guid));

                            if (fieldNames.Contains("semantic_uid") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid")))
                                row.SemanticUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid")), typeof(string));

                            if (fieldNames.Contains("api_feature_id") && !reader.IsDBNull(reader.GetOrdinal(@"api_feature_id")))
                                row.ApiFeatureId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"api_feature_id")), typeof(System.Guid));

                            if (fieldNames.Contains("name") && !reader.IsDBNull(reader.GetOrdinal(@"name")))
                                row.Name = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"name")), typeof(string));
                            else
                                row.Name = null;

                            if (fieldNames.Contains("kind") && !reader.IsDBNull(reader.GetOrdinal(@"kind")))
                                row.Kind = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"kind")), typeof(string));
                            else
                                row.Kind = null;

                            if (fieldNames.Contains("method_kind") && !reader.IsDBNull(reader.GetOrdinal(@"method_kind")))
                                row.MethodKind = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"method_kind")), typeof(string));
                            else
                                row.MethodKind = null;

                            if (fieldNames.Contains("accessibility") && !reader.IsDBNull(reader.GetOrdinal(@"accessibility")))
                                row.Accessibility = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"accessibility")), typeof(string));
                            else
                                row.Accessibility = null;

                            if (fieldNames.Contains("is_static") && !reader.IsDBNull(reader.GetOrdinal(@"is_static")))
                                row.IsStatic = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_static")), typeof(bool));
                            else
                                row.IsStatic = null;

                            if (fieldNames.Contains("is_extension_method") && !reader.IsDBNull(reader.GetOrdinal(@"is_extension_method")))
                                row.IsExtensionMethod = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_extension_method")), typeof(bool));
                            else
                                row.IsExtensionMethod = null;

                            if (fieldNames.Contains("is_async") && !reader.IsDBNull(reader.GetOrdinal(@"is_async")))
                                row.IsAsync = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_async")), typeof(bool));
                            else
                                row.IsAsync = null;

                            if (fieldNames.Contains("is_virtual") && !reader.IsDBNull(reader.GetOrdinal(@"is_virtual")))
                                row.IsVirtual = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_virtual")), typeof(bool));
                            else
                                row.IsVirtual = null;

                            if (fieldNames.Contains("is_override") && !reader.IsDBNull(reader.GetOrdinal(@"is_override")))
                                row.IsOverride = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_override")), typeof(bool));
                            else
                                row.IsOverride = null;

                            if (fieldNames.Contains("is_abstract") && !reader.IsDBNull(reader.GetOrdinal(@"is_abstract")))
                                row.IsAbstract = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_abstract")), typeof(bool));
                            else
                                row.IsAbstract = null;

                            if (fieldNames.Contains("is_sealed") && !reader.IsDBNull(reader.GetOrdinal(@"is_sealed")))
                                row.IsSealed = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_sealed")), typeof(bool));
                            else
                                row.IsSealed = null;

                            if (fieldNames.Contains("is_readonly") && !reader.IsDBNull(reader.GetOrdinal(@"is_readonly")))
                                row.IsReadonly = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_readonly")), typeof(bool));
                            else
                                row.IsReadonly = null;

                            if (fieldNames.Contains("is_const") && !reader.IsDBNull(reader.GetOrdinal(@"is_const")))
                                row.IsConst = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_const")), typeof(bool));
                            else
                                row.IsConst = null;

                            if (fieldNames.Contains("is_unsafe") && !reader.IsDBNull(reader.GetOrdinal(@"is_unsafe")))
                                row.IsUnsafe = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_unsafe")), typeof(bool));
                            else
                                row.IsUnsafe = null;

                            if (fieldNames.Contains("return_type_uid") && !reader.IsDBNull(reader.GetOrdinal(@"return_type_uid")))
                                row.ReturnTypeUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"return_type_uid")), typeof(string));
                            else
                                row.ReturnTypeUid = null;

                            if (fieldNames.Contains("return_nullable") && !reader.IsDBNull(reader.GetOrdinal(@"return_nullable")))
                                row.ReturnNullable = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"return_nullable")), typeof(string));
                            else
                                row.ReturnNullable = null;

                            if (fieldNames.Contains("generic_parameters") && !reader.IsDBNull(reader.GetOrdinal(@"generic_parameters")))
                                row.GenericParameters = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"generic_parameters")), typeof(string));
                            else
                                row.GenericParameters = null;

                            if (fieldNames.Contains("generic_constraints") && !reader.IsDBNull(reader.GetOrdinal(@"generic_constraints")))
                                row.GenericConstraints = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"generic_constraints")), typeof(string));
                            else
                                row.GenericConstraints = null;

                            if (fieldNames.Contains("summary") && !reader.IsDBNull(reader.GetOrdinal(@"summary")))
                                row.Summary = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"summary")), typeof(string));
                            else
                                row.Summary = null;

                            if (fieldNames.Contains("remarks") && !reader.IsDBNull(reader.GetOrdinal(@"remarks")))
                                row.Remarks = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"remarks")), typeof(string));
                            else
                                row.Remarks = null;

                            if (fieldNames.Contains("attributes") && !reader.IsDBNull(reader.GetOrdinal(@"attributes")))
                                row.Attributes = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"attributes")), typeof(string));
                            else
                                row.Attributes = null;

                            if (fieldNames.Contains("source_file_path") && !reader.IsDBNull(reader.GetOrdinal(@"source_file_path")))
                                row.SourceFilePath = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"source_file_path")), typeof(string));
                            else
                                row.SourceFilePath = null;

                            if (fieldNames.Contains("source_start_line") && !reader.IsDBNull(reader.GetOrdinal(@"source_start_line")))
                                row.SourceStartLine = (int)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"source_start_line")), typeof(int));
                            else
                                row.SourceStartLine = null;

                            if (fieldNames.Contains("source_end_line") && !reader.IsDBNull(reader.GetOrdinal(@"source_end_line")))
                                row.SourceEndLine = (int)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"source_end_line")), typeof(int));
                            else
                                row.SourceEndLine = null;

                            if (fieldNames.Contains("member_uid_hash") && !reader.IsDBNull(reader.GetOrdinal(@"member_uid_hash")))
                                row.MemberUidHash = (byte[])Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"member_uid_hash")), typeof(byte[]));
                            else
                                row.MemberUidHash = null;

                            if (fieldNames.Contains("version_number") && !reader.IsDBNull(reader.GetOrdinal(@"version_number")))
                                row.VersionNumber = (int)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"version_number")), typeof(int));

                            if (fieldNames.Contains("created_ingestion_run_id") && !reader.IsDBNull(reader.GetOrdinal(@"created_ingestion_run_id")))
                                row.CreatedIngestionRunId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"created_ingestion_run_id")), typeof(System.Guid));

                            if (fieldNames.Contains("updated_ingestion_run_id") && !reader.IsDBNull(reader.GetOrdinal(@"updated_ingestion_run_id")))
                                row.UpdatedIngestionRunId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"updated_ingestion_run_id")), typeof(System.Guid));
                            else
                                row.UpdatedIngestionRunId = null;

                            if (fieldNames.Contains("removed_ingestion_run_id") && !reader.IsDBNull(reader.GetOrdinal(@"removed_ingestion_run_id")))
                                row.RemovedIngestionRunId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"removed_ingestion_run_id")), typeof(System.Guid));
                            else
                                row.RemovedIngestionRunId = null;

                            if (fieldNames.Contains("valid_from_utc") && !reader.IsDBNull(reader.GetOrdinal(@"valid_from_utc")))
                                row.ValidFromUtc = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"valid_from_utc")), typeof(System.DateTime));

                            if (fieldNames.Contains("valid_to_utc") && !reader.IsDBNull(reader.GetOrdinal(@"valid_to_utc")))
                                row.ValidToUtc = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"valid_to_utc")), typeof(System.DateTime));
                            else
                                row.ValidToUtc = null;

                            if (fieldNames.Contains("is_active") && !reader.IsDBNull(reader.GetOrdinal(@"is_active")))
                                row.IsActive = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_active")), typeof(bool));

                            if (fieldNames.Contains("content_hash") && !reader.IsDBNull(reader.GetOrdinal(@"content_hash")))
                                row.ContentHash = (byte[])Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"content_hash")), typeof(byte[]));
                            else
                                row.ContentHash = null;

                            if (fieldNames.Contains("semantic_uid_hash") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid_hash")))
                                row.SemanticUidHash = (byte[])Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid_hash")), typeof(byte[]));
                            else
                                row.SemanticUidHash = null;

                            result.Add(row);
                        }
                    }
                }
            }
            finally
            {
                if (needClose)
                    connection.Close();
            }
            return result;
        }

        public List<ApiFeature> SpGetSemanticHistory (string SemanticUid)
        {

            List<ApiFeature> result = new List<ApiFeature>();
            DbConnection connection = this.Database.GetDbConnection();
            bool needClose = false;
            if (connection.State != ConnectionState.Open)
            {
                connection.Open();
                needClose = true;
            }

            try
            {
                using (DbCommand cmd = connection.CreateCommand())
                {
                    if (this.Database.GetCommandTimeout().HasValue)
                        cmd.CommandTimeout = this.Database.GetCommandTimeout().Value;
                    cmd.CommandType = CommandType.StoredProcedure;
                    cmd.CommandText = @"dbo.sp_GetSemanticHistory";

                    DbParameter SemanticUidParameter = cmd.CreateParameter();
                    SemanticUidParameter.ParameterName = "SemanticUid";
                    SemanticUidParameter.Direction = ParameterDirection.Input;
                    SemanticUidParameter.DbType = DbType.String;
                    SemanticUidParameter.Size = 1000;
                    if (SemanticUid != null)
                    {
                        SemanticUidParameter.Value = SemanticUid;
                    }
                    else
                    {
                        SemanticUidParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SemanticUidParameter);
                    using (IDataReader reader = cmd.ExecuteReader())
                    {
                        var fieldNames = Enumerable.Range(0, reader.FieldCount).Select(i => reader.GetName(i)).ToArray();
                        while (reader.Read())
                        {
                            ApiFeature row = new ApiFeature();
                            if (fieldNames.Contains("id") && !reader.IsDBNull(reader.GetOrdinal(@"id")))
                                row.Id = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"id")), typeof(System.Guid));

                            if (fieldNames.Contains("api_type_id") && !reader.IsDBNull(reader.GetOrdinal(@"api_type_id")))
                                row.ApiTypeId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"api_type_id")), typeof(System.Guid));
                            else
                                row.ApiTypeId = null;

                            if (fieldNames.Contains("semantic_uid") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid")))
                                row.SemanticUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid")), typeof(string));

                            if (fieldNames.Contains("truth_run_id") && !reader.IsDBNull(reader.GetOrdinal(@"truth_run_id")))
                                row.TruthRunId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"truth_run_id")), typeof(System.Guid));

                            if (fieldNames.Contains("name") && !reader.IsDBNull(reader.GetOrdinal(@"name")))
                                row.Name = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"name")), typeof(string));
                            else
                                row.Name = null;

                            if (fieldNames.Contains("language") && !reader.IsDBNull(reader.GetOrdinal(@"language")))
                                row.Language = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"language")), typeof(string));
                            else
                                row.Language = null;

                            if (fieldNames.Contains("description") && !reader.IsDBNull(reader.GetOrdinal(@"description")))
                                row.Description = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"description")), typeof(string));
                            else
                                row.Description = null;

                            if (fieldNames.Contains("tags") && !reader.IsDBNull(reader.GetOrdinal(@"tags")))
                                row.Tags = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"tags")), typeof(string));
                            else
                                row.Tags = null;

                            if (fieldNames.Contains("version_number") && !reader.IsDBNull(reader.GetOrdinal(@"version_number")))
                                row.VersionNumber = (int)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"version_number")), typeof(int));

                            if (fieldNames.Contains("created_ingestion_run_id") && !reader.IsDBNull(reader.GetOrdinal(@"created_ingestion_run_id")))
                                row.CreatedIngestionRunId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"created_ingestion_run_id")), typeof(System.Guid));

                            if (fieldNames.Contains("updated_ingestion_run_id") && !reader.IsDBNull(reader.GetOrdinal(@"updated_ingestion_run_id")))
                                row.UpdatedIngestionRunId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"updated_ingestion_run_id")), typeof(System.Guid));

                            if (fieldNames.Contains("removed_ingestion_run_id") && !reader.IsDBNull(reader.GetOrdinal(@"removed_ingestion_run_id")))
                                row.RemovedIngestionRunId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"removed_ingestion_run_id")), typeof(System.Guid));
                            else
                                row.RemovedIngestionRunId = null;

                            if (fieldNames.Contains("valid_from_utc") && !reader.IsDBNull(reader.GetOrdinal(@"valid_from_utc")))
                                row.ValidFromUtc = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"valid_from_utc")), typeof(System.DateTime));

                            if (fieldNames.Contains("valid_to_utc") && !reader.IsDBNull(reader.GetOrdinal(@"valid_to_utc")))
                                row.ValidToUtc = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"valid_to_utc")), typeof(System.DateTime));
                            else
                                row.ValidToUtc = null;

                            if (fieldNames.Contains("is_active") && !reader.IsDBNull(reader.GetOrdinal(@"is_active")))
                                row.IsActive = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_active")), typeof(bool));

                            if (fieldNames.Contains("content_hash") && !reader.IsDBNull(reader.GetOrdinal(@"content_hash")))
                                row.ContentHash = (byte[])Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"content_hash")), typeof(byte[]));
                            else
                                row.ContentHash = null;

                            if (fieldNames.Contains("semantic_uid_hash") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid_hash")))
                                row.SemanticUidHash = (byte[])Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid_hash")), typeof(byte[]));
                            else
                                row.SemanticUidHash = null;

                            result.Add(row);
                        }
                    }
                }
            }
            finally
            {
                if (needClose)
                    connection.Close();
            }
            return result;
        }

        public async Task<List<ApiFeature>> SpGetSemanticHistoryAsync (string SemanticUid)
        {

            List<ApiFeature> result = new List<ApiFeature>();
            DbConnection connection = this.Database.GetDbConnection();
            bool needClose = false;
            if (connection.State != ConnectionState.Open)
            {
                await connection.OpenAsync();
                needClose = true;
            }

            try
            {
                using (DbCommand cmd = connection.CreateCommand())
                {
                    if (this.Database.GetCommandTimeout().HasValue)
                        cmd.CommandTimeout = this.Database.GetCommandTimeout().Value;
                    cmd.CommandType = CommandType.StoredProcedure;
                    cmd.CommandText = @"dbo.sp_GetSemanticHistory";

                    DbParameter SemanticUidParameter = cmd.CreateParameter();
                    SemanticUidParameter.ParameterName = "SemanticUid";
                    SemanticUidParameter.Direction = ParameterDirection.Input;
                    SemanticUidParameter.DbType = DbType.String;
                    SemanticUidParameter.Size = 1000;
                    if (SemanticUid != null)
                    {
                        SemanticUidParameter.Value = SemanticUid;
                    }
                    else
                    {
                        SemanticUidParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SemanticUidParameter);
                    using (IDataReader reader = await cmd.ExecuteReaderAsync())
                    {
                        var fieldNames = Enumerable.Range(0, reader.FieldCount).Select(i => reader.GetName(i)).ToArray();
                        while (reader.Read())
                        {
                            ApiFeature row = new ApiFeature();
                            if (fieldNames.Contains("id") && !reader.IsDBNull(reader.GetOrdinal(@"id")))
                                row.Id = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"id")), typeof(System.Guid));

                            if (fieldNames.Contains("api_type_id") && !reader.IsDBNull(reader.GetOrdinal(@"api_type_id")))
                                row.ApiTypeId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"api_type_id")), typeof(System.Guid));
                            else
                                row.ApiTypeId = null;

                            if (fieldNames.Contains("semantic_uid") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid")))
                                row.SemanticUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid")), typeof(string));

                            if (fieldNames.Contains("truth_run_id") && !reader.IsDBNull(reader.GetOrdinal(@"truth_run_id")))
                                row.TruthRunId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"truth_run_id")), typeof(System.Guid));

                            if (fieldNames.Contains("name") && !reader.IsDBNull(reader.GetOrdinal(@"name")))
                                row.Name = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"name")), typeof(string));
                            else
                                row.Name = null;

                            if (fieldNames.Contains("language") && !reader.IsDBNull(reader.GetOrdinal(@"language")))
                                row.Language = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"language")), typeof(string));
                            else
                                row.Language = null;

                            if (fieldNames.Contains("description") && !reader.IsDBNull(reader.GetOrdinal(@"description")))
                                row.Description = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"description")), typeof(string));
                            else
                                row.Description = null;

                            if (fieldNames.Contains("tags") && !reader.IsDBNull(reader.GetOrdinal(@"tags")))
                                row.Tags = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"tags")), typeof(string));
                            else
                                row.Tags = null;

                            if (fieldNames.Contains("version_number") && !reader.IsDBNull(reader.GetOrdinal(@"version_number")))
                                row.VersionNumber = (int)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"version_number")), typeof(int));

                            if (fieldNames.Contains("created_ingestion_run_id") && !reader.IsDBNull(reader.GetOrdinal(@"created_ingestion_run_id")))
                                row.CreatedIngestionRunId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"created_ingestion_run_id")), typeof(System.Guid));

                            if (fieldNames.Contains("updated_ingestion_run_id") && !reader.IsDBNull(reader.GetOrdinal(@"updated_ingestion_run_id")))
                                row.UpdatedIngestionRunId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"updated_ingestion_run_id")), typeof(System.Guid));

                            if (fieldNames.Contains("removed_ingestion_run_id") && !reader.IsDBNull(reader.GetOrdinal(@"removed_ingestion_run_id")))
                                row.RemovedIngestionRunId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"removed_ingestion_run_id")), typeof(System.Guid));
                            else
                                row.RemovedIngestionRunId = null;

                            if (fieldNames.Contains("valid_from_utc") && !reader.IsDBNull(reader.GetOrdinal(@"valid_from_utc")))
                                row.ValidFromUtc = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"valid_from_utc")), typeof(System.DateTime));

                            if (fieldNames.Contains("valid_to_utc") && !reader.IsDBNull(reader.GetOrdinal(@"valid_to_utc")))
                                row.ValidToUtc = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"valid_to_utc")), typeof(System.DateTime));
                            else
                                row.ValidToUtc = null;

                            if (fieldNames.Contains("is_active") && !reader.IsDBNull(reader.GetOrdinal(@"is_active")))
                                row.IsActive = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_active")), typeof(bool));

                            if (fieldNames.Contains("content_hash") && !reader.IsDBNull(reader.GetOrdinal(@"content_hash")))
                                row.ContentHash = (byte[])Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"content_hash")), typeof(byte[]));
                            else
                                row.ContentHash = null;

                            if (fieldNames.Contains("semantic_uid_hash") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid_hash")))
                                row.SemanticUidHash = (byte[])Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid_hash")), typeof(byte[]));
                            else
                                row.SemanticUidHash = null;

                            result.Add(row);
                        }
                    }
                }
            }
            finally
            {
                if (needClose)
                    connection.Close();
            }
            return result;
        }

        public List<ApiType> SpGetTypeHistory (string SemanticUid)
        {

            List<ApiType> result = new List<ApiType>();
            DbConnection connection = this.Database.GetDbConnection();
            bool needClose = false;
            if (connection.State != ConnectionState.Open)
            {
                connection.Open();
                needClose = true;
            }

            try
            {
                using (DbCommand cmd = connection.CreateCommand())
                {
                    if (this.Database.GetCommandTimeout().HasValue)
                        cmd.CommandTimeout = this.Database.GetCommandTimeout().Value;
                    cmd.CommandType = CommandType.StoredProcedure;
                    cmd.CommandText = @"dbo.sp_GetTypeHistory";

                    DbParameter SemanticUidParameter = cmd.CreateParameter();
                    SemanticUidParameter.ParameterName = "SemanticUid";
                    SemanticUidParameter.Direction = ParameterDirection.Input;
                    SemanticUidParameter.DbType = DbType.String;
                    SemanticUidParameter.Size = 1000;
                    if (SemanticUid != null)
                    {
                        SemanticUidParameter.Value = SemanticUid;
                    }
                    else
                    {
                        SemanticUidParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SemanticUidParameter);
                    using (IDataReader reader = cmd.ExecuteReader())
                    {
                        var fieldNames = Enumerable.Range(0, reader.FieldCount).Select(i => reader.GetName(i)).ToArray();
                        while (reader.Read())
                        {
                            ApiType row = new ApiType();
                            if (fieldNames.Contains("id") && !reader.IsDBNull(reader.GetOrdinal(@"id")))
                                row.Id = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"id")), typeof(System.Guid));

                            if (fieldNames.Contains("semantic_uid") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid")))
                                row.SemanticUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid")), typeof(string));

                            if (fieldNames.Contains("source_snapshot_id") && !reader.IsDBNull(reader.GetOrdinal(@"source_snapshot_id")))
                                row.SourceSnapshotId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"source_snapshot_id")), typeof(System.Guid));

                            if (fieldNames.Contains("name") && !reader.IsDBNull(reader.GetOrdinal(@"name")))
                                row.Name = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"name")), typeof(string));
                            else
                                row.Name = null;

                            if (fieldNames.Contains("namespace_path") && !reader.IsDBNull(reader.GetOrdinal(@"namespace_path")))
                                row.NamespacePath = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"namespace_path")), typeof(string));
                            else
                                row.NamespacePath = null;

                            if (fieldNames.Contains("kind") && !reader.IsDBNull(reader.GetOrdinal(@"kind")))
                                row.Kind = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"kind")), typeof(string));
                            else
                                row.Kind = null;

                            if (fieldNames.Contains("accessibility") && !reader.IsDBNull(reader.GetOrdinal(@"accessibility")))
                                row.Accessibility = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"accessibility")), typeof(string));
                            else
                                row.Accessibility = null;

                            if (fieldNames.Contains("is_static") && !reader.IsDBNull(reader.GetOrdinal(@"is_static")))
                                row.IsStatic = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_static")), typeof(bool));
                            else
                                row.IsStatic = null;

                            if (fieldNames.Contains("is_generic") && !reader.IsDBNull(reader.GetOrdinal(@"is_generic")))
                                row.IsGeneric = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_generic")), typeof(bool));
                            else
                                row.IsGeneric = null;

                            if (fieldNames.Contains("is_abstract") && !reader.IsDBNull(reader.GetOrdinal(@"is_abstract")))
                                row.IsAbstract = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_abstract")), typeof(bool));
                            else
                                row.IsAbstract = null;

                            if (fieldNames.Contains("is_sealed") && !reader.IsDBNull(reader.GetOrdinal(@"is_sealed")))
                                row.IsSealed = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_sealed")), typeof(bool));
                            else
                                row.IsSealed = null;

                            if (fieldNames.Contains("is_record") && !reader.IsDBNull(reader.GetOrdinal(@"is_record")))
                                row.IsRecord = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_record")), typeof(bool));
                            else
                                row.IsRecord = null;

                            if (fieldNames.Contains("is_ref_like") && !reader.IsDBNull(reader.GetOrdinal(@"is_ref_like")))
                                row.IsRefLike = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_ref_like")), typeof(bool));
                            else
                                row.IsRefLike = null;

                            if (fieldNames.Contains("base_type_uid") && !reader.IsDBNull(reader.GetOrdinal(@"base_type_uid")))
                                row.BaseTypeUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"base_type_uid")), typeof(string));
                            else
                                row.BaseTypeUid = null;

                            if (fieldNames.Contains("interfaces") && !reader.IsDBNull(reader.GetOrdinal(@"interfaces")))
                                row.Interfaces = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"interfaces")), typeof(string));
                            else
                                row.Interfaces = null;

                            if (fieldNames.Contains("containing_type_uid") && !reader.IsDBNull(reader.GetOrdinal(@"containing_type_uid")))
                                row.ContainingTypeUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"containing_type_uid")), typeof(string));
                            else
                                row.ContainingTypeUid = null;

                            if (fieldNames.Contains("generic_parameters") && !reader.IsDBNull(reader.GetOrdinal(@"generic_parameters")))
                                row.GenericParameters = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"generic_parameters")), typeof(string));
                            else
                                row.GenericParameters = null;

                            if (fieldNames.Contains("generic_constraints") && !reader.IsDBNull(reader.GetOrdinal(@"generic_constraints")))
                                row.GenericConstraints = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"generic_constraints")), typeof(string));
                            else
                                row.GenericConstraints = null;

                            if (fieldNames.Contains("summary") && !reader.IsDBNull(reader.GetOrdinal(@"summary")))
                                row.Summary = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"summary")), typeof(string));
                            else
                                row.Summary = null;

                            if (fieldNames.Contains("remarks") && !reader.IsDBNull(reader.GetOrdinal(@"remarks")))
                                row.Remarks = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"remarks")), typeof(string));
                            else
                                row.Remarks = null;

                            if (fieldNames.Contains("attributes") && !reader.IsDBNull(reader.GetOrdinal(@"attributes")))
                                row.Attributes = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"attributes")), typeof(string));
                            else
                                row.Attributes = null;

                            if (fieldNames.Contains("source_file_path") && !reader.IsDBNull(reader.GetOrdinal(@"source_file_path")))
                                row.SourceFilePath = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"source_file_path")), typeof(string));
                            else
                                row.SourceFilePath = null;

                            if (fieldNames.Contains("source_start_line") && !reader.IsDBNull(reader.GetOrdinal(@"source_start_line")))
                                row.SourceStartLine = (int)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"source_start_line")), typeof(int));
                            else
                                row.SourceStartLine = null;

                            if (fieldNames.Contains("source_end_line") && !reader.IsDBNull(reader.GetOrdinal(@"source_end_line")))
                                row.SourceEndLine = (int)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"source_end_line")), typeof(int));
                            else
                                row.SourceEndLine = null;

                            if (fieldNames.Contains("version_number") && !reader.IsDBNull(reader.GetOrdinal(@"version_number")))
                                row.VersionNumber = (int)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"version_number")), typeof(int));

                            if (fieldNames.Contains("created_ingestion_run_id") && !reader.IsDBNull(reader.GetOrdinal(@"created_ingestion_run_id")))
                                row.CreatedIngestionRunId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"created_ingestion_run_id")), typeof(System.Guid));

                            if (fieldNames.Contains("updated_ingestion_run_id") && !reader.IsDBNull(reader.GetOrdinal(@"updated_ingestion_run_id")))
                                row.UpdatedIngestionRunId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"updated_ingestion_run_id")), typeof(System.Guid));

                            if (fieldNames.Contains("removed_ingestion_run_id") && !reader.IsDBNull(reader.GetOrdinal(@"removed_ingestion_run_id")))
                                row.RemovedIngestionRunId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"removed_ingestion_run_id")), typeof(System.Guid));
                            else
                                row.RemovedIngestionRunId = null;

                            if (fieldNames.Contains("valid_from_utc") && !reader.IsDBNull(reader.GetOrdinal(@"valid_from_utc")))
                                row.ValidFromUtc = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"valid_from_utc")), typeof(System.DateTime));

                            if (fieldNames.Contains("valid_to_utc") && !reader.IsDBNull(reader.GetOrdinal(@"valid_to_utc")))
                                row.ValidToUtc = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"valid_to_utc")), typeof(System.DateTime));
                            else
                                row.ValidToUtc = null;

                            if (fieldNames.Contains("is_active") && !reader.IsDBNull(reader.GetOrdinal(@"is_active")))
                                row.IsActive = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_active")), typeof(bool));

                            if (fieldNames.Contains("content_hash") && !reader.IsDBNull(reader.GetOrdinal(@"content_hash")))
                                row.ContentHash = (byte[])Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"content_hash")), typeof(byte[]));
                            else
                                row.ContentHash = null;

                            if (fieldNames.Contains("semantic_uid_hash") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid_hash")))
                                row.SemanticUidHash = (byte[])Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid_hash")), typeof(byte[]));
                            else
                                row.SemanticUidHash = null;

                            result.Add(row);
                        }
                    }
                }
            }
            finally
            {
                if (needClose)
                    connection.Close();
            }
            return result;
        }

        public async Task<List<ApiType>> SpGetTypeHistoryAsync (string SemanticUid)
        {

            List<ApiType> result = new List<ApiType>();
            DbConnection connection = this.Database.GetDbConnection();
            bool needClose = false;
            if (connection.State != ConnectionState.Open)
            {
                await connection.OpenAsync();
                needClose = true;
            }

            try
            {
                using (DbCommand cmd = connection.CreateCommand())
                {
                    if (this.Database.GetCommandTimeout().HasValue)
                        cmd.CommandTimeout = this.Database.GetCommandTimeout().Value;
                    cmd.CommandType = CommandType.StoredProcedure;
                    cmd.CommandText = @"dbo.sp_GetTypeHistory";

                    DbParameter SemanticUidParameter = cmd.CreateParameter();
                    SemanticUidParameter.ParameterName = "SemanticUid";
                    SemanticUidParameter.Direction = ParameterDirection.Input;
                    SemanticUidParameter.DbType = DbType.String;
                    SemanticUidParameter.Size = 1000;
                    if (SemanticUid != null)
                    {
                        SemanticUidParameter.Value = SemanticUid;
                    }
                    else
                    {
                        SemanticUidParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SemanticUidParameter);
                    using (IDataReader reader = await cmd.ExecuteReaderAsync())
                    {
                        var fieldNames = Enumerable.Range(0, reader.FieldCount).Select(i => reader.GetName(i)).ToArray();
                        while (reader.Read())
                        {
                            ApiType row = new ApiType();
                            if (fieldNames.Contains("id") && !reader.IsDBNull(reader.GetOrdinal(@"id")))
                                row.Id = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"id")), typeof(System.Guid));

                            if (fieldNames.Contains("semantic_uid") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid")))
                                row.SemanticUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid")), typeof(string));

                            if (fieldNames.Contains("source_snapshot_id") && !reader.IsDBNull(reader.GetOrdinal(@"source_snapshot_id")))
                                row.SourceSnapshotId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"source_snapshot_id")), typeof(System.Guid));

                            if (fieldNames.Contains("name") && !reader.IsDBNull(reader.GetOrdinal(@"name")))
                                row.Name = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"name")), typeof(string));
                            else
                                row.Name = null;

                            if (fieldNames.Contains("namespace_path") && !reader.IsDBNull(reader.GetOrdinal(@"namespace_path")))
                                row.NamespacePath = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"namespace_path")), typeof(string));
                            else
                                row.NamespacePath = null;

                            if (fieldNames.Contains("kind") && !reader.IsDBNull(reader.GetOrdinal(@"kind")))
                                row.Kind = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"kind")), typeof(string));
                            else
                                row.Kind = null;

                            if (fieldNames.Contains("accessibility") && !reader.IsDBNull(reader.GetOrdinal(@"accessibility")))
                                row.Accessibility = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"accessibility")), typeof(string));
                            else
                                row.Accessibility = null;

                            if (fieldNames.Contains("is_static") && !reader.IsDBNull(reader.GetOrdinal(@"is_static")))
                                row.IsStatic = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_static")), typeof(bool));
                            else
                                row.IsStatic = null;

                            if (fieldNames.Contains("is_generic") && !reader.IsDBNull(reader.GetOrdinal(@"is_generic")))
                                row.IsGeneric = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_generic")), typeof(bool));
                            else
                                row.IsGeneric = null;

                            if (fieldNames.Contains("is_abstract") && !reader.IsDBNull(reader.GetOrdinal(@"is_abstract")))
                                row.IsAbstract = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_abstract")), typeof(bool));
                            else
                                row.IsAbstract = null;

                            if (fieldNames.Contains("is_sealed") && !reader.IsDBNull(reader.GetOrdinal(@"is_sealed")))
                                row.IsSealed = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_sealed")), typeof(bool));
                            else
                                row.IsSealed = null;

                            if (fieldNames.Contains("is_record") && !reader.IsDBNull(reader.GetOrdinal(@"is_record")))
                                row.IsRecord = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_record")), typeof(bool));
                            else
                                row.IsRecord = null;

                            if (fieldNames.Contains("is_ref_like") && !reader.IsDBNull(reader.GetOrdinal(@"is_ref_like")))
                                row.IsRefLike = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_ref_like")), typeof(bool));
                            else
                                row.IsRefLike = null;

                            if (fieldNames.Contains("base_type_uid") && !reader.IsDBNull(reader.GetOrdinal(@"base_type_uid")))
                                row.BaseTypeUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"base_type_uid")), typeof(string));
                            else
                                row.BaseTypeUid = null;

                            if (fieldNames.Contains("interfaces") && !reader.IsDBNull(reader.GetOrdinal(@"interfaces")))
                                row.Interfaces = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"interfaces")), typeof(string));
                            else
                                row.Interfaces = null;

                            if (fieldNames.Contains("containing_type_uid") && !reader.IsDBNull(reader.GetOrdinal(@"containing_type_uid")))
                                row.ContainingTypeUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"containing_type_uid")), typeof(string));
                            else
                                row.ContainingTypeUid = null;

                            if (fieldNames.Contains("generic_parameters") && !reader.IsDBNull(reader.GetOrdinal(@"generic_parameters")))
                                row.GenericParameters = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"generic_parameters")), typeof(string));
                            else
                                row.GenericParameters = null;

                            if (fieldNames.Contains("generic_constraints") && !reader.IsDBNull(reader.GetOrdinal(@"generic_constraints")))
                                row.GenericConstraints = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"generic_constraints")), typeof(string));
                            else
                                row.GenericConstraints = null;

                            if (fieldNames.Contains("summary") && !reader.IsDBNull(reader.GetOrdinal(@"summary")))
                                row.Summary = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"summary")), typeof(string));
                            else
                                row.Summary = null;

                            if (fieldNames.Contains("remarks") && !reader.IsDBNull(reader.GetOrdinal(@"remarks")))
                                row.Remarks = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"remarks")), typeof(string));
                            else
                                row.Remarks = null;

                            if (fieldNames.Contains("attributes") && !reader.IsDBNull(reader.GetOrdinal(@"attributes")))
                                row.Attributes = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"attributes")), typeof(string));
                            else
                                row.Attributes = null;

                            if (fieldNames.Contains("source_file_path") && !reader.IsDBNull(reader.GetOrdinal(@"source_file_path")))
                                row.SourceFilePath = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"source_file_path")), typeof(string));
                            else
                                row.SourceFilePath = null;

                            if (fieldNames.Contains("source_start_line") && !reader.IsDBNull(reader.GetOrdinal(@"source_start_line")))
                                row.SourceStartLine = (int)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"source_start_line")), typeof(int));
                            else
                                row.SourceStartLine = null;

                            if (fieldNames.Contains("source_end_line") && !reader.IsDBNull(reader.GetOrdinal(@"source_end_line")))
                                row.SourceEndLine = (int)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"source_end_line")), typeof(int));
                            else
                                row.SourceEndLine = null;

                            if (fieldNames.Contains("version_number") && !reader.IsDBNull(reader.GetOrdinal(@"version_number")))
                                row.VersionNumber = (int)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"version_number")), typeof(int));

                            if (fieldNames.Contains("created_ingestion_run_id") && !reader.IsDBNull(reader.GetOrdinal(@"created_ingestion_run_id")))
                                row.CreatedIngestionRunId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"created_ingestion_run_id")), typeof(System.Guid));

                            if (fieldNames.Contains("updated_ingestion_run_id") && !reader.IsDBNull(reader.GetOrdinal(@"updated_ingestion_run_id")))
                                row.UpdatedIngestionRunId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"updated_ingestion_run_id")), typeof(System.Guid));

                            if (fieldNames.Contains("removed_ingestion_run_id") && !reader.IsDBNull(reader.GetOrdinal(@"removed_ingestion_run_id")))
                                row.RemovedIngestionRunId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"removed_ingestion_run_id")), typeof(System.Guid));
                            else
                                row.RemovedIngestionRunId = null;

                            if (fieldNames.Contains("valid_from_utc") && !reader.IsDBNull(reader.GetOrdinal(@"valid_from_utc")))
                                row.ValidFromUtc = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"valid_from_utc")), typeof(System.DateTime));

                            if (fieldNames.Contains("valid_to_utc") && !reader.IsDBNull(reader.GetOrdinal(@"valid_to_utc")))
                                row.ValidToUtc = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"valid_to_utc")), typeof(System.DateTime));
                            else
                                row.ValidToUtc = null;

                            if (fieldNames.Contains("is_active") && !reader.IsDBNull(reader.GetOrdinal(@"is_active")))
                                row.IsActive = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_active")), typeof(bool));

                            if (fieldNames.Contains("content_hash") && !reader.IsDBNull(reader.GetOrdinal(@"content_hash")))
                                row.ContentHash = (byte[])Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"content_hash")), typeof(byte[]));
                            else
                                row.ContentHash = null;

                            if (fieldNames.Contains("semantic_uid_hash") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid_hash")))
                                row.SemanticUidHash = (byte[])Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid_hash")), typeof(byte[]));
                            else
                                row.SemanticUidHash = null;

                            result.Add(row);
                        }
                    }
                }
            }
            finally
            {
                if (needClose)
                    connection.Close();
            }
            return result;
        }

        public void SpRegisterSemanticIdentity (string Uid, string Kind, string Notes)
        {

            DbConnection connection = this.Database.GetDbConnection();
            bool needClose = false;
            if (connection.State != ConnectionState.Open)
            {
                connection.Open();
                needClose = true;
            }

            try
            {
                using (DbCommand cmd = connection.CreateCommand())
                {
                    if (this.Database.GetCommandTimeout().HasValue)
                        cmd.CommandTimeout = this.Database.GetCommandTimeout().Value;
                    cmd.CommandType = CommandType.StoredProcedure;
                    cmd.CommandText = @"dbo.sp_RegisterSemanticIdentity";

                    DbParameter UidParameter = cmd.CreateParameter();
                    UidParameter.ParameterName = "Uid";
                    UidParameter.Direction = ParameterDirection.Input;
                    UidParameter.DbType = DbType.String;
                    UidParameter.Size = 1000;
                    if (Uid != null)
                    {
                        UidParameter.Value = Uid;
                    }
                    else
                    {
                        UidParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(UidParameter);

                    DbParameter KindParameter = cmd.CreateParameter();
                    KindParameter.ParameterName = "Kind";
                    KindParameter.Direction = ParameterDirection.Input;
                    KindParameter.DbType = DbType.String;
                    KindParameter.Size = 50;
                    if (Kind != null)
                    {
                        KindParameter.Value = Kind;
                    }
                    else
                    {
                        KindParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(KindParameter);

                    DbParameter NotesParameter = cmd.CreateParameter();
                    NotesParameter.ParameterName = "Notes";
                    NotesParameter.Direction = ParameterDirection.Input;
                    NotesParameter.DbType = DbType.String;
                    if (Notes != null)
                    {
                        NotesParameter.Value = Notes;
                    }
                    else
                    {
                        NotesParameter.Size = -1;
                        NotesParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(NotesParameter);
                    cmd.ExecuteNonQuery();
                }
            }
            finally
            {
                if (needClose)
                    connection.Close();
            }
        }

        public async Task SpRegisterSemanticIdentityAsync (string Uid, string Kind, string Notes)
        {

            DbConnection connection = this.Database.GetDbConnection();
            bool needClose = false;
            if (connection.State != ConnectionState.Open)
            {
                await connection.OpenAsync();
                needClose = true;
            }

            try
            {
                using (DbCommand cmd = connection.CreateCommand())
                {
                    if (this.Database.GetCommandTimeout().HasValue)
                        cmd.CommandTimeout = this.Database.GetCommandTimeout().Value;
                    cmd.CommandType = CommandType.StoredProcedure;
                    cmd.CommandText = @"dbo.sp_RegisterSemanticIdentity";

                    DbParameter UidParameter = cmd.CreateParameter();
                    UidParameter.ParameterName = "Uid";
                    UidParameter.Direction = ParameterDirection.Input;
                    UidParameter.DbType = DbType.String;
                    UidParameter.Size = 1000;
                    if (Uid != null)
                    {
                        UidParameter.Value = Uid;
                    }
                    else
                    {
                        UidParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(UidParameter);

                    DbParameter KindParameter = cmd.CreateParameter();
                    KindParameter.ParameterName = "Kind";
                    KindParameter.Direction = ParameterDirection.Input;
                    KindParameter.DbType = DbType.String;
                    KindParameter.Size = 50;
                    if (Kind != null)
                    {
                        KindParameter.Value = Kind;
                    }
                    else
                    {
                        KindParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(KindParameter);

                    DbParameter NotesParameter = cmd.CreateParameter();
                    NotesParameter.ParameterName = "Notes";
                    NotesParameter.Direction = ParameterDirection.Input;
                    NotesParameter.DbType = DbType.String;
                    if (Notes != null)
                    {
                        NotesParameter.Value = Notes;
                    }
                    else
                    {
                        NotesParameter.Size = -1;
                        NotesParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(NotesParameter);
                    await cmd.ExecuteNonQueryAsync();
                }
            }
            finally
            {
                if (needClose)
                    connection.Close();
            }
        }

        public void SpUpsertApiFeature (string SemanticUid, Guid? TruthRunId, Guid? IngestionRunId, string Name, string Language, string Description, string Tags)
        {

            DbConnection connection = this.Database.GetDbConnection();
            bool needClose = false;
            if (connection.State != ConnectionState.Open)
            {
                connection.Open();
                needClose = true;
            }

            try
            {
                using (DbCommand cmd = connection.CreateCommand())
                {
                    if (this.Database.GetCommandTimeout().HasValue)
                        cmd.CommandTimeout = this.Database.GetCommandTimeout().Value;
                    cmd.CommandType = CommandType.StoredProcedure;
                    cmd.CommandText = @"dbo.sp_UpsertApiFeature";

                    DbParameter SemanticUidParameter = cmd.CreateParameter();
                    SemanticUidParameter.ParameterName = "SemanticUid";
                    SemanticUidParameter.Direction = ParameterDirection.Input;
                    SemanticUidParameter.DbType = DbType.String;
                    SemanticUidParameter.Size = 1000;
                    if (SemanticUid != null)
                    {
                        SemanticUidParameter.Value = SemanticUid;
                    }
                    else
                    {
                        SemanticUidParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SemanticUidParameter);

                    DbParameter TruthRunIdParameter = cmd.CreateParameter();
                    TruthRunIdParameter.ParameterName = "TruthRunId";
                    TruthRunIdParameter.Direction = ParameterDirection.Input;
                    TruthRunIdParameter.DbType = DbType.Guid;
                    if (TruthRunId.HasValue)
                    {
                        TruthRunIdParameter.Value = TruthRunId.Value;
                    }
                    else
                    {
                        TruthRunIdParameter.Size = -1;
                        TruthRunIdParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(TruthRunIdParameter);

                    DbParameter IngestionRunIdParameter = cmd.CreateParameter();
                    IngestionRunIdParameter.ParameterName = "IngestionRunId";
                    IngestionRunIdParameter.Direction = ParameterDirection.Input;
                    IngestionRunIdParameter.DbType = DbType.Guid;
                    if (IngestionRunId.HasValue)
                    {
                        IngestionRunIdParameter.Value = IngestionRunId.Value;
                    }
                    else
                    {
                        IngestionRunIdParameter.Size = -1;
                        IngestionRunIdParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(IngestionRunIdParameter);

                    DbParameter NameParameter = cmd.CreateParameter();
                    NameParameter.ParameterName = "Name";
                    NameParameter.Direction = ParameterDirection.Input;
                    NameParameter.DbType = DbType.String;
                    NameParameter.Size = 400;
                    if (Name != null)
                    {
                        NameParameter.Value = Name;
                    }
                    else
                    {
                        NameParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(NameParameter);

                    DbParameter LanguageParameter = cmd.CreateParameter();
                    LanguageParameter.ParameterName = "Language";
                    LanguageParameter.Direction = ParameterDirection.Input;
                    LanguageParameter.DbType = DbType.String;
                    LanguageParameter.Size = 200;
                    if (Language != null)
                    {
                        LanguageParameter.Value = Language;
                    }
                    else
                    {
                        LanguageParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(LanguageParameter);

                    DbParameter DescriptionParameter = cmd.CreateParameter();
                    DescriptionParameter.ParameterName = "Description";
                    DescriptionParameter.Direction = ParameterDirection.Input;
                    DescriptionParameter.DbType = DbType.String;
                    if (Description != null)
                    {
                        DescriptionParameter.Value = Description;
                    }
                    else
                    {
                        DescriptionParameter.Size = -1;
                        DescriptionParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(DescriptionParameter);

                    DbParameter TagsParameter = cmd.CreateParameter();
                    TagsParameter.ParameterName = "Tags";
                    TagsParameter.Direction = ParameterDirection.Input;
                    TagsParameter.DbType = DbType.String;
                    if (Tags != null)
                    {
                        TagsParameter.Value = Tags;
                    }
                    else
                    {
                        TagsParameter.Size = -1;
                        TagsParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(TagsParameter);
                    cmd.ExecuteNonQuery();
                }
            }
            finally
            {
                if (needClose)
                    connection.Close();
            }
        }

        public async Task SpUpsertApiFeatureAsync (string SemanticUid, Guid? TruthRunId, Guid? IngestionRunId, string Name, string Language, string Description, string Tags)
        {

            DbConnection connection = this.Database.GetDbConnection();
            bool needClose = false;
            if (connection.State != ConnectionState.Open)
            {
                await connection.OpenAsync();
                needClose = true;
            }

            try
            {
                using (DbCommand cmd = connection.CreateCommand())
                {
                    if (this.Database.GetCommandTimeout().HasValue)
                        cmd.CommandTimeout = this.Database.GetCommandTimeout().Value;
                    cmd.CommandType = CommandType.StoredProcedure;
                    cmd.CommandText = @"dbo.sp_UpsertApiFeature";

                    DbParameter SemanticUidParameter = cmd.CreateParameter();
                    SemanticUidParameter.ParameterName = "SemanticUid";
                    SemanticUidParameter.Direction = ParameterDirection.Input;
                    SemanticUidParameter.DbType = DbType.String;
                    SemanticUidParameter.Size = 1000;
                    if (SemanticUid != null)
                    {
                        SemanticUidParameter.Value = SemanticUid;
                    }
                    else
                    {
                        SemanticUidParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SemanticUidParameter);

                    DbParameter TruthRunIdParameter = cmd.CreateParameter();
                    TruthRunIdParameter.ParameterName = "TruthRunId";
                    TruthRunIdParameter.Direction = ParameterDirection.Input;
                    TruthRunIdParameter.DbType = DbType.Guid;
                    if (TruthRunId.HasValue)
                    {
                        TruthRunIdParameter.Value = TruthRunId.Value;
                    }
                    else
                    {
                        TruthRunIdParameter.Size = -1;
                        TruthRunIdParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(TruthRunIdParameter);

                    DbParameter IngestionRunIdParameter = cmd.CreateParameter();
                    IngestionRunIdParameter.ParameterName = "IngestionRunId";
                    IngestionRunIdParameter.Direction = ParameterDirection.Input;
                    IngestionRunIdParameter.DbType = DbType.Guid;
                    if (IngestionRunId.HasValue)
                    {
                        IngestionRunIdParameter.Value = IngestionRunId.Value;
                    }
                    else
                    {
                        IngestionRunIdParameter.Size = -1;
                        IngestionRunIdParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(IngestionRunIdParameter);

                    DbParameter NameParameter = cmd.CreateParameter();
                    NameParameter.ParameterName = "Name";
                    NameParameter.Direction = ParameterDirection.Input;
                    NameParameter.DbType = DbType.String;
                    NameParameter.Size = 400;
                    if (Name != null)
                    {
                        NameParameter.Value = Name;
                    }
                    else
                    {
                        NameParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(NameParameter);

                    DbParameter LanguageParameter = cmd.CreateParameter();
                    LanguageParameter.ParameterName = "Language";
                    LanguageParameter.Direction = ParameterDirection.Input;
                    LanguageParameter.DbType = DbType.String;
                    LanguageParameter.Size = 200;
                    if (Language != null)
                    {
                        LanguageParameter.Value = Language;
                    }
                    else
                    {
                        LanguageParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(LanguageParameter);

                    DbParameter DescriptionParameter = cmd.CreateParameter();
                    DescriptionParameter.ParameterName = "Description";
                    DescriptionParameter.Direction = ParameterDirection.Input;
                    DescriptionParameter.DbType = DbType.String;
                    if (Description != null)
                    {
                        DescriptionParameter.Value = Description;
                    }
                    else
                    {
                        DescriptionParameter.Size = -1;
                        DescriptionParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(DescriptionParameter);

                    DbParameter TagsParameter = cmd.CreateParameter();
                    TagsParameter.ParameterName = "Tags";
                    TagsParameter.Direction = ParameterDirection.Input;
                    TagsParameter.DbType = DbType.String;
                    if (Tags != null)
                    {
                        TagsParameter.Value = Tags;
                    }
                    else
                    {
                        TagsParameter.Size = -1;
                        TagsParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(TagsParameter);
                    await cmd.ExecuteNonQueryAsync();
                }
            }
            finally
            {
                if (needClose)
                    connection.Close();
            }
        }

        public void SpUpsertApiMember (string SemanticUid, Guid? ApiTypeId, Guid? IngestionRunId, string Name, string Kind, string MethodKind, string Accessibility, bool? IsStatic, bool? IsExtensionMethod, bool? IsAsync, bool? IsVirtual, bool? IsOverride, bool? IsAbstract, bool? IsSealed, bool? IsReadOnly, bool? IsConst, bool? IsUnsafe, string ReturnTypeUid, string ReturnNullable, string GenericParameters, string GenericConstraints, string Summary, string Remarks, string Attributes, string SourceFilePath, int? SourceStartLine, int? SourceEndLine)
        {

            DbConnection connection = this.Database.GetDbConnection();
            bool needClose = false;
            if (connection.State != ConnectionState.Open)
            {
                connection.Open();
                needClose = true;
            }

            try
            {
                using (DbCommand cmd = connection.CreateCommand())
                {
                    if (this.Database.GetCommandTimeout().HasValue)
                        cmd.CommandTimeout = this.Database.GetCommandTimeout().Value;
                    cmd.CommandType = CommandType.StoredProcedure;
                    cmd.CommandText = @"dbo.sp_UpsertApiMember";

                    DbParameter SemanticUidParameter = cmd.CreateParameter();
                    SemanticUidParameter.ParameterName = "SemanticUid";
                    SemanticUidParameter.Direction = ParameterDirection.Input;
                    SemanticUidParameter.DbType = DbType.String;
                    SemanticUidParameter.Size = 1000;
                    if (SemanticUid != null)
                    {
                        SemanticUidParameter.Value = SemanticUid;
                    }
                    else
                    {
                        SemanticUidParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SemanticUidParameter);

                    DbParameter ApiTypeIdParameter = cmd.CreateParameter();
                    ApiTypeIdParameter.ParameterName = "ApiTypeId";
                    ApiTypeIdParameter.Direction = ParameterDirection.Input;
                    ApiTypeIdParameter.DbType = DbType.Guid;
                    if (ApiTypeId.HasValue)
                    {
                        ApiTypeIdParameter.Value = ApiTypeId.Value;
                    }
                    else
                    {
                        ApiTypeIdParameter.Size = -1;
                        ApiTypeIdParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(ApiTypeIdParameter);

                    DbParameter IngestionRunIdParameter = cmd.CreateParameter();
                    IngestionRunIdParameter.ParameterName = "IngestionRunId";
                    IngestionRunIdParameter.Direction = ParameterDirection.Input;
                    IngestionRunIdParameter.DbType = DbType.Guid;
                    if (IngestionRunId.HasValue)
                    {
                        IngestionRunIdParameter.Value = IngestionRunId.Value;
                    }
                    else
                    {
                        IngestionRunIdParameter.Size = -1;
                        IngestionRunIdParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(IngestionRunIdParameter);

                    DbParameter NameParameter = cmd.CreateParameter();
                    NameParameter.ParameterName = "Name";
                    NameParameter.Direction = ParameterDirection.Input;
                    NameParameter.DbType = DbType.String;
                    NameParameter.Size = 400;
                    if (Name != null)
                    {
                        NameParameter.Value = Name;
                    }
                    else
                    {
                        NameParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(NameParameter);

                    DbParameter KindParameter = cmd.CreateParameter();
                    KindParameter.ParameterName = "Kind";
                    KindParameter.Direction = ParameterDirection.Input;
                    KindParameter.DbType = DbType.String;
                    KindParameter.Size = 200;
                    if (Kind != null)
                    {
                        KindParameter.Value = Kind;
                    }
                    else
                    {
                        KindParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(KindParameter);

                    DbParameter MethodKindParameter = cmd.CreateParameter();
                    MethodKindParameter.ParameterName = "MethodKind";
                    MethodKindParameter.Direction = ParameterDirection.Input;
                    MethodKindParameter.DbType = DbType.String;
                    MethodKindParameter.Size = 200;
                    if (MethodKind != null)
                    {
                        MethodKindParameter.Value = MethodKind;
                    }
                    else
                    {
                        MethodKindParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(MethodKindParameter);

                    DbParameter AccessibilityParameter = cmd.CreateParameter();
                    AccessibilityParameter.ParameterName = "Accessibility";
                    AccessibilityParameter.Direction = ParameterDirection.Input;
                    AccessibilityParameter.DbType = DbType.String;
                    AccessibilityParameter.Size = 200;
                    if (Accessibility != null)
                    {
                        AccessibilityParameter.Value = Accessibility;
                    }
                    else
                    {
                        AccessibilityParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(AccessibilityParameter);

                    DbParameter IsStaticParameter = cmd.CreateParameter();
                    IsStaticParameter.ParameterName = "IsStatic";
                    IsStaticParameter.Direction = ParameterDirection.Input;
                    IsStaticParameter.DbType = DbType.Boolean;
                    if (IsStatic.HasValue)
                    {
                        IsStaticParameter.Value = IsStatic.Value;
                    }
                    else
                    {
                        IsStaticParameter.Size = -1;
                        IsStaticParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(IsStaticParameter);

                    DbParameter IsExtensionMethodParameter = cmd.CreateParameter();
                    IsExtensionMethodParameter.ParameterName = "IsExtensionMethod";
                    IsExtensionMethodParameter.Direction = ParameterDirection.Input;
                    IsExtensionMethodParameter.DbType = DbType.Boolean;
                    if (IsExtensionMethod.HasValue)
                    {
                        IsExtensionMethodParameter.Value = IsExtensionMethod.Value;
                    }
                    else
                    {
                        IsExtensionMethodParameter.Size = -1;
                        IsExtensionMethodParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(IsExtensionMethodParameter);

                    DbParameter IsAsyncParameter = cmd.CreateParameter();
                    IsAsyncParameter.ParameterName = "IsAsync";
                    IsAsyncParameter.Direction = ParameterDirection.Input;
                    IsAsyncParameter.DbType = DbType.Boolean;
                    if (IsAsync.HasValue)
                    {
                        IsAsyncParameter.Value = IsAsync.Value;
                    }
                    else
                    {
                        IsAsyncParameter.Size = -1;
                        IsAsyncParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(IsAsyncParameter);

                    DbParameter IsVirtualParameter = cmd.CreateParameter();
                    IsVirtualParameter.ParameterName = "IsVirtual";
                    IsVirtualParameter.Direction = ParameterDirection.Input;
                    IsVirtualParameter.DbType = DbType.Boolean;
                    if (IsVirtual.HasValue)
                    {
                        IsVirtualParameter.Value = IsVirtual.Value;
                    }
                    else
                    {
                        IsVirtualParameter.Size = -1;
                        IsVirtualParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(IsVirtualParameter);

                    DbParameter IsOverrideParameter = cmd.CreateParameter();
                    IsOverrideParameter.ParameterName = "IsOverride";
                    IsOverrideParameter.Direction = ParameterDirection.Input;
                    IsOverrideParameter.DbType = DbType.Boolean;
                    if (IsOverride.HasValue)
                    {
                        IsOverrideParameter.Value = IsOverride.Value;
                    }
                    else
                    {
                        IsOverrideParameter.Size = -1;
                        IsOverrideParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(IsOverrideParameter);

                    DbParameter IsAbstractParameter = cmd.CreateParameter();
                    IsAbstractParameter.ParameterName = "IsAbstract";
                    IsAbstractParameter.Direction = ParameterDirection.Input;
                    IsAbstractParameter.DbType = DbType.Boolean;
                    if (IsAbstract.HasValue)
                    {
                        IsAbstractParameter.Value = IsAbstract.Value;
                    }
                    else
                    {
                        IsAbstractParameter.Size = -1;
                        IsAbstractParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(IsAbstractParameter);

                    DbParameter IsSealedParameter = cmd.CreateParameter();
                    IsSealedParameter.ParameterName = "IsSealed";
                    IsSealedParameter.Direction = ParameterDirection.Input;
                    IsSealedParameter.DbType = DbType.Boolean;
                    if (IsSealed.HasValue)
                    {
                        IsSealedParameter.Value = IsSealed.Value;
                    }
                    else
                    {
                        IsSealedParameter.Size = -1;
                        IsSealedParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(IsSealedParameter);

                    DbParameter IsReadOnlyParameter = cmd.CreateParameter();
                    IsReadOnlyParameter.ParameterName = "IsReadOnly";
                    IsReadOnlyParameter.Direction = ParameterDirection.Input;
                    IsReadOnlyParameter.DbType = DbType.Boolean;
                    if (IsReadOnly.HasValue)
                    {
                        IsReadOnlyParameter.Value = IsReadOnly.Value;
                    }
                    else
                    {
                        IsReadOnlyParameter.Size = -1;
                        IsReadOnlyParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(IsReadOnlyParameter);

                    DbParameter IsConstParameter = cmd.CreateParameter();
                    IsConstParameter.ParameterName = "IsConst";
                    IsConstParameter.Direction = ParameterDirection.Input;
                    IsConstParameter.DbType = DbType.Boolean;
                    if (IsConst.HasValue)
                    {
                        IsConstParameter.Value = IsConst.Value;
                    }
                    else
                    {
                        IsConstParameter.Size = -1;
                        IsConstParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(IsConstParameter);

                    DbParameter IsUnsafeParameter = cmd.CreateParameter();
                    IsUnsafeParameter.ParameterName = "IsUnsafe";
                    IsUnsafeParameter.Direction = ParameterDirection.Input;
                    IsUnsafeParameter.DbType = DbType.Boolean;
                    if (IsUnsafe.HasValue)
                    {
                        IsUnsafeParameter.Value = IsUnsafe.Value;
                    }
                    else
                    {
                        IsUnsafeParameter.Size = -1;
                        IsUnsafeParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(IsUnsafeParameter);

                    DbParameter ReturnTypeUidParameter = cmd.CreateParameter();
                    ReturnTypeUidParameter.ParameterName = "ReturnTypeUid";
                    ReturnTypeUidParameter.Direction = ParameterDirection.Input;
                    ReturnTypeUidParameter.DbType = DbType.String;
                    ReturnTypeUidParameter.Size = 1000;
                    if (ReturnTypeUid != null)
                    {
                        ReturnTypeUidParameter.Value = ReturnTypeUid;
                    }
                    else
                    {
                        ReturnTypeUidParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(ReturnTypeUidParameter);

                    DbParameter ReturnNullableParameter = cmd.CreateParameter();
                    ReturnNullableParameter.ParameterName = "ReturnNullable";
                    ReturnNullableParameter.Direction = ParameterDirection.Input;
                    ReturnNullableParameter.DbType = DbType.String;
                    ReturnNullableParameter.Size = 50;
                    if (ReturnNullable != null)
                    {
                        ReturnNullableParameter.Value = ReturnNullable;
                    }
                    else
                    {
                        ReturnNullableParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(ReturnNullableParameter);

                    DbParameter GenericParametersParameter = cmd.CreateParameter();
                    GenericParametersParameter.ParameterName = "GenericParameters";
                    GenericParametersParameter.Direction = ParameterDirection.Input;
                    GenericParametersParameter.DbType = DbType.String;
                    if (GenericParameters != null)
                    {
                        GenericParametersParameter.Value = GenericParameters;
                    }
                    else
                    {
                        GenericParametersParameter.Size = -1;
                        GenericParametersParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(GenericParametersParameter);

                    DbParameter GenericConstraintsParameter = cmd.CreateParameter();
                    GenericConstraintsParameter.ParameterName = "GenericConstraints";
                    GenericConstraintsParameter.Direction = ParameterDirection.Input;
                    GenericConstraintsParameter.DbType = DbType.String;
                    if (GenericConstraints != null)
                    {
                        GenericConstraintsParameter.Value = GenericConstraints;
                    }
                    else
                    {
                        GenericConstraintsParameter.Size = -1;
                        GenericConstraintsParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(GenericConstraintsParameter);

                    DbParameter SummaryParameter = cmd.CreateParameter();
                    SummaryParameter.ParameterName = "Summary";
                    SummaryParameter.Direction = ParameterDirection.Input;
                    SummaryParameter.DbType = DbType.String;
                    if (Summary != null)
                    {
                        SummaryParameter.Value = Summary;
                    }
                    else
                    {
                        SummaryParameter.Size = -1;
                        SummaryParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SummaryParameter);

                    DbParameter RemarksParameter = cmd.CreateParameter();
                    RemarksParameter.ParameterName = "Remarks";
                    RemarksParameter.Direction = ParameterDirection.Input;
                    RemarksParameter.DbType = DbType.String;
                    if (Remarks != null)
                    {
                        RemarksParameter.Value = Remarks;
                    }
                    else
                    {
                        RemarksParameter.Size = -1;
                        RemarksParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(RemarksParameter);

                    DbParameter AttributesParameter = cmd.CreateParameter();
                    AttributesParameter.ParameterName = "Attributes";
                    AttributesParameter.Direction = ParameterDirection.Input;
                    AttributesParameter.DbType = DbType.String;
                    if (Attributes != null)
                    {
                        AttributesParameter.Value = Attributes;
                    }
                    else
                    {
                        AttributesParameter.Size = -1;
                        AttributesParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(AttributesParameter);

                    DbParameter SourceFilePathParameter = cmd.CreateParameter();
                    SourceFilePathParameter.ParameterName = "SourceFilePath";
                    SourceFilePathParameter.Direction = ParameterDirection.Input;
                    SourceFilePathParameter.DbType = DbType.String;
                    if (SourceFilePath != null)
                    {
                        SourceFilePathParameter.Value = SourceFilePath;
                    }
                    else
                    {
                        SourceFilePathParameter.Size = -1;
                        SourceFilePathParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SourceFilePathParameter);

                    DbParameter SourceStartLineParameter = cmd.CreateParameter();
                    SourceStartLineParameter.ParameterName = "SourceStartLine";
                    SourceStartLineParameter.Direction = ParameterDirection.Input;
                    SourceStartLineParameter.DbType = DbType.Int32;
                    SourceStartLineParameter.Precision = 10;
                    SourceStartLineParameter.Scale = 0;
                    if (SourceStartLine.HasValue)
                    {
                        SourceStartLineParameter.Value = SourceStartLine.Value;
                    }
                    else
                    {
                        SourceStartLineParameter.Size = -1;
                        SourceStartLineParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SourceStartLineParameter);

                    DbParameter SourceEndLineParameter = cmd.CreateParameter();
                    SourceEndLineParameter.ParameterName = "SourceEndLine";
                    SourceEndLineParameter.Direction = ParameterDirection.Input;
                    SourceEndLineParameter.DbType = DbType.Int32;
                    SourceEndLineParameter.Precision = 10;
                    SourceEndLineParameter.Scale = 0;
                    if (SourceEndLine.HasValue)
                    {
                        SourceEndLineParameter.Value = SourceEndLine.Value;
                    }
                    else
                    {
                        SourceEndLineParameter.Size = -1;
                        SourceEndLineParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SourceEndLineParameter);
                    cmd.ExecuteNonQuery();
                }
            }
            finally
            {
                if (needClose)
                    connection.Close();
            }
        }

        public async Task SpUpsertApiMemberAsync (string SemanticUid, Guid? ApiTypeId, Guid? IngestionRunId, string Name, string Kind, string MethodKind, string Accessibility, bool? IsStatic, bool? IsExtensionMethod, bool? IsAsync, bool? IsVirtual, bool? IsOverride, bool? IsAbstract, bool? IsSealed, bool? IsReadOnly, bool? IsConst, bool? IsUnsafe, string ReturnTypeUid, string ReturnNullable, string GenericParameters, string GenericConstraints, string Summary, string Remarks, string Attributes, string SourceFilePath, int? SourceStartLine, int? SourceEndLine)
        {

            DbConnection connection = this.Database.GetDbConnection();
            bool needClose = false;
            if (connection.State != ConnectionState.Open)
            {
                await connection.OpenAsync();
                needClose = true;
            }

            try
            {
                using (DbCommand cmd = connection.CreateCommand())
                {
                    if (this.Database.GetCommandTimeout().HasValue)
                        cmd.CommandTimeout = this.Database.GetCommandTimeout().Value;
                    cmd.CommandType = CommandType.StoredProcedure;
                    cmd.CommandText = @"dbo.sp_UpsertApiMember";

                    DbParameter SemanticUidParameter = cmd.CreateParameter();
                    SemanticUidParameter.ParameterName = "SemanticUid";
                    SemanticUidParameter.Direction = ParameterDirection.Input;
                    SemanticUidParameter.DbType = DbType.String;
                    SemanticUidParameter.Size = 1000;
                    if (SemanticUid != null)
                    {
                        SemanticUidParameter.Value = SemanticUid;
                    }
                    else
                    {
                        SemanticUidParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SemanticUidParameter);

                    DbParameter ApiTypeIdParameter = cmd.CreateParameter();
                    ApiTypeIdParameter.ParameterName = "ApiTypeId";
                    ApiTypeIdParameter.Direction = ParameterDirection.Input;
                    ApiTypeIdParameter.DbType = DbType.Guid;
                    if (ApiTypeId.HasValue)
                    {
                        ApiTypeIdParameter.Value = ApiTypeId.Value;
                    }
                    else
                    {
                        ApiTypeIdParameter.Size = -1;
                        ApiTypeIdParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(ApiTypeIdParameter);

                    DbParameter IngestionRunIdParameter = cmd.CreateParameter();
                    IngestionRunIdParameter.ParameterName = "IngestionRunId";
                    IngestionRunIdParameter.Direction = ParameterDirection.Input;
                    IngestionRunIdParameter.DbType = DbType.Guid;
                    if (IngestionRunId.HasValue)
                    {
                        IngestionRunIdParameter.Value = IngestionRunId.Value;
                    }
                    else
                    {
                        IngestionRunIdParameter.Size = -1;
                        IngestionRunIdParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(IngestionRunIdParameter);

                    DbParameter NameParameter = cmd.CreateParameter();
                    NameParameter.ParameterName = "Name";
                    NameParameter.Direction = ParameterDirection.Input;
                    NameParameter.DbType = DbType.String;
                    NameParameter.Size = 400;
                    if (Name != null)
                    {
                        NameParameter.Value = Name;
                    }
                    else
                    {
                        NameParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(NameParameter);

                    DbParameter KindParameter = cmd.CreateParameter();
                    KindParameter.ParameterName = "Kind";
                    KindParameter.Direction = ParameterDirection.Input;
                    KindParameter.DbType = DbType.String;
                    KindParameter.Size = 200;
                    if (Kind != null)
                    {
                        KindParameter.Value = Kind;
                    }
                    else
                    {
                        KindParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(KindParameter);

                    DbParameter MethodKindParameter = cmd.CreateParameter();
                    MethodKindParameter.ParameterName = "MethodKind";
                    MethodKindParameter.Direction = ParameterDirection.Input;
                    MethodKindParameter.DbType = DbType.String;
                    MethodKindParameter.Size = 200;
                    if (MethodKind != null)
                    {
                        MethodKindParameter.Value = MethodKind;
                    }
                    else
                    {
                        MethodKindParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(MethodKindParameter);

                    DbParameter AccessibilityParameter = cmd.CreateParameter();
                    AccessibilityParameter.ParameterName = "Accessibility";
                    AccessibilityParameter.Direction = ParameterDirection.Input;
                    AccessibilityParameter.DbType = DbType.String;
                    AccessibilityParameter.Size = 200;
                    if (Accessibility != null)
                    {
                        AccessibilityParameter.Value = Accessibility;
                    }
                    else
                    {
                        AccessibilityParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(AccessibilityParameter);

                    DbParameter IsStaticParameter = cmd.CreateParameter();
                    IsStaticParameter.ParameterName = "IsStatic";
                    IsStaticParameter.Direction = ParameterDirection.Input;
                    IsStaticParameter.DbType = DbType.Boolean;
                    if (IsStatic.HasValue)
                    {
                        IsStaticParameter.Value = IsStatic.Value;
                    }
                    else
                    {
                        IsStaticParameter.Size = -1;
                        IsStaticParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(IsStaticParameter);

                    DbParameter IsExtensionMethodParameter = cmd.CreateParameter();
                    IsExtensionMethodParameter.ParameterName = "IsExtensionMethod";
                    IsExtensionMethodParameter.Direction = ParameterDirection.Input;
                    IsExtensionMethodParameter.DbType = DbType.Boolean;
                    if (IsExtensionMethod.HasValue)
                    {
                        IsExtensionMethodParameter.Value = IsExtensionMethod.Value;
                    }
                    else
                    {
                        IsExtensionMethodParameter.Size = -1;
                        IsExtensionMethodParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(IsExtensionMethodParameter);

                    DbParameter IsAsyncParameter = cmd.CreateParameter();
                    IsAsyncParameter.ParameterName = "IsAsync";
                    IsAsyncParameter.Direction = ParameterDirection.Input;
                    IsAsyncParameter.DbType = DbType.Boolean;
                    if (IsAsync.HasValue)
                    {
                        IsAsyncParameter.Value = IsAsync.Value;
                    }
                    else
                    {
                        IsAsyncParameter.Size = -1;
                        IsAsyncParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(IsAsyncParameter);

                    DbParameter IsVirtualParameter = cmd.CreateParameter();
                    IsVirtualParameter.ParameterName = "IsVirtual";
                    IsVirtualParameter.Direction = ParameterDirection.Input;
                    IsVirtualParameter.DbType = DbType.Boolean;
                    if (IsVirtual.HasValue)
                    {
                        IsVirtualParameter.Value = IsVirtual.Value;
                    }
                    else
                    {
                        IsVirtualParameter.Size = -1;
                        IsVirtualParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(IsVirtualParameter);

                    DbParameter IsOverrideParameter = cmd.CreateParameter();
                    IsOverrideParameter.ParameterName = "IsOverride";
                    IsOverrideParameter.Direction = ParameterDirection.Input;
                    IsOverrideParameter.DbType = DbType.Boolean;
                    if (IsOverride.HasValue)
                    {
                        IsOverrideParameter.Value = IsOverride.Value;
                    }
                    else
                    {
                        IsOverrideParameter.Size = -1;
                        IsOverrideParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(IsOverrideParameter);

                    DbParameter IsAbstractParameter = cmd.CreateParameter();
                    IsAbstractParameter.ParameterName = "IsAbstract";
                    IsAbstractParameter.Direction = ParameterDirection.Input;
                    IsAbstractParameter.DbType = DbType.Boolean;
                    if (IsAbstract.HasValue)
                    {
                        IsAbstractParameter.Value = IsAbstract.Value;
                    }
                    else
                    {
                        IsAbstractParameter.Size = -1;
                        IsAbstractParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(IsAbstractParameter);

                    DbParameter IsSealedParameter = cmd.CreateParameter();
                    IsSealedParameter.ParameterName = "IsSealed";
                    IsSealedParameter.Direction = ParameterDirection.Input;
                    IsSealedParameter.DbType = DbType.Boolean;
                    if (IsSealed.HasValue)
                    {
                        IsSealedParameter.Value = IsSealed.Value;
                    }
                    else
                    {
                        IsSealedParameter.Size = -1;
                        IsSealedParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(IsSealedParameter);

                    DbParameter IsReadOnlyParameter = cmd.CreateParameter();
                    IsReadOnlyParameter.ParameterName = "IsReadOnly";
                    IsReadOnlyParameter.Direction = ParameterDirection.Input;
                    IsReadOnlyParameter.DbType = DbType.Boolean;
                    if (IsReadOnly.HasValue)
                    {
                        IsReadOnlyParameter.Value = IsReadOnly.Value;
                    }
                    else
                    {
                        IsReadOnlyParameter.Size = -1;
                        IsReadOnlyParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(IsReadOnlyParameter);

                    DbParameter IsConstParameter = cmd.CreateParameter();
                    IsConstParameter.ParameterName = "IsConst";
                    IsConstParameter.Direction = ParameterDirection.Input;
                    IsConstParameter.DbType = DbType.Boolean;
                    if (IsConst.HasValue)
                    {
                        IsConstParameter.Value = IsConst.Value;
                    }
                    else
                    {
                        IsConstParameter.Size = -1;
                        IsConstParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(IsConstParameter);

                    DbParameter IsUnsafeParameter = cmd.CreateParameter();
                    IsUnsafeParameter.ParameterName = "IsUnsafe";
                    IsUnsafeParameter.Direction = ParameterDirection.Input;
                    IsUnsafeParameter.DbType = DbType.Boolean;
                    if (IsUnsafe.HasValue)
                    {
                        IsUnsafeParameter.Value = IsUnsafe.Value;
                    }
                    else
                    {
                        IsUnsafeParameter.Size = -1;
                        IsUnsafeParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(IsUnsafeParameter);

                    DbParameter ReturnTypeUidParameter = cmd.CreateParameter();
                    ReturnTypeUidParameter.ParameterName = "ReturnTypeUid";
                    ReturnTypeUidParameter.Direction = ParameterDirection.Input;
                    ReturnTypeUidParameter.DbType = DbType.String;
                    ReturnTypeUidParameter.Size = 1000;
                    if (ReturnTypeUid != null)
                    {
                        ReturnTypeUidParameter.Value = ReturnTypeUid;
                    }
                    else
                    {
                        ReturnTypeUidParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(ReturnTypeUidParameter);

                    DbParameter ReturnNullableParameter = cmd.CreateParameter();
                    ReturnNullableParameter.ParameterName = "ReturnNullable";
                    ReturnNullableParameter.Direction = ParameterDirection.Input;
                    ReturnNullableParameter.DbType = DbType.String;
                    ReturnNullableParameter.Size = 50;
                    if (ReturnNullable != null)
                    {
                        ReturnNullableParameter.Value = ReturnNullable;
                    }
                    else
                    {
                        ReturnNullableParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(ReturnNullableParameter);

                    DbParameter GenericParametersParameter = cmd.CreateParameter();
                    GenericParametersParameter.ParameterName = "GenericParameters";
                    GenericParametersParameter.Direction = ParameterDirection.Input;
                    GenericParametersParameter.DbType = DbType.String;
                    if (GenericParameters != null)
                    {
                        GenericParametersParameter.Value = GenericParameters;
                    }
                    else
                    {
                        GenericParametersParameter.Size = -1;
                        GenericParametersParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(GenericParametersParameter);

                    DbParameter GenericConstraintsParameter = cmd.CreateParameter();
                    GenericConstraintsParameter.ParameterName = "GenericConstraints";
                    GenericConstraintsParameter.Direction = ParameterDirection.Input;
                    GenericConstraintsParameter.DbType = DbType.String;
                    if (GenericConstraints != null)
                    {
                        GenericConstraintsParameter.Value = GenericConstraints;
                    }
                    else
                    {
                        GenericConstraintsParameter.Size = -1;
                        GenericConstraintsParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(GenericConstraintsParameter);

                    DbParameter SummaryParameter = cmd.CreateParameter();
                    SummaryParameter.ParameterName = "Summary";
                    SummaryParameter.Direction = ParameterDirection.Input;
                    SummaryParameter.DbType = DbType.String;
                    if (Summary != null)
                    {
                        SummaryParameter.Value = Summary;
                    }
                    else
                    {
                        SummaryParameter.Size = -1;
                        SummaryParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SummaryParameter);

                    DbParameter RemarksParameter = cmd.CreateParameter();
                    RemarksParameter.ParameterName = "Remarks";
                    RemarksParameter.Direction = ParameterDirection.Input;
                    RemarksParameter.DbType = DbType.String;
                    if (Remarks != null)
                    {
                        RemarksParameter.Value = Remarks;
                    }
                    else
                    {
                        RemarksParameter.Size = -1;
                        RemarksParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(RemarksParameter);

                    DbParameter AttributesParameter = cmd.CreateParameter();
                    AttributesParameter.ParameterName = "Attributes";
                    AttributesParameter.Direction = ParameterDirection.Input;
                    AttributesParameter.DbType = DbType.String;
                    if (Attributes != null)
                    {
                        AttributesParameter.Value = Attributes;
                    }
                    else
                    {
                        AttributesParameter.Size = -1;
                        AttributesParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(AttributesParameter);

                    DbParameter SourceFilePathParameter = cmd.CreateParameter();
                    SourceFilePathParameter.ParameterName = "SourceFilePath";
                    SourceFilePathParameter.Direction = ParameterDirection.Input;
                    SourceFilePathParameter.DbType = DbType.String;
                    if (SourceFilePath != null)
                    {
                        SourceFilePathParameter.Value = SourceFilePath;
                    }
                    else
                    {
                        SourceFilePathParameter.Size = -1;
                        SourceFilePathParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SourceFilePathParameter);

                    DbParameter SourceStartLineParameter = cmd.CreateParameter();
                    SourceStartLineParameter.ParameterName = "SourceStartLine";
                    SourceStartLineParameter.Direction = ParameterDirection.Input;
                    SourceStartLineParameter.DbType = DbType.Int32;
                    SourceStartLineParameter.Precision = 10;
                    SourceStartLineParameter.Scale = 0;
                    if (SourceStartLine.HasValue)
                    {
                        SourceStartLineParameter.Value = SourceStartLine.Value;
                    }
                    else
                    {
                        SourceStartLineParameter.Size = -1;
                        SourceStartLineParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SourceStartLineParameter);

                    DbParameter SourceEndLineParameter = cmd.CreateParameter();
                    SourceEndLineParameter.ParameterName = "SourceEndLine";
                    SourceEndLineParameter.Direction = ParameterDirection.Input;
                    SourceEndLineParameter.DbType = DbType.Int32;
                    SourceEndLineParameter.Precision = 10;
                    SourceEndLineParameter.Scale = 0;
                    if (SourceEndLine.HasValue)
                    {
                        SourceEndLineParameter.Value = SourceEndLine.Value;
                    }
                    else
                    {
                        SourceEndLineParameter.Size = -1;
                        SourceEndLineParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SourceEndLineParameter);
                    await cmd.ExecuteNonQueryAsync();
                }
            }
            finally
            {
                if (needClose)
                    connection.Close();
            }
        }

        public SpUpsertApiParameterMultipleResult SpUpsertApiParameter (Guid? api_member_id, string name, string type_uid, string nullable_annotation, int? position, string modifier, bool? has_default_value, string default_value_literal, Guid? ingestion_run_id)
        {

            SpUpsertApiParameterMultipleResult result = new SpUpsertApiParameterMultipleResult();
            DbConnection connection = this.Database.GetDbConnection();
            bool needClose = false;
            if (connection.State != ConnectionState.Open)
            {
                connection.Open();
                needClose = true;
            }

            try
            {
                using (DbCommand cmd = connection.CreateCommand())
                {
                    if (this.Database.GetCommandTimeout().HasValue)
                        cmd.CommandTimeout = this.Database.GetCommandTimeout().Value;
                    cmd.CommandType = CommandType.StoredProcedure;
                    cmd.CommandText = @"dbo.sp_UpsertApiParameter";

                    DbParameter api_member_idParameter = cmd.CreateParameter();
                    api_member_idParameter.ParameterName = "api_member_id";
                    api_member_idParameter.Direction = ParameterDirection.Input;
                    api_member_idParameter.DbType = DbType.Guid;
                    if (api_member_id.HasValue)
                    {
                        api_member_idParameter.Value = api_member_id.Value;
                    }
                    else
                    {
                        api_member_idParameter.Size = -1;
                        api_member_idParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(api_member_idParameter);

                    DbParameter nameParameter = cmd.CreateParameter();
                    nameParameter.ParameterName = "name";
                    nameParameter.Direction = ParameterDirection.Input;
                    nameParameter.DbType = DbType.String;
                    nameParameter.Size = 200;
                    if (name != null)
                    {
                        nameParameter.Value = name;
                    }
                    else
                    {
                        nameParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(nameParameter);

                    DbParameter type_uidParameter = cmd.CreateParameter();
                    type_uidParameter.ParameterName = "type_uid";
                    type_uidParameter.Direction = ParameterDirection.Input;
                    type_uidParameter.DbType = DbType.String;
                    type_uidParameter.Size = 1000;
                    if (type_uid != null)
                    {
                        type_uidParameter.Value = type_uid;
                    }
                    else
                    {
                        type_uidParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(type_uidParameter);

                    DbParameter nullable_annotationParameter = cmd.CreateParameter();
                    nullable_annotationParameter.ParameterName = "nullable_annotation";
                    nullable_annotationParameter.Direction = ParameterDirection.Input;
                    nullable_annotationParameter.DbType = DbType.String;
                    nullable_annotationParameter.Size = 50;
                    if (nullable_annotation != null)
                    {
                        nullable_annotationParameter.Value = nullable_annotation;
                    }
                    else
                    {
                        nullable_annotationParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(nullable_annotationParameter);

                    DbParameter positionParameter = cmd.CreateParameter();
                    positionParameter.ParameterName = "position";
                    positionParameter.Direction = ParameterDirection.Input;
                    positionParameter.DbType = DbType.Int32;
                    positionParameter.Precision = 10;
                    positionParameter.Scale = 0;
                    if (position.HasValue)
                    {
                        positionParameter.Value = position.Value;
                    }
                    else
                    {
                        positionParameter.Size = -1;
                        positionParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(positionParameter);

                    DbParameter modifierParameter = cmd.CreateParameter();
                    modifierParameter.ParameterName = "modifier";
                    modifierParameter.Direction = ParameterDirection.Input;
                    modifierParameter.DbType = DbType.String;
                    modifierParameter.Size = 50;
                    if (modifier != null)
                    {
                        modifierParameter.Value = modifier;
                    }
                    else
                    {
                        modifierParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(modifierParameter);

                    DbParameter has_default_valueParameter = cmd.CreateParameter();
                    has_default_valueParameter.ParameterName = "has_default_value";
                    has_default_valueParameter.Direction = ParameterDirection.Input;
                    has_default_valueParameter.DbType = DbType.Boolean;
                    if (has_default_value.HasValue)
                    {
                        has_default_valueParameter.Value = has_default_value.Value;
                    }
                    else
                    {
                        has_default_valueParameter.Size = -1;
                        has_default_valueParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(has_default_valueParameter);

                    DbParameter default_value_literalParameter = cmd.CreateParameter();
                    default_value_literalParameter.ParameterName = "default_value_literal";
                    default_value_literalParameter.Direction = ParameterDirection.Input;
                    default_value_literalParameter.DbType = DbType.String;
                    if (default_value_literal != null)
                    {
                        default_value_literalParameter.Value = default_value_literal;
                    }
                    else
                    {
                        default_value_literalParameter.Size = -1;
                        default_value_literalParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(default_value_literalParameter);

                    DbParameter ingestion_run_idParameter = cmd.CreateParameter();
                    ingestion_run_idParameter.ParameterName = "ingestion_run_id";
                    ingestion_run_idParameter.Direction = ParameterDirection.Input;
                    ingestion_run_idParameter.DbType = DbType.Guid;
                    if (ingestion_run_id.HasValue)
                    {
                        ingestion_run_idParameter.Value = ingestion_run_id.Value;
                    }
                    else
                    {
                        ingestion_run_idParameter.Size = -1;
                        ingestion_run_idParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(ingestion_run_idParameter);
                    using (IDataReader reader = cmd.ExecuteReader())
                    {
                        string[] fieldNames;
                        fieldNames = Enumerable.Range(0, reader.FieldCount).Select(i => reader.GetName(i)).ToArray();

                        while (reader.Read())
                        {

                            SpUpsertApiParameterResult resultRow = new SpUpsertApiParameterResult();
                            if (fieldNames.Length == 1 && string.IsNullOrEmpty(fieldNames[0]))
                                resultRow.Id = (System.Guid)Convert.ChangeType(reader.GetValue(0), typeof(System.Guid));
                            else
                            if (fieldNames.Contains(@"id") && !reader.IsDBNull(reader.GetOrdinal(@"id")))
                                resultRow.Id = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"id")), typeof(System.Guid));
                            else
                                resultRow.Id = null;
                            result.SpUpsertApiParameterResults.Add(resultRow);
                        }
                        reader.NextResult();

                        fieldNames = Enumerable.Range(0, reader.FieldCount).Select(i => reader.GetName(i)).ToArray();

                        while (reader.Read())
                        {

                            SpUpsertApiParameterResult resultRow = new SpUpsertApiParameterResult();
                            if (fieldNames.Length == 1 && string.IsNullOrEmpty(fieldNames[0]))
                                resultRow.Id = (System.Guid)Convert.ChangeType(reader.GetValue(0), typeof(System.Guid));
                            else
                            if (fieldNames.Contains(@"id") && !reader.IsDBNull(reader.GetOrdinal(@"id")))
                                resultRow.Id = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"id")), typeof(System.Guid));
                            else
                                resultRow.Id = null;
                            result.SpUpsertApiParameterResults.Add(resultRow);
                        }
                        reader.NextResult();

                        fieldNames = Enumerable.Range(0, reader.FieldCount).Select(i => reader.GetName(i)).ToArray();

                        while (reader.Read())
                        {

                            SpUpsertApiParameterResult resultRow = new SpUpsertApiParameterResult();
                            if (fieldNames.Length == 1 && string.IsNullOrEmpty(fieldNames[0]))
                                resultRow.Id = (System.Guid)Convert.ChangeType(reader.GetValue(0), typeof(System.Guid));
                            else
                            if (fieldNames.Contains(@"id") && !reader.IsDBNull(reader.GetOrdinal(@"id")))
                                resultRow.Id = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"id")), typeof(System.Guid));
                            else
                                resultRow.Id = null;
                            result.SpUpsertApiParameterResults.Add(resultRow);
                        }
                        reader.NextResult();

                    }

                }
            }
            finally
            {
                if (needClose)
                    connection.Close();
            }
            return result;
        }

        public async Task<SpUpsertApiParameterMultipleResult> SpUpsertApiParameterAsync (Guid? api_member_id, string name, string type_uid, string nullable_annotation, int? position, string modifier, bool? has_default_value, string default_value_literal, Guid? ingestion_run_id)
        {

            SpUpsertApiParameterMultipleResult result = new SpUpsertApiParameterMultipleResult();
            DbConnection connection = this.Database.GetDbConnection();
            bool needClose = false;
            if (connection.State != ConnectionState.Open)
            {
                await connection.OpenAsync();
                needClose = true;
            }

            try
            {
                using (DbCommand cmd = connection.CreateCommand())
                {
                    if (this.Database.GetCommandTimeout().HasValue)
                        cmd.CommandTimeout = this.Database.GetCommandTimeout().Value;
                    cmd.CommandType = CommandType.StoredProcedure;
                    cmd.CommandText = @"dbo.sp_UpsertApiParameter";

                    DbParameter api_member_idParameter = cmd.CreateParameter();
                    api_member_idParameter.ParameterName = "api_member_id";
                    api_member_idParameter.Direction = ParameterDirection.Input;
                    api_member_idParameter.DbType = DbType.Guid;
                    if (api_member_id.HasValue)
                    {
                        api_member_idParameter.Value = api_member_id.Value;
                    }
                    else
                    {
                        api_member_idParameter.Size = -1;
                        api_member_idParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(api_member_idParameter);

                    DbParameter nameParameter = cmd.CreateParameter();
                    nameParameter.ParameterName = "name";
                    nameParameter.Direction = ParameterDirection.Input;
                    nameParameter.DbType = DbType.String;
                    nameParameter.Size = 200;
                    if (name != null)
                    {
                        nameParameter.Value = name;
                    }
                    else
                    {
                        nameParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(nameParameter);

                    DbParameter type_uidParameter = cmd.CreateParameter();
                    type_uidParameter.ParameterName = "type_uid";
                    type_uidParameter.Direction = ParameterDirection.Input;
                    type_uidParameter.DbType = DbType.String;
                    type_uidParameter.Size = 1000;
                    if (type_uid != null)
                    {
                        type_uidParameter.Value = type_uid;
                    }
                    else
                    {
                        type_uidParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(type_uidParameter);

                    DbParameter nullable_annotationParameter = cmd.CreateParameter();
                    nullable_annotationParameter.ParameterName = "nullable_annotation";
                    nullable_annotationParameter.Direction = ParameterDirection.Input;
                    nullable_annotationParameter.DbType = DbType.String;
                    nullable_annotationParameter.Size = 50;
                    if (nullable_annotation != null)
                    {
                        nullable_annotationParameter.Value = nullable_annotation;
                    }
                    else
                    {
                        nullable_annotationParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(nullable_annotationParameter);

                    DbParameter positionParameter = cmd.CreateParameter();
                    positionParameter.ParameterName = "position";
                    positionParameter.Direction = ParameterDirection.Input;
                    positionParameter.DbType = DbType.Int32;
                    positionParameter.Precision = 10;
                    positionParameter.Scale = 0;
                    if (position.HasValue)
                    {
                        positionParameter.Value = position.Value;
                    }
                    else
                    {
                        positionParameter.Size = -1;
                        positionParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(positionParameter);

                    DbParameter modifierParameter = cmd.CreateParameter();
                    modifierParameter.ParameterName = "modifier";
                    modifierParameter.Direction = ParameterDirection.Input;
                    modifierParameter.DbType = DbType.String;
                    modifierParameter.Size = 50;
                    if (modifier != null)
                    {
                        modifierParameter.Value = modifier;
                    }
                    else
                    {
                        modifierParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(modifierParameter);

                    DbParameter has_default_valueParameter = cmd.CreateParameter();
                    has_default_valueParameter.ParameterName = "has_default_value";
                    has_default_valueParameter.Direction = ParameterDirection.Input;
                    has_default_valueParameter.DbType = DbType.Boolean;
                    if (has_default_value.HasValue)
                    {
                        has_default_valueParameter.Value = has_default_value.Value;
                    }
                    else
                    {
                        has_default_valueParameter.Size = -1;
                        has_default_valueParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(has_default_valueParameter);

                    DbParameter default_value_literalParameter = cmd.CreateParameter();
                    default_value_literalParameter.ParameterName = "default_value_literal";
                    default_value_literalParameter.Direction = ParameterDirection.Input;
                    default_value_literalParameter.DbType = DbType.String;
                    if (default_value_literal != null)
                    {
                        default_value_literalParameter.Value = default_value_literal;
                    }
                    else
                    {
                        default_value_literalParameter.Size = -1;
                        default_value_literalParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(default_value_literalParameter);

                    DbParameter ingestion_run_idParameter = cmd.CreateParameter();
                    ingestion_run_idParameter.ParameterName = "ingestion_run_id";
                    ingestion_run_idParameter.Direction = ParameterDirection.Input;
                    ingestion_run_idParameter.DbType = DbType.Guid;
                    if (ingestion_run_id.HasValue)
                    {
                        ingestion_run_idParameter.Value = ingestion_run_id.Value;
                    }
                    else
                    {
                        ingestion_run_idParameter.Size = -1;
                        ingestion_run_idParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(ingestion_run_idParameter);
                    using (IDataReader reader = await cmd.ExecuteReaderAsync())
                    {
                        string[] fieldNames;
                        fieldNames = Enumerable.Range(0, reader.FieldCount).Select(i => reader.GetName(i)).ToArray();

                        while (reader.Read())
                        {

                            SpUpsertApiParameterResult resultRow = new SpUpsertApiParameterResult();
                            if (fieldNames.Length == 1 && string.IsNullOrEmpty(fieldNames[0]))
                                resultRow.Id = (System.Guid)Convert.ChangeType(reader.GetValue(0), typeof(System.Guid));
                            else
                            if (fieldNames.Contains(@"id") && !reader.IsDBNull(reader.GetOrdinal(@"id")))
                                resultRow.Id = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"id")), typeof(System.Guid));
                            else
                                resultRow.Id = null;
                            result.SpUpsertApiParameterResults.Add(resultRow);
                        }
                        reader.NextResult();

                        fieldNames = Enumerable.Range(0, reader.FieldCount).Select(i => reader.GetName(i)).ToArray();

                        while (reader.Read())
                        {

                            SpUpsertApiParameterResult resultRow = new SpUpsertApiParameterResult();
                            if (fieldNames.Length == 1 && string.IsNullOrEmpty(fieldNames[0]))
                                resultRow.Id = (System.Guid)Convert.ChangeType(reader.GetValue(0), typeof(System.Guid));
                            else
                            if (fieldNames.Contains(@"id") && !reader.IsDBNull(reader.GetOrdinal(@"id")))
                                resultRow.Id = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"id")), typeof(System.Guid));
                            else
                                resultRow.Id = null;
                            result.SpUpsertApiParameterResults.Add(resultRow);
                        }
                        reader.NextResult();

                        fieldNames = Enumerable.Range(0, reader.FieldCount).Select(i => reader.GetName(i)).ToArray();

                        while (reader.Read())
                        {

                            SpUpsertApiParameterResult resultRow = new SpUpsertApiParameterResult();
                            if (fieldNames.Length == 1 && string.IsNullOrEmpty(fieldNames[0]))
                                resultRow.Id = (System.Guid)Convert.ChangeType(reader.GetValue(0), typeof(System.Guid));
                            else
                            if (fieldNames.Contains(@"id") && !reader.IsDBNull(reader.GetOrdinal(@"id")))
                                resultRow.Id = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"id")), typeof(System.Guid));
                            else
                                resultRow.Id = null;
                            result.SpUpsertApiParameterResults.Add(resultRow);
                        }
                        reader.NextResult();

                    }

                }
            }
            finally
            {
                if (needClose)
                    connection.Close();
            }
            return result;
        }

        public void SpUpsertApiType (string SemanticUid, Guid? SourceSnapshotId, Guid? IngestionRunId, string Name, string NamespacePath, string Kind, string Accessibility, bool? IsStatic, bool? IsGeneric, bool? IsAbstract, bool? IsSealed, bool? IsRecord, bool? IsRefLike, string BaseTypeUid, string Interfaces, string ContainingTypeUid, string GenericParameters, string GenericConstraints, string Summary, string Remarks, string Attributes, string SourceFilePath, int? SourceStartLine, int? SourceEndLine)
        {

            DbConnection connection = this.Database.GetDbConnection();
            bool needClose = false;
            if (connection.State != ConnectionState.Open)
            {
                connection.Open();
                needClose = true;
            }

            try
            {
                using (DbCommand cmd = connection.CreateCommand())
                {
                    if (this.Database.GetCommandTimeout().HasValue)
                        cmd.CommandTimeout = this.Database.GetCommandTimeout().Value;
                    cmd.CommandType = CommandType.StoredProcedure;
                    cmd.CommandText = @"dbo.sp_UpsertApiType";

                    DbParameter SemanticUidParameter = cmd.CreateParameter();
                    SemanticUidParameter.ParameterName = "SemanticUid";
                    SemanticUidParameter.Direction = ParameterDirection.Input;
                    SemanticUidParameter.DbType = DbType.String;
                    SemanticUidParameter.Size = 1000;
                    if (SemanticUid != null)
                    {
                        SemanticUidParameter.Value = SemanticUid;
                    }
                    else
                    {
                        SemanticUidParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SemanticUidParameter);

                    DbParameter SourceSnapshotIdParameter = cmd.CreateParameter();
                    SourceSnapshotIdParameter.ParameterName = "SourceSnapshotId";
                    SourceSnapshotIdParameter.Direction = ParameterDirection.Input;
                    SourceSnapshotIdParameter.DbType = DbType.Guid;
                    if (SourceSnapshotId.HasValue)
                    {
                        SourceSnapshotIdParameter.Value = SourceSnapshotId.Value;
                    }
                    else
                    {
                        SourceSnapshotIdParameter.Size = -1;
                        SourceSnapshotIdParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SourceSnapshotIdParameter);

                    DbParameter IngestionRunIdParameter = cmd.CreateParameter();
                    IngestionRunIdParameter.ParameterName = "IngestionRunId";
                    IngestionRunIdParameter.Direction = ParameterDirection.Input;
                    IngestionRunIdParameter.DbType = DbType.Guid;
                    if (IngestionRunId.HasValue)
                    {
                        IngestionRunIdParameter.Value = IngestionRunId.Value;
                    }
                    else
                    {
                        IngestionRunIdParameter.Size = -1;
                        IngestionRunIdParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(IngestionRunIdParameter);

                    DbParameter NameParameter = cmd.CreateParameter();
                    NameParameter.ParameterName = "Name";
                    NameParameter.Direction = ParameterDirection.Input;
                    NameParameter.DbType = DbType.String;
                    NameParameter.Size = 400;
                    if (Name != null)
                    {
                        NameParameter.Value = Name;
                    }
                    else
                    {
                        NameParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(NameParameter);

                    DbParameter NamespacePathParameter = cmd.CreateParameter();
                    NamespacePathParameter.ParameterName = "NamespacePath";
                    NamespacePathParameter.Direction = ParameterDirection.Input;
                    NamespacePathParameter.DbType = DbType.String;
                    NamespacePathParameter.Size = 1000;
                    if (NamespacePath != null)
                    {
                        NamespacePathParameter.Value = NamespacePath;
                    }
                    else
                    {
                        NamespacePathParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(NamespacePathParameter);

                    DbParameter KindParameter = cmd.CreateParameter();
                    KindParameter.ParameterName = "Kind";
                    KindParameter.Direction = ParameterDirection.Input;
                    KindParameter.DbType = DbType.String;
                    KindParameter.Size = 200;
                    if (Kind != null)
                    {
                        KindParameter.Value = Kind;
                    }
                    else
                    {
                        KindParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(KindParameter);

                    DbParameter AccessibilityParameter = cmd.CreateParameter();
                    AccessibilityParameter.ParameterName = "Accessibility";
                    AccessibilityParameter.Direction = ParameterDirection.Input;
                    AccessibilityParameter.DbType = DbType.String;
                    AccessibilityParameter.Size = 200;
                    if (Accessibility != null)
                    {
                        AccessibilityParameter.Value = Accessibility;
                    }
                    else
                    {
                        AccessibilityParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(AccessibilityParameter);

                    DbParameter IsStaticParameter = cmd.CreateParameter();
                    IsStaticParameter.ParameterName = "IsStatic";
                    IsStaticParameter.Direction = ParameterDirection.Input;
                    IsStaticParameter.DbType = DbType.Boolean;
                    if (IsStatic.HasValue)
                    {
                        IsStaticParameter.Value = IsStatic.Value;
                    }
                    else
                    {
                        IsStaticParameter.Size = -1;
                        IsStaticParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(IsStaticParameter);

                    DbParameter IsGenericParameter = cmd.CreateParameter();
                    IsGenericParameter.ParameterName = "IsGeneric";
                    IsGenericParameter.Direction = ParameterDirection.Input;
                    IsGenericParameter.DbType = DbType.Boolean;
                    if (IsGeneric.HasValue)
                    {
                        IsGenericParameter.Value = IsGeneric.Value;
                    }
                    else
                    {
                        IsGenericParameter.Size = -1;
                        IsGenericParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(IsGenericParameter);

                    DbParameter IsAbstractParameter = cmd.CreateParameter();
                    IsAbstractParameter.ParameterName = "IsAbstract";
                    IsAbstractParameter.Direction = ParameterDirection.Input;
                    IsAbstractParameter.DbType = DbType.Boolean;
                    if (IsAbstract.HasValue)
                    {
                        IsAbstractParameter.Value = IsAbstract.Value;
                    }
                    else
                    {
                        IsAbstractParameter.Size = -1;
                        IsAbstractParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(IsAbstractParameter);

                    DbParameter IsSealedParameter = cmd.CreateParameter();
                    IsSealedParameter.ParameterName = "IsSealed";
                    IsSealedParameter.Direction = ParameterDirection.Input;
                    IsSealedParameter.DbType = DbType.Boolean;
                    if (IsSealed.HasValue)
                    {
                        IsSealedParameter.Value = IsSealed.Value;
                    }
                    else
                    {
                        IsSealedParameter.Size = -1;
                        IsSealedParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(IsSealedParameter);

                    DbParameter IsRecordParameter = cmd.CreateParameter();
                    IsRecordParameter.ParameterName = "IsRecord";
                    IsRecordParameter.Direction = ParameterDirection.Input;
                    IsRecordParameter.DbType = DbType.Boolean;
                    if (IsRecord.HasValue)
                    {
                        IsRecordParameter.Value = IsRecord.Value;
                    }
                    else
                    {
                        IsRecordParameter.Size = -1;
                        IsRecordParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(IsRecordParameter);

                    DbParameter IsRefLikeParameter = cmd.CreateParameter();
                    IsRefLikeParameter.ParameterName = "IsRefLike";
                    IsRefLikeParameter.Direction = ParameterDirection.Input;
                    IsRefLikeParameter.DbType = DbType.Boolean;
                    if (IsRefLike.HasValue)
                    {
                        IsRefLikeParameter.Value = IsRefLike.Value;
                    }
                    else
                    {
                        IsRefLikeParameter.Size = -1;
                        IsRefLikeParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(IsRefLikeParameter);

                    DbParameter BaseTypeUidParameter = cmd.CreateParameter();
                    BaseTypeUidParameter.ParameterName = "BaseTypeUid";
                    BaseTypeUidParameter.Direction = ParameterDirection.Input;
                    BaseTypeUidParameter.DbType = DbType.String;
                    BaseTypeUidParameter.Size = 1000;
                    if (BaseTypeUid != null)
                    {
                        BaseTypeUidParameter.Value = BaseTypeUid;
                    }
                    else
                    {
                        BaseTypeUidParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(BaseTypeUidParameter);

                    DbParameter InterfacesParameter = cmd.CreateParameter();
                    InterfacesParameter.ParameterName = "Interfaces";
                    InterfacesParameter.Direction = ParameterDirection.Input;
                    InterfacesParameter.DbType = DbType.String;
                    if (Interfaces != null)
                    {
                        InterfacesParameter.Value = Interfaces;
                    }
                    else
                    {
                        InterfacesParameter.Size = -1;
                        InterfacesParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(InterfacesParameter);

                    DbParameter ContainingTypeUidParameter = cmd.CreateParameter();
                    ContainingTypeUidParameter.ParameterName = "ContainingTypeUid";
                    ContainingTypeUidParameter.Direction = ParameterDirection.Input;
                    ContainingTypeUidParameter.DbType = DbType.String;
                    ContainingTypeUidParameter.Size = 1000;
                    if (ContainingTypeUid != null)
                    {
                        ContainingTypeUidParameter.Value = ContainingTypeUid;
                    }
                    else
                    {
                        ContainingTypeUidParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(ContainingTypeUidParameter);

                    DbParameter GenericParametersParameter = cmd.CreateParameter();
                    GenericParametersParameter.ParameterName = "GenericParameters";
                    GenericParametersParameter.Direction = ParameterDirection.Input;
                    GenericParametersParameter.DbType = DbType.String;
                    if (GenericParameters != null)
                    {
                        GenericParametersParameter.Value = GenericParameters;
                    }
                    else
                    {
                        GenericParametersParameter.Size = -1;
                        GenericParametersParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(GenericParametersParameter);

                    DbParameter GenericConstraintsParameter = cmd.CreateParameter();
                    GenericConstraintsParameter.ParameterName = "GenericConstraints";
                    GenericConstraintsParameter.Direction = ParameterDirection.Input;
                    GenericConstraintsParameter.DbType = DbType.String;
                    if (GenericConstraints != null)
                    {
                        GenericConstraintsParameter.Value = GenericConstraints;
                    }
                    else
                    {
                        GenericConstraintsParameter.Size = -1;
                        GenericConstraintsParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(GenericConstraintsParameter);

                    DbParameter SummaryParameter = cmd.CreateParameter();
                    SummaryParameter.ParameterName = "Summary";
                    SummaryParameter.Direction = ParameterDirection.Input;
                    SummaryParameter.DbType = DbType.String;
                    if (Summary != null)
                    {
                        SummaryParameter.Value = Summary;
                    }
                    else
                    {
                        SummaryParameter.Size = -1;
                        SummaryParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SummaryParameter);

                    DbParameter RemarksParameter = cmd.CreateParameter();
                    RemarksParameter.ParameterName = "Remarks";
                    RemarksParameter.Direction = ParameterDirection.Input;
                    RemarksParameter.DbType = DbType.String;
                    if (Remarks != null)
                    {
                        RemarksParameter.Value = Remarks;
                    }
                    else
                    {
                        RemarksParameter.Size = -1;
                        RemarksParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(RemarksParameter);

                    DbParameter AttributesParameter = cmd.CreateParameter();
                    AttributesParameter.ParameterName = "Attributes";
                    AttributesParameter.Direction = ParameterDirection.Input;
                    AttributesParameter.DbType = DbType.String;
                    if (Attributes != null)
                    {
                        AttributesParameter.Value = Attributes;
                    }
                    else
                    {
                        AttributesParameter.Size = -1;
                        AttributesParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(AttributesParameter);

                    DbParameter SourceFilePathParameter = cmd.CreateParameter();
                    SourceFilePathParameter.ParameterName = "SourceFilePath";
                    SourceFilePathParameter.Direction = ParameterDirection.Input;
                    SourceFilePathParameter.DbType = DbType.String;
                    if (SourceFilePath != null)
                    {
                        SourceFilePathParameter.Value = SourceFilePath;
                    }
                    else
                    {
                        SourceFilePathParameter.Size = -1;
                        SourceFilePathParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SourceFilePathParameter);

                    DbParameter SourceStartLineParameter = cmd.CreateParameter();
                    SourceStartLineParameter.ParameterName = "SourceStartLine";
                    SourceStartLineParameter.Direction = ParameterDirection.Input;
                    SourceStartLineParameter.DbType = DbType.Int32;
                    SourceStartLineParameter.Precision = 10;
                    SourceStartLineParameter.Scale = 0;
                    if (SourceStartLine.HasValue)
                    {
                        SourceStartLineParameter.Value = SourceStartLine.Value;
                    }
                    else
                    {
                        SourceStartLineParameter.Size = -1;
                        SourceStartLineParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SourceStartLineParameter);

                    DbParameter SourceEndLineParameter = cmd.CreateParameter();
                    SourceEndLineParameter.ParameterName = "SourceEndLine";
                    SourceEndLineParameter.Direction = ParameterDirection.Input;
                    SourceEndLineParameter.DbType = DbType.Int32;
                    SourceEndLineParameter.Precision = 10;
                    SourceEndLineParameter.Scale = 0;
                    if (SourceEndLine.HasValue)
                    {
                        SourceEndLineParameter.Value = SourceEndLine.Value;
                    }
                    else
                    {
                        SourceEndLineParameter.Size = -1;
                        SourceEndLineParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SourceEndLineParameter);
                    cmd.ExecuteNonQuery();
                }
            }
            finally
            {
                if (needClose)
                    connection.Close();
            }
        }

        public async Task SpUpsertApiTypeAsync (string SemanticUid, Guid? SourceSnapshotId, Guid? IngestionRunId, string Name, string NamespacePath, string Kind, string Accessibility, bool? IsStatic, bool? IsGeneric, bool? IsAbstract, bool? IsSealed, bool? IsRecord, bool? IsRefLike, string BaseTypeUid, string Interfaces, string ContainingTypeUid, string GenericParameters, string GenericConstraints, string Summary, string Remarks, string Attributes, string SourceFilePath, int? SourceStartLine, int? SourceEndLine)
        {

            DbConnection connection = this.Database.GetDbConnection();
            bool needClose = false;
            if (connection.State != ConnectionState.Open)
            {
                await connection.OpenAsync();
                needClose = true;
            }

            try
            {
                using (DbCommand cmd = connection.CreateCommand())
                {
                    if (this.Database.GetCommandTimeout().HasValue)
                        cmd.CommandTimeout = this.Database.GetCommandTimeout().Value;
                    cmd.CommandType = CommandType.StoredProcedure;
                    cmd.CommandText = @"dbo.sp_UpsertApiType";

                    DbParameter SemanticUidParameter = cmd.CreateParameter();
                    SemanticUidParameter.ParameterName = "SemanticUid";
                    SemanticUidParameter.Direction = ParameterDirection.Input;
                    SemanticUidParameter.DbType = DbType.String;
                    SemanticUidParameter.Size = 1000;
                    if (SemanticUid != null)
                    {
                        SemanticUidParameter.Value = SemanticUid;
                    }
                    else
                    {
                        SemanticUidParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SemanticUidParameter);

                    DbParameter SourceSnapshotIdParameter = cmd.CreateParameter();
                    SourceSnapshotIdParameter.ParameterName = "SourceSnapshotId";
                    SourceSnapshotIdParameter.Direction = ParameterDirection.Input;
                    SourceSnapshotIdParameter.DbType = DbType.Guid;
                    if (SourceSnapshotId.HasValue)
                    {
                        SourceSnapshotIdParameter.Value = SourceSnapshotId.Value;
                    }
                    else
                    {
                        SourceSnapshotIdParameter.Size = -1;
                        SourceSnapshotIdParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SourceSnapshotIdParameter);

                    DbParameter IngestionRunIdParameter = cmd.CreateParameter();
                    IngestionRunIdParameter.ParameterName = "IngestionRunId";
                    IngestionRunIdParameter.Direction = ParameterDirection.Input;
                    IngestionRunIdParameter.DbType = DbType.Guid;
                    if (IngestionRunId.HasValue)
                    {
                        IngestionRunIdParameter.Value = IngestionRunId.Value;
                    }
                    else
                    {
                        IngestionRunIdParameter.Size = -1;
                        IngestionRunIdParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(IngestionRunIdParameter);

                    DbParameter NameParameter = cmd.CreateParameter();
                    NameParameter.ParameterName = "Name";
                    NameParameter.Direction = ParameterDirection.Input;
                    NameParameter.DbType = DbType.String;
                    NameParameter.Size = 400;
                    if (Name != null)
                    {
                        NameParameter.Value = Name;
                    }
                    else
                    {
                        NameParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(NameParameter);

                    DbParameter NamespacePathParameter = cmd.CreateParameter();
                    NamespacePathParameter.ParameterName = "NamespacePath";
                    NamespacePathParameter.Direction = ParameterDirection.Input;
                    NamespacePathParameter.DbType = DbType.String;
                    NamespacePathParameter.Size = 1000;
                    if (NamespacePath != null)
                    {
                        NamespacePathParameter.Value = NamespacePath;
                    }
                    else
                    {
                        NamespacePathParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(NamespacePathParameter);

                    DbParameter KindParameter = cmd.CreateParameter();
                    KindParameter.ParameterName = "Kind";
                    KindParameter.Direction = ParameterDirection.Input;
                    KindParameter.DbType = DbType.String;
                    KindParameter.Size = 200;
                    if (Kind != null)
                    {
                        KindParameter.Value = Kind;
                    }
                    else
                    {
                        KindParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(KindParameter);

                    DbParameter AccessibilityParameter = cmd.CreateParameter();
                    AccessibilityParameter.ParameterName = "Accessibility";
                    AccessibilityParameter.Direction = ParameterDirection.Input;
                    AccessibilityParameter.DbType = DbType.String;
                    AccessibilityParameter.Size = 200;
                    if (Accessibility != null)
                    {
                        AccessibilityParameter.Value = Accessibility;
                    }
                    else
                    {
                        AccessibilityParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(AccessibilityParameter);

                    DbParameter IsStaticParameter = cmd.CreateParameter();
                    IsStaticParameter.ParameterName = "IsStatic";
                    IsStaticParameter.Direction = ParameterDirection.Input;
                    IsStaticParameter.DbType = DbType.Boolean;
                    if (IsStatic.HasValue)
                    {
                        IsStaticParameter.Value = IsStatic.Value;
                    }
                    else
                    {
                        IsStaticParameter.Size = -1;
                        IsStaticParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(IsStaticParameter);

                    DbParameter IsGenericParameter = cmd.CreateParameter();
                    IsGenericParameter.ParameterName = "IsGeneric";
                    IsGenericParameter.Direction = ParameterDirection.Input;
                    IsGenericParameter.DbType = DbType.Boolean;
                    if (IsGeneric.HasValue)
                    {
                        IsGenericParameter.Value = IsGeneric.Value;
                    }
                    else
                    {
                        IsGenericParameter.Size = -1;
                        IsGenericParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(IsGenericParameter);

                    DbParameter IsAbstractParameter = cmd.CreateParameter();
                    IsAbstractParameter.ParameterName = "IsAbstract";
                    IsAbstractParameter.Direction = ParameterDirection.Input;
                    IsAbstractParameter.DbType = DbType.Boolean;
                    if (IsAbstract.HasValue)
                    {
                        IsAbstractParameter.Value = IsAbstract.Value;
                    }
                    else
                    {
                        IsAbstractParameter.Size = -1;
                        IsAbstractParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(IsAbstractParameter);

                    DbParameter IsSealedParameter = cmd.CreateParameter();
                    IsSealedParameter.ParameterName = "IsSealed";
                    IsSealedParameter.Direction = ParameterDirection.Input;
                    IsSealedParameter.DbType = DbType.Boolean;
                    if (IsSealed.HasValue)
                    {
                        IsSealedParameter.Value = IsSealed.Value;
                    }
                    else
                    {
                        IsSealedParameter.Size = -1;
                        IsSealedParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(IsSealedParameter);

                    DbParameter IsRecordParameter = cmd.CreateParameter();
                    IsRecordParameter.ParameterName = "IsRecord";
                    IsRecordParameter.Direction = ParameterDirection.Input;
                    IsRecordParameter.DbType = DbType.Boolean;
                    if (IsRecord.HasValue)
                    {
                        IsRecordParameter.Value = IsRecord.Value;
                    }
                    else
                    {
                        IsRecordParameter.Size = -1;
                        IsRecordParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(IsRecordParameter);

                    DbParameter IsRefLikeParameter = cmd.CreateParameter();
                    IsRefLikeParameter.ParameterName = "IsRefLike";
                    IsRefLikeParameter.Direction = ParameterDirection.Input;
                    IsRefLikeParameter.DbType = DbType.Boolean;
                    if (IsRefLike.HasValue)
                    {
                        IsRefLikeParameter.Value = IsRefLike.Value;
                    }
                    else
                    {
                        IsRefLikeParameter.Size = -1;
                        IsRefLikeParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(IsRefLikeParameter);

                    DbParameter BaseTypeUidParameter = cmd.CreateParameter();
                    BaseTypeUidParameter.ParameterName = "BaseTypeUid";
                    BaseTypeUidParameter.Direction = ParameterDirection.Input;
                    BaseTypeUidParameter.DbType = DbType.String;
                    BaseTypeUidParameter.Size = 1000;
                    if (BaseTypeUid != null)
                    {
                        BaseTypeUidParameter.Value = BaseTypeUid;
                    }
                    else
                    {
                        BaseTypeUidParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(BaseTypeUidParameter);

                    DbParameter InterfacesParameter = cmd.CreateParameter();
                    InterfacesParameter.ParameterName = "Interfaces";
                    InterfacesParameter.Direction = ParameterDirection.Input;
                    InterfacesParameter.DbType = DbType.String;
                    if (Interfaces != null)
                    {
                        InterfacesParameter.Value = Interfaces;
                    }
                    else
                    {
                        InterfacesParameter.Size = -1;
                        InterfacesParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(InterfacesParameter);

                    DbParameter ContainingTypeUidParameter = cmd.CreateParameter();
                    ContainingTypeUidParameter.ParameterName = "ContainingTypeUid";
                    ContainingTypeUidParameter.Direction = ParameterDirection.Input;
                    ContainingTypeUidParameter.DbType = DbType.String;
                    ContainingTypeUidParameter.Size = 1000;
                    if (ContainingTypeUid != null)
                    {
                        ContainingTypeUidParameter.Value = ContainingTypeUid;
                    }
                    else
                    {
                        ContainingTypeUidParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(ContainingTypeUidParameter);

                    DbParameter GenericParametersParameter = cmd.CreateParameter();
                    GenericParametersParameter.ParameterName = "GenericParameters";
                    GenericParametersParameter.Direction = ParameterDirection.Input;
                    GenericParametersParameter.DbType = DbType.String;
                    if (GenericParameters != null)
                    {
                        GenericParametersParameter.Value = GenericParameters;
                    }
                    else
                    {
                        GenericParametersParameter.Size = -1;
                        GenericParametersParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(GenericParametersParameter);

                    DbParameter GenericConstraintsParameter = cmd.CreateParameter();
                    GenericConstraintsParameter.ParameterName = "GenericConstraints";
                    GenericConstraintsParameter.Direction = ParameterDirection.Input;
                    GenericConstraintsParameter.DbType = DbType.String;
                    if (GenericConstraints != null)
                    {
                        GenericConstraintsParameter.Value = GenericConstraints;
                    }
                    else
                    {
                        GenericConstraintsParameter.Size = -1;
                        GenericConstraintsParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(GenericConstraintsParameter);

                    DbParameter SummaryParameter = cmd.CreateParameter();
                    SummaryParameter.ParameterName = "Summary";
                    SummaryParameter.Direction = ParameterDirection.Input;
                    SummaryParameter.DbType = DbType.String;
                    if (Summary != null)
                    {
                        SummaryParameter.Value = Summary;
                    }
                    else
                    {
                        SummaryParameter.Size = -1;
                        SummaryParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SummaryParameter);

                    DbParameter RemarksParameter = cmd.CreateParameter();
                    RemarksParameter.ParameterName = "Remarks";
                    RemarksParameter.Direction = ParameterDirection.Input;
                    RemarksParameter.DbType = DbType.String;
                    if (Remarks != null)
                    {
                        RemarksParameter.Value = Remarks;
                    }
                    else
                    {
                        RemarksParameter.Size = -1;
                        RemarksParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(RemarksParameter);

                    DbParameter AttributesParameter = cmd.CreateParameter();
                    AttributesParameter.ParameterName = "Attributes";
                    AttributesParameter.Direction = ParameterDirection.Input;
                    AttributesParameter.DbType = DbType.String;
                    if (Attributes != null)
                    {
                        AttributesParameter.Value = Attributes;
                    }
                    else
                    {
                        AttributesParameter.Size = -1;
                        AttributesParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(AttributesParameter);

                    DbParameter SourceFilePathParameter = cmd.CreateParameter();
                    SourceFilePathParameter.ParameterName = "SourceFilePath";
                    SourceFilePathParameter.Direction = ParameterDirection.Input;
                    SourceFilePathParameter.DbType = DbType.String;
                    if (SourceFilePath != null)
                    {
                        SourceFilePathParameter.Value = SourceFilePath;
                    }
                    else
                    {
                        SourceFilePathParameter.Size = -1;
                        SourceFilePathParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SourceFilePathParameter);

                    DbParameter SourceStartLineParameter = cmd.CreateParameter();
                    SourceStartLineParameter.ParameterName = "SourceStartLine";
                    SourceStartLineParameter.Direction = ParameterDirection.Input;
                    SourceStartLineParameter.DbType = DbType.Int32;
                    SourceStartLineParameter.Precision = 10;
                    SourceStartLineParameter.Scale = 0;
                    if (SourceStartLine.HasValue)
                    {
                        SourceStartLineParameter.Value = SourceStartLine.Value;
                    }
                    else
                    {
                        SourceStartLineParameter.Size = -1;
                        SourceStartLineParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SourceStartLineParameter);

                    DbParameter SourceEndLineParameter = cmd.CreateParameter();
                    SourceEndLineParameter.ParameterName = "SourceEndLine";
                    SourceEndLineParameter.Direction = ParameterDirection.Input;
                    SourceEndLineParameter.DbType = DbType.Int32;
                    SourceEndLineParameter.Precision = 10;
                    SourceEndLineParameter.Scale = 0;
                    if (SourceEndLine.HasValue)
                    {
                        SourceEndLineParameter.Value = SourceEndLine.Value;
                    }
                    else
                    {
                        SourceEndLineParameter.Size = -1;
                        SourceEndLineParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SourceEndLineParameter);
                    await cmd.ExecuteNonQueryAsync();
                }
            }
            finally
            {
                if (needClose)
                    connection.Close();
            }
        }

        public void SpUpsertDocPage (string SemanticUid, Guid? SourceSnapshotId, Guid? IngestionRunId, string SourcePath, string Title, string Language, string Url, string RawMarkdown)
        {

            DbConnection connection = this.Database.GetDbConnection();
            bool needClose = false;
            if (connection.State != ConnectionState.Open)
            {
                connection.Open();
                needClose = true;
            }

            try
            {
                using (DbCommand cmd = connection.CreateCommand())
                {
                    if (this.Database.GetCommandTimeout().HasValue)
                        cmd.CommandTimeout = this.Database.GetCommandTimeout().Value;
                    cmd.CommandType = CommandType.StoredProcedure;
                    cmd.CommandText = @"dbo.sp_UpsertDocPage";

                    DbParameter SemanticUidParameter = cmd.CreateParameter();
                    SemanticUidParameter.ParameterName = "SemanticUid";
                    SemanticUidParameter.Direction = ParameterDirection.Input;
                    SemanticUidParameter.DbType = DbType.String;
                    SemanticUidParameter.Size = 1000;
                    if (SemanticUid != null)
                    {
                        SemanticUidParameter.Value = SemanticUid;
                    }
                    else
                    {
                        SemanticUidParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SemanticUidParameter);

                    DbParameter SourceSnapshotIdParameter = cmd.CreateParameter();
                    SourceSnapshotIdParameter.ParameterName = "SourceSnapshotId";
                    SourceSnapshotIdParameter.Direction = ParameterDirection.Input;
                    SourceSnapshotIdParameter.DbType = DbType.Guid;
                    if (SourceSnapshotId.HasValue)
                    {
                        SourceSnapshotIdParameter.Value = SourceSnapshotId.Value;
                    }
                    else
                    {
                        SourceSnapshotIdParameter.Size = -1;
                        SourceSnapshotIdParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SourceSnapshotIdParameter);

                    DbParameter IngestionRunIdParameter = cmd.CreateParameter();
                    IngestionRunIdParameter.ParameterName = "IngestionRunId";
                    IngestionRunIdParameter.Direction = ParameterDirection.Input;
                    IngestionRunIdParameter.DbType = DbType.Guid;
                    if (IngestionRunId.HasValue)
                    {
                        IngestionRunIdParameter.Value = IngestionRunId.Value;
                    }
                    else
                    {
                        IngestionRunIdParameter.Size = -1;
                        IngestionRunIdParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(IngestionRunIdParameter);

                    DbParameter SourcePathParameter = cmd.CreateParameter();
                    SourcePathParameter.ParameterName = "SourcePath";
                    SourcePathParameter.Direction = ParameterDirection.Input;
                    SourcePathParameter.DbType = DbType.String;
                    if (SourcePath != null)
                    {
                        SourcePathParameter.Value = SourcePath;
                    }
                    else
                    {
                        SourcePathParameter.Size = -1;
                        SourcePathParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SourcePathParameter);

                    DbParameter TitleParameter = cmd.CreateParameter();
                    TitleParameter.ParameterName = "Title";
                    TitleParameter.Direction = ParameterDirection.Input;
                    TitleParameter.DbType = DbType.String;
                    TitleParameter.Size = 400;
                    if (Title != null)
                    {
                        TitleParameter.Value = Title;
                    }
                    else
                    {
                        TitleParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(TitleParameter);

                    DbParameter LanguageParameter = cmd.CreateParameter();
                    LanguageParameter.ParameterName = "Language";
                    LanguageParameter.Direction = ParameterDirection.Input;
                    LanguageParameter.DbType = DbType.String;
                    LanguageParameter.Size = 200;
                    if (Language != null)
                    {
                        LanguageParameter.Value = Language;
                    }
                    else
                    {
                        LanguageParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(LanguageParameter);

                    DbParameter UrlParameter = cmd.CreateParameter();
                    UrlParameter.ParameterName = "Url";
                    UrlParameter.Direction = ParameterDirection.Input;
                    UrlParameter.DbType = DbType.String;
                    if (Url != null)
                    {
                        UrlParameter.Value = Url;
                    }
                    else
                    {
                        UrlParameter.Size = -1;
                        UrlParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(UrlParameter);

                    DbParameter RawMarkdownParameter = cmd.CreateParameter();
                    RawMarkdownParameter.ParameterName = "RawMarkdown";
                    RawMarkdownParameter.Direction = ParameterDirection.Input;
                    RawMarkdownParameter.DbType = DbType.String;
                    if (RawMarkdown != null)
                    {
                        RawMarkdownParameter.Value = RawMarkdown;
                    }
                    else
                    {
                        RawMarkdownParameter.Size = -1;
                        RawMarkdownParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(RawMarkdownParameter);
                    cmd.ExecuteNonQuery();
                }
            }
            finally
            {
                if (needClose)
                    connection.Close();
            }
        }

        public async Task SpUpsertDocPageAsync (string SemanticUid, Guid? SourceSnapshotId, Guid? IngestionRunId, string SourcePath, string Title, string Language, string Url, string RawMarkdown)
        {

            DbConnection connection = this.Database.GetDbConnection();
            bool needClose = false;
            if (connection.State != ConnectionState.Open)
            {
                await connection.OpenAsync();
                needClose = true;
            }

            try
            {
                using (DbCommand cmd = connection.CreateCommand())
                {
                    if (this.Database.GetCommandTimeout().HasValue)
                        cmd.CommandTimeout = this.Database.GetCommandTimeout().Value;
                    cmd.CommandType = CommandType.StoredProcedure;
                    cmd.CommandText = @"dbo.sp_UpsertDocPage";

                    DbParameter SemanticUidParameter = cmd.CreateParameter();
                    SemanticUidParameter.ParameterName = "SemanticUid";
                    SemanticUidParameter.Direction = ParameterDirection.Input;
                    SemanticUidParameter.DbType = DbType.String;
                    SemanticUidParameter.Size = 1000;
                    if (SemanticUid != null)
                    {
                        SemanticUidParameter.Value = SemanticUid;
                    }
                    else
                    {
                        SemanticUidParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SemanticUidParameter);

                    DbParameter SourceSnapshotIdParameter = cmd.CreateParameter();
                    SourceSnapshotIdParameter.ParameterName = "SourceSnapshotId";
                    SourceSnapshotIdParameter.Direction = ParameterDirection.Input;
                    SourceSnapshotIdParameter.DbType = DbType.Guid;
                    if (SourceSnapshotId.HasValue)
                    {
                        SourceSnapshotIdParameter.Value = SourceSnapshotId.Value;
                    }
                    else
                    {
                        SourceSnapshotIdParameter.Size = -1;
                        SourceSnapshotIdParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SourceSnapshotIdParameter);

                    DbParameter IngestionRunIdParameter = cmd.CreateParameter();
                    IngestionRunIdParameter.ParameterName = "IngestionRunId";
                    IngestionRunIdParameter.Direction = ParameterDirection.Input;
                    IngestionRunIdParameter.DbType = DbType.Guid;
                    if (IngestionRunId.HasValue)
                    {
                        IngestionRunIdParameter.Value = IngestionRunId.Value;
                    }
                    else
                    {
                        IngestionRunIdParameter.Size = -1;
                        IngestionRunIdParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(IngestionRunIdParameter);

                    DbParameter SourcePathParameter = cmd.CreateParameter();
                    SourcePathParameter.ParameterName = "SourcePath";
                    SourcePathParameter.Direction = ParameterDirection.Input;
                    SourcePathParameter.DbType = DbType.String;
                    if (SourcePath != null)
                    {
                        SourcePathParameter.Value = SourcePath;
                    }
                    else
                    {
                        SourcePathParameter.Size = -1;
                        SourcePathParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SourcePathParameter);

                    DbParameter TitleParameter = cmd.CreateParameter();
                    TitleParameter.ParameterName = "Title";
                    TitleParameter.Direction = ParameterDirection.Input;
                    TitleParameter.DbType = DbType.String;
                    TitleParameter.Size = 400;
                    if (Title != null)
                    {
                        TitleParameter.Value = Title;
                    }
                    else
                    {
                        TitleParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(TitleParameter);

                    DbParameter LanguageParameter = cmd.CreateParameter();
                    LanguageParameter.ParameterName = "Language";
                    LanguageParameter.Direction = ParameterDirection.Input;
                    LanguageParameter.DbType = DbType.String;
                    LanguageParameter.Size = 200;
                    if (Language != null)
                    {
                        LanguageParameter.Value = Language;
                    }
                    else
                    {
                        LanguageParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(LanguageParameter);

                    DbParameter UrlParameter = cmd.CreateParameter();
                    UrlParameter.ParameterName = "Url";
                    UrlParameter.Direction = ParameterDirection.Input;
                    UrlParameter.DbType = DbType.String;
                    if (Url != null)
                    {
                        UrlParameter.Value = Url;
                    }
                    else
                    {
                        UrlParameter.Size = -1;
                        UrlParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(UrlParameter);

                    DbParameter RawMarkdownParameter = cmd.CreateParameter();
                    RawMarkdownParameter.ParameterName = "RawMarkdown";
                    RawMarkdownParameter.Direction = ParameterDirection.Input;
                    RawMarkdownParameter.DbType = DbType.String;
                    if (RawMarkdown != null)
                    {
                        RawMarkdownParameter.Value = RawMarkdown;
                    }
                    else
                    {
                        RawMarkdownParameter.Size = -1;
                        RawMarkdownParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(RawMarkdownParameter);
                    await cmd.ExecuteNonQueryAsync();
                }
            }
            finally
            {
                if (needClose)
                    connection.Close();
            }
        }

        public SpVerifyIngestionRunMultipleResult SpVerifyIngestionRun (Guid? IngestionRunId)
        {

            SpVerifyIngestionRunMultipleResult result = new SpVerifyIngestionRunMultipleResult();
            DbConnection connection = this.Database.GetDbConnection();
            bool needClose = false;
            if (connection.State != ConnectionState.Open)
            {
                connection.Open();
                needClose = true;
            }

            try
            {
                using (DbCommand cmd = connection.CreateCommand())
                {
                    if (this.Database.GetCommandTimeout().HasValue)
                        cmd.CommandTimeout = this.Database.GetCommandTimeout().Value;
                    cmd.CommandType = CommandType.StoredProcedure;
                    cmd.CommandText = @"dbo.sp_VerifyIngestionRun";

                    DbParameter IngestionRunIdParameter = cmd.CreateParameter();
                    IngestionRunIdParameter.ParameterName = "IngestionRunId";
                    IngestionRunIdParameter.Direction = ParameterDirection.Input;
                    IngestionRunIdParameter.DbType = DbType.Guid;
                    if (IngestionRunId.HasValue)
                    {
                        IngestionRunIdParameter.Value = IngestionRunId.Value;
                    }
                    else
                    {
                        IngestionRunIdParameter.Size = -1;
                        IngestionRunIdParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(IngestionRunIdParameter);
                    using (IDataReader reader = cmd.ExecuteReader())
                    {
                        string[] fieldNames;
                        fieldNames = Enumerable.Range(0, reader.FieldCount).Select(i => reader.GetName(i)).ToArray();

                        while (reader.Read())
                        {

                            SpVerifyIngestionRunResult resultRow = new SpVerifyIngestionRunResult();
                            if (fieldNames.Contains(@"category") && !reader.IsDBNull(reader.GetOrdinal(@"category")))
                                resultRow.Category = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"category")), typeof(string));
                            else
                                resultRow.Category = null;
                            if (fieldNames.Contains(@"detail") && !reader.IsDBNull(reader.GetOrdinal(@"detail")))
                                resultRow.Detail = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"detail")), typeof(string));
                            else
                                resultRow.Detail = null;
                            result.SpVerifyIngestionRunResults.Add(resultRow);
                        }
                        reader.NextResult();

                        fieldNames = Enumerable.Range(0, reader.FieldCount).Select(i => reader.GetName(i)).ToArray();

                        while (reader.Read())
                        {

                            SpVerifyIngestionRunResult resultRow = new SpVerifyIngestionRunResult();
                            if (fieldNames.Contains(@"category") && !reader.IsDBNull(reader.GetOrdinal(@"category")))
                                resultRow.Category = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"category")), typeof(string));
                            else
                                resultRow.Category = null;
                            if (fieldNames.Contains(@"detail") && !reader.IsDBNull(reader.GetOrdinal(@"detail")))
                                resultRow.Detail = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"detail")), typeof(string));
                            else
                                resultRow.Detail = null;
                            result.SpVerifyIngestionRunResults.Add(resultRow);
                        }
                        reader.NextResult();

                    }

                }
            }
            finally
            {
                if (needClose)
                    connection.Close();
            }
            return result;
        }

        public async Task<SpVerifyIngestionRunMultipleResult> SpVerifyIngestionRunAsync (Guid? IngestionRunId)
        {

            SpVerifyIngestionRunMultipleResult result = new SpVerifyIngestionRunMultipleResult();
            DbConnection connection = this.Database.GetDbConnection();
            bool needClose = false;
            if (connection.State != ConnectionState.Open)
            {
                await connection.OpenAsync();
                needClose = true;
            }

            try
            {
                using (DbCommand cmd = connection.CreateCommand())
                {
                    if (this.Database.GetCommandTimeout().HasValue)
                        cmd.CommandTimeout = this.Database.GetCommandTimeout().Value;
                    cmd.CommandType = CommandType.StoredProcedure;
                    cmd.CommandText = @"dbo.sp_VerifyIngestionRun";

                    DbParameter IngestionRunIdParameter = cmd.CreateParameter();
                    IngestionRunIdParameter.ParameterName = "IngestionRunId";
                    IngestionRunIdParameter.Direction = ParameterDirection.Input;
                    IngestionRunIdParameter.DbType = DbType.Guid;
                    if (IngestionRunId.HasValue)
                    {
                        IngestionRunIdParameter.Value = IngestionRunId.Value;
                    }
                    else
                    {
                        IngestionRunIdParameter.Size = -1;
                        IngestionRunIdParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(IngestionRunIdParameter);
                    using (IDataReader reader = await cmd.ExecuteReaderAsync())
                    {
                        string[] fieldNames;
                        fieldNames = Enumerable.Range(0, reader.FieldCount).Select(i => reader.GetName(i)).ToArray();

                        while (reader.Read())
                        {

                            SpVerifyIngestionRunResult resultRow = new SpVerifyIngestionRunResult();
                            if (fieldNames.Contains(@"category") && !reader.IsDBNull(reader.GetOrdinal(@"category")))
                                resultRow.Category = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"category")), typeof(string));
                            else
                                resultRow.Category = null;
                            if (fieldNames.Contains(@"detail") && !reader.IsDBNull(reader.GetOrdinal(@"detail")))
                                resultRow.Detail = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"detail")), typeof(string));
                            else
                                resultRow.Detail = null;
                            result.SpVerifyIngestionRunResults.Add(resultRow);
                        }
                        reader.NextResult();

                        fieldNames = Enumerable.Range(0, reader.FieldCount).Select(i => reader.GetName(i)).ToArray();

                        while (reader.Read())
                        {

                            SpVerifyIngestionRunResult resultRow = new SpVerifyIngestionRunResult();
                            if (fieldNames.Contains(@"category") && !reader.IsDBNull(reader.GetOrdinal(@"category")))
                                resultRow.Category = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"category")), typeof(string));
                            else
                                resultRow.Category = null;
                            if (fieldNames.Contains(@"detail") && !reader.IsDBNull(reader.GetOrdinal(@"detail")))
                                resultRow.Detail = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"detail")), typeof(string));
                            else
                                resultRow.Detail = null;
                            result.SpVerifyIngestionRunResults.Add(resultRow);
                        }
                        reader.NextResult();

                    }

                }
            }
            finally
            {
                if (needClose)
                    connection.Close();
            }
            return result;
        }

        public byte[] FnComputeContentHash256 (string Input)
        {

            byte[] result;
            DbConnection connection = this.Database.GetDbConnection();
            bool needClose = false;
            if (connection.State != ConnectionState.Open)
            {
                connection.Open();
                needClose = true;
            }

            try
            {
                using (DbCommand cmd = connection.CreateCommand())
                {
                    if (this.Database.GetCommandTimeout().HasValue)
                        cmd.CommandTimeout = this.Database.GetCommandTimeout().Value;
                    cmd.CommandType = CommandType.StoredProcedure;
                    cmd.CommandText = @"dbo.fn_ComputeContentHash256";

                    DbParameter InputParameter = cmd.CreateParameter();
                    InputParameter.ParameterName = "Input";
                    InputParameter.Direction = ParameterDirection.Input;
                    InputParameter.DbType = DbType.String;
                    if (Input != null)
                    {
                        InputParameter.Value = Input;
                    }
                    else
                    {
                        InputParameter.Size = -1;
                        InputParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(InputParameter);

                    DbParameter returnValueParameter = cmd.CreateParameter();
                    returnValueParameter.Direction = ParameterDirection.ReturnValue;
                    returnValueParameter.DbType = DbType.Binary;
                    returnValueParameter.Size = -1;
                    cmd.Parameters.Add(returnValueParameter);
                    cmd.ExecuteNonQuery();
                    if (returnValueParameter.Value != null && !(returnValueParameter.Value is System.DBNull))
                        result = (byte[])Convert.ChangeType(returnValueParameter.Value, typeof(byte[]));
                    else
                        result = default(byte[]);
                }
            }
            finally
            {
                if (needClose)
                    connection.Close();
            }
            return result;
        }

        public async Task<byte[]> FnComputeContentHash256Async (string Input)
        {

            byte[] result;
            DbConnection connection = this.Database.GetDbConnection();
            bool needClose = false;
            if (connection.State != ConnectionState.Open)
            {
                await connection.OpenAsync();
                needClose = true;
            }

            try
            {
                using (DbCommand cmd = connection.CreateCommand())
                {
                    if (this.Database.GetCommandTimeout().HasValue)
                        cmd.CommandTimeout = this.Database.GetCommandTimeout().Value;
                    cmd.CommandType = CommandType.StoredProcedure;
                    cmd.CommandText = @"dbo.fn_ComputeContentHash256";

                    DbParameter InputParameter = cmd.CreateParameter();
                    InputParameter.ParameterName = "Input";
                    InputParameter.Direction = ParameterDirection.Input;
                    InputParameter.DbType = DbType.String;
                    if (Input != null)
                    {
                        InputParameter.Value = Input;
                    }
                    else
                    {
                        InputParameter.Size = -1;
                        InputParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(InputParameter);

                    DbParameter returnValueParameter = cmd.CreateParameter();
                    returnValueParameter.Direction = ParameterDirection.ReturnValue;
                    returnValueParameter.DbType = DbType.Binary;
                    returnValueParameter.Size = -1;
                    cmd.Parameters.Add(returnValueParameter);
                    await cmd.ExecuteNonQueryAsync();
                    if (returnValueParameter.Value != null && !(returnValueParameter.Value is System.DBNull))
                        result = (byte[])Convert.ChangeType(returnValueParameter.Value, typeof(byte[]));
                    else
                        result = default(byte[]);
                }
            }
            finally
            {
                if (needClose)
                    connection.Close();
            }
            return result;
        }

        public List<DocPage> FnGetDocPageAsOf (string SemanticUid, DateTime? AsOfUtc)
        {

            List<DocPage> result = new List<DocPage>();
            DbConnection connection = this.Database.GetDbConnection();
            bool needClose = false;
            if (connection.State != ConnectionState.Open)
            {
                connection.Open();
                needClose = true;
            }

            try
            {
                using (DbCommand cmd = connection.CreateCommand())
                {
                    if (this.Database.GetCommandTimeout().HasValue)
                        cmd.CommandTimeout = this.Database.GetCommandTimeout().Value;
                    cmd.CommandType = CommandType.Text;
                    cmd.CommandText = @"select * from dbo.fn_GetDocPageAsOf(@SemanticUid, @AsOfUtc)";

                    DbParameter SemanticUidParameter = cmd.CreateParameter();
                    SemanticUidParameter.ParameterName = "SemanticUid";
                    SemanticUidParameter.Direction = ParameterDirection.Input;
                    SemanticUidParameter.DbType = DbType.String;
                    SemanticUidParameter.Size = 1000;
                    if (SemanticUid != null)
                    {
                        SemanticUidParameter.Value = SemanticUid;
                    }
                    else
                    {
                        SemanticUidParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SemanticUidParameter);

                    DbParameter AsOfUtcParameter = cmd.CreateParameter();
                    AsOfUtcParameter.ParameterName = "AsOfUtc";
                    AsOfUtcParameter.Direction = ParameterDirection.Input;
                    AsOfUtcParameter.DbType = DbType.DateTime;
                    if (AsOfUtc.HasValue)
                    {
                        AsOfUtcParameter.Value = AsOfUtc.Value;
                    }
                    else
                    {
                        AsOfUtcParameter.Size = -1;
                        AsOfUtcParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(AsOfUtcParameter);
                    using (IDataReader reader = cmd.ExecuteReader())
                    {
                        var fieldNames = Enumerable.Range(0, reader.FieldCount).Select(i => reader.GetName(i)).ToArray();
                        while (reader.Read())
                        {
                            DocPage row = new DocPage();
                            if (fieldNames.Contains("id") && !reader.IsDBNull(reader.GetOrdinal(@"id")))
                                row.Id = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"id")), typeof(System.Guid));

                            if (fieldNames.Contains("semantic_uid") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid")))
                                row.SemanticUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid")), typeof(string));

                            if (fieldNames.Contains("source_snapshot_id") && !reader.IsDBNull(reader.GetOrdinal(@"source_snapshot_id")))
                                row.SourceSnapshotId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"source_snapshot_id")), typeof(System.Guid));

                            if (fieldNames.Contains("source_path") && !reader.IsDBNull(reader.GetOrdinal(@"source_path")))
                                row.SourcePath = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"source_path")), typeof(string));
                            else
                                row.SourcePath = null;

                            if (fieldNames.Contains("title") && !reader.IsDBNull(reader.GetOrdinal(@"title")))
                                row.Title = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"title")), typeof(string));
                            else
                                row.Title = null;

                            if (fieldNames.Contains("language") && !reader.IsDBNull(reader.GetOrdinal(@"language")))
                                row.Language = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"language")), typeof(string));
                            else
                                row.Language = null;

                            if (fieldNames.Contains("url") && !reader.IsDBNull(reader.GetOrdinal(@"url")))
                                row.Url = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"url")), typeof(string));
                            else
                                row.Url = null;

                            if (fieldNames.Contains("raw_markdown") && !reader.IsDBNull(reader.GetOrdinal(@"raw_markdown")))
                                row.RawMarkdown = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"raw_markdown")), typeof(string));
                            else
                                row.RawMarkdown = null;

                            if (fieldNames.Contains("version_number") && !reader.IsDBNull(reader.GetOrdinal(@"version_number")))
                                row.VersionNumber = (int)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"version_number")), typeof(int));

                            if (fieldNames.Contains("created_ingestion_run_id") && !reader.IsDBNull(reader.GetOrdinal(@"created_ingestion_run_id")))
                                row.CreatedIngestionRunId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"created_ingestion_run_id")), typeof(System.Guid));

                            if (fieldNames.Contains("updated_ingestion_run_id") && !reader.IsDBNull(reader.GetOrdinal(@"updated_ingestion_run_id")))
                                row.UpdatedIngestionRunId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"updated_ingestion_run_id")), typeof(System.Guid));

                            if (fieldNames.Contains("removed_ingestion_run_id") && !reader.IsDBNull(reader.GetOrdinal(@"removed_ingestion_run_id")))
                                row.RemovedIngestionRunId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"removed_ingestion_run_id")), typeof(System.Guid));
                            else
                                row.RemovedIngestionRunId = null;

                            if (fieldNames.Contains("valid_from_utc") && !reader.IsDBNull(reader.GetOrdinal(@"valid_from_utc")))
                                row.ValidFromUtc = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"valid_from_utc")), typeof(System.DateTime));

                            if (fieldNames.Contains("valid_to_utc") && !reader.IsDBNull(reader.GetOrdinal(@"valid_to_utc")))
                                row.ValidToUtc = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"valid_to_utc")), typeof(System.DateTime));
                            else
                                row.ValidToUtc = null;

                            if (fieldNames.Contains("is_active") && !reader.IsDBNull(reader.GetOrdinal(@"is_active")))
                                row.IsActive = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_active")), typeof(bool));

                            if (fieldNames.Contains("content_hash") && !reader.IsDBNull(reader.GetOrdinal(@"content_hash")))
                                row.ContentHash = (byte[])Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"content_hash")), typeof(byte[]));
                            else
                                row.ContentHash = null;

                            if (fieldNames.Contains("semantic_uid_hash") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid_hash")))
                                row.SemanticUidHash = (byte[])Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid_hash")), typeof(byte[]));
                            else
                                row.SemanticUidHash = null;

                            result.Add(row);
                        }
                    }
                }
            }
            finally
            {
                if (needClose)
                    connection.Close();
            }
            return result;
        }

        public async Task<List<DocPage>> FnGetDocPageAsOfAsync (string SemanticUid, DateTime? AsOfUtc)
        {

            List<DocPage> result = new List<DocPage>();
            DbConnection connection = this.Database.GetDbConnection();
            bool needClose = false;
            if (connection.State != ConnectionState.Open)
            {
                await connection.OpenAsync();
                needClose = true;
            }

            try
            {
                using (DbCommand cmd = connection.CreateCommand())
                {
                    if (this.Database.GetCommandTimeout().HasValue)
                        cmd.CommandTimeout = this.Database.GetCommandTimeout().Value;
                    cmd.CommandType = CommandType.Text;
                    cmd.CommandText = @"select * from dbo.fn_GetDocPageAsOf(@SemanticUid, @AsOfUtc)";

                    DbParameter SemanticUidParameter = cmd.CreateParameter();
                    SemanticUidParameter.ParameterName = "SemanticUid";
                    SemanticUidParameter.Direction = ParameterDirection.Input;
                    SemanticUidParameter.DbType = DbType.String;
                    SemanticUidParameter.Size = 1000;
                    if (SemanticUid != null)
                    {
                        SemanticUidParameter.Value = SemanticUid;
                    }
                    else
                    {
                        SemanticUidParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SemanticUidParameter);

                    DbParameter AsOfUtcParameter = cmd.CreateParameter();
                    AsOfUtcParameter.ParameterName = "AsOfUtc";
                    AsOfUtcParameter.Direction = ParameterDirection.Input;
                    AsOfUtcParameter.DbType = DbType.DateTime;
                    if (AsOfUtc.HasValue)
                    {
                        AsOfUtcParameter.Value = AsOfUtc.Value;
                    }
                    else
                    {
                        AsOfUtcParameter.Size = -1;
                        AsOfUtcParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(AsOfUtcParameter);
                    using (IDataReader reader = await cmd.ExecuteReaderAsync())
                    {
                        var fieldNames = Enumerable.Range(0, reader.FieldCount).Select(i => reader.GetName(i)).ToArray();
                        while (reader.Read())
                        {
                            DocPage row = new DocPage();
                            if (fieldNames.Contains("id") && !reader.IsDBNull(reader.GetOrdinal(@"id")))
                                row.Id = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"id")), typeof(System.Guid));

                            if (fieldNames.Contains("semantic_uid") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid")))
                                row.SemanticUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid")), typeof(string));

                            if (fieldNames.Contains("source_snapshot_id") && !reader.IsDBNull(reader.GetOrdinal(@"source_snapshot_id")))
                                row.SourceSnapshotId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"source_snapshot_id")), typeof(System.Guid));

                            if (fieldNames.Contains("source_path") && !reader.IsDBNull(reader.GetOrdinal(@"source_path")))
                                row.SourcePath = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"source_path")), typeof(string));
                            else
                                row.SourcePath = null;

                            if (fieldNames.Contains("title") && !reader.IsDBNull(reader.GetOrdinal(@"title")))
                                row.Title = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"title")), typeof(string));
                            else
                                row.Title = null;

                            if (fieldNames.Contains("language") && !reader.IsDBNull(reader.GetOrdinal(@"language")))
                                row.Language = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"language")), typeof(string));
                            else
                                row.Language = null;

                            if (fieldNames.Contains("url") && !reader.IsDBNull(reader.GetOrdinal(@"url")))
                                row.Url = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"url")), typeof(string));
                            else
                                row.Url = null;

                            if (fieldNames.Contains("raw_markdown") && !reader.IsDBNull(reader.GetOrdinal(@"raw_markdown")))
                                row.RawMarkdown = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"raw_markdown")), typeof(string));
                            else
                                row.RawMarkdown = null;

                            if (fieldNames.Contains("version_number") && !reader.IsDBNull(reader.GetOrdinal(@"version_number")))
                                row.VersionNumber = (int)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"version_number")), typeof(int));

                            if (fieldNames.Contains("created_ingestion_run_id") && !reader.IsDBNull(reader.GetOrdinal(@"created_ingestion_run_id")))
                                row.CreatedIngestionRunId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"created_ingestion_run_id")), typeof(System.Guid));

                            if (fieldNames.Contains("updated_ingestion_run_id") && !reader.IsDBNull(reader.GetOrdinal(@"updated_ingestion_run_id")))
                                row.UpdatedIngestionRunId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"updated_ingestion_run_id")), typeof(System.Guid));

                            if (fieldNames.Contains("removed_ingestion_run_id") && !reader.IsDBNull(reader.GetOrdinal(@"removed_ingestion_run_id")))
                                row.RemovedIngestionRunId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"removed_ingestion_run_id")), typeof(System.Guid));
                            else
                                row.RemovedIngestionRunId = null;

                            if (fieldNames.Contains("valid_from_utc") && !reader.IsDBNull(reader.GetOrdinal(@"valid_from_utc")))
                                row.ValidFromUtc = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"valid_from_utc")), typeof(System.DateTime));

                            if (fieldNames.Contains("valid_to_utc") && !reader.IsDBNull(reader.GetOrdinal(@"valid_to_utc")))
                                row.ValidToUtc = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"valid_to_utc")), typeof(System.DateTime));
                            else
                                row.ValidToUtc = null;

                            if (fieldNames.Contains("is_active") && !reader.IsDBNull(reader.GetOrdinal(@"is_active")))
                                row.IsActive = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_active")), typeof(bool));

                            if (fieldNames.Contains("content_hash") && !reader.IsDBNull(reader.GetOrdinal(@"content_hash")))
                                row.ContentHash = (byte[])Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"content_hash")), typeof(byte[]));
                            else
                                row.ContentHash = null;

                            if (fieldNames.Contains("semantic_uid_hash") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid_hash")))
                                row.SemanticUidHash = (byte[])Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid_hash")), typeof(byte[]));
                            else
                                row.SemanticUidHash = null;

                            result.Add(row);
                        }
                    }
                }
            }
            finally
            {
                if (needClose)
                    connection.Close();
            }
            return result;
        }

        public List<ApiFeature> FnGetFeatureAsOf (string SemanticUid, DateTime? AsOfUtc)
        {

            List<ApiFeature> result = new List<ApiFeature>();
            DbConnection connection = this.Database.GetDbConnection();
            bool needClose = false;
            if (connection.State != ConnectionState.Open)
            {
                connection.Open();
                needClose = true;
            }

            try
            {
                using (DbCommand cmd = connection.CreateCommand())
                {
                    if (this.Database.GetCommandTimeout().HasValue)
                        cmd.CommandTimeout = this.Database.GetCommandTimeout().Value;
                    cmd.CommandType = CommandType.Text;
                    cmd.CommandText = @"select * from dbo.fn_GetFeatureAsOf(@SemanticUid, @AsOfUtc)";

                    DbParameter SemanticUidParameter = cmd.CreateParameter();
                    SemanticUidParameter.ParameterName = "SemanticUid";
                    SemanticUidParameter.Direction = ParameterDirection.Input;
                    SemanticUidParameter.DbType = DbType.String;
                    SemanticUidParameter.Size = 1000;
                    if (SemanticUid != null)
                    {
                        SemanticUidParameter.Value = SemanticUid;
                    }
                    else
                    {
                        SemanticUidParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SemanticUidParameter);

                    DbParameter AsOfUtcParameter = cmd.CreateParameter();
                    AsOfUtcParameter.ParameterName = "AsOfUtc";
                    AsOfUtcParameter.Direction = ParameterDirection.Input;
                    AsOfUtcParameter.DbType = DbType.DateTime;
                    if (AsOfUtc.HasValue)
                    {
                        AsOfUtcParameter.Value = AsOfUtc.Value;
                    }
                    else
                    {
                        AsOfUtcParameter.Size = -1;
                        AsOfUtcParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(AsOfUtcParameter);
                    using (IDataReader reader = cmd.ExecuteReader())
                    {
                        var fieldNames = Enumerable.Range(0, reader.FieldCount).Select(i => reader.GetName(i)).ToArray();
                        while (reader.Read())
                        {
                            ApiFeature row = new ApiFeature();
                            if (fieldNames.Contains("id") && !reader.IsDBNull(reader.GetOrdinal(@"id")))
                                row.Id = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"id")), typeof(System.Guid));

                            if (fieldNames.Contains("api_type_id") && !reader.IsDBNull(reader.GetOrdinal(@"api_type_id")))
                                row.ApiTypeId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"api_type_id")), typeof(System.Guid));
                            else
                                row.ApiTypeId = null;

                            if (fieldNames.Contains("semantic_uid") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid")))
                                row.SemanticUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid")), typeof(string));

                            if (fieldNames.Contains("truth_run_id") && !reader.IsDBNull(reader.GetOrdinal(@"truth_run_id")))
                                row.TruthRunId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"truth_run_id")), typeof(System.Guid));

                            if (fieldNames.Contains("name") && !reader.IsDBNull(reader.GetOrdinal(@"name")))
                                row.Name = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"name")), typeof(string));
                            else
                                row.Name = null;

                            if (fieldNames.Contains("language") && !reader.IsDBNull(reader.GetOrdinal(@"language")))
                                row.Language = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"language")), typeof(string));
                            else
                                row.Language = null;

                            if (fieldNames.Contains("description") && !reader.IsDBNull(reader.GetOrdinal(@"description")))
                                row.Description = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"description")), typeof(string));
                            else
                                row.Description = null;

                            if (fieldNames.Contains("tags") && !reader.IsDBNull(reader.GetOrdinal(@"tags")))
                                row.Tags = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"tags")), typeof(string));
                            else
                                row.Tags = null;

                            if (fieldNames.Contains("version_number") && !reader.IsDBNull(reader.GetOrdinal(@"version_number")))
                                row.VersionNumber = (int)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"version_number")), typeof(int));

                            if (fieldNames.Contains("created_ingestion_run_id") && !reader.IsDBNull(reader.GetOrdinal(@"created_ingestion_run_id")))
                                row.CreatedIngestionRunId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"created_ingestion_run_id")), typeof(System.Guid));

                            if (fieldNames.Contains("updated_ingestion_run_id") && !reader.IsDBNull(reader.GetOrdinal(@"updated_ingestion_run_id")))
                                row.UpdatedIngestionRunId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"updated_ingestion_run_id")), typeof(System.Guid));

                            if (fieldNames.Contains("removed_ingestion_run_id") && !reader.IsDBNull(reader.GetOrdinal(@"removed_ingestion_run_id")))
                                row.RemovedIngestionRunId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"removed_ingestion_run_id")), typeof(System.Guid));
                            else
                                row.RemovedIngestionRunId = null;

                            if (fieldNames.Contains("valid_from_utc") && !reader.IsDBNull(reader.GetOrdinal(@"valid_from_utc")))
                                row.ValidFromUtc = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"valid_from_utc")), typeof(System.DateTime));

                            if (fieldNames.Contains("valid_to_utc") && !reader.IsDBNull(reader.GetOrdinal(@"valid_to_utc")))
                                row.ValidToUtc = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"valid_to_utc")), typeof(System.DateTime));
                            else
                                row.ValidToUtc = null;

                            if (fieldNames.Contains("is_active") && !reader.IsDBNull(reader.GetOrdinal(@"is_active")))
                                row.IsActive = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_active")), typeof(bool));

                            if (fieldNames.Contains("content_hash") && !reader.IsDBNull(reader.GetOrdinal(@"content_hash")))
                                row.ContentHash = (byte[])Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"content_hash")), typeof(byte[]));
                            else
                                row.ContentHash = null;

                            if (fieldNames.Contains("semantic_uid_hash") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid_hash")))
                                row.SemanticUidHash = (byte[])Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid_hash")), typeof(byte[]));
                            else
                                row.SemanticUidHash = null;

                            result.Add(row);
                        }
                    }
                }
            }
            finally
            {
                if (needClose)
                    connection.Close();
            }
            return result;
        }

        public async Task<List<ApiFeature>> FnGetFeatureAsOfAsync (string SemanticUid, DateTime? AsOfUtc)
        {

            List<ApiFeature> result = new List<ApiFeature>();
            DbConnection connection = this.Database.GetDbConnection();
            bool needClose = false;
            if (connection.State != ConnectionState.Open)
            {
                await connection.OpenAsync();
                needClose = true;
            }

            try
            {
                using (DbCommand cmd = connection.CreateCommand())
                {
                    if (this.Database.GetCommandTimeout().HasValue)
                        cmd.CommandTimeout = this.Database.GetCommandTimeout().Value;
                    cmd.CommandType = CommandType.Text;
                    cmd.CommandText = @"select * from dbo.fn_GetFeatureAsOf(@SemanticUid, @AsOfUtc)";

                    DbParameter SemanticUidParameter = cmd.CreateParameter();
                    SemanticUidParameter.ParameterName = "SemanticUid";
                    SemanticUidParameter.Direction = ParameterDirection.Input;
                    SemanticUidParameter.DbType = DbType.String;
                    SemanticUidParameter.Size = 1000;
                    if (SemanticUid != null)
                    {
                        SemanticUidParameter.Value = SemanticUid;
                    }
                    else
                    {
                        SemanticUidParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SemanticUidParameter);

                    DbParameter AsOfUtcParameter = cmd.CreateParameter();
                    AsOfUtcParameter.ParameterName = "AsOfUtc";
                    AsOfUtcParameter.Direction = ParameterDirection.Input;
                    AsOfUtcParameter.DbType = DbType.DateTime;
                    if (AsOfUtc.HasValue)
                    {
                        AsOfUtcParameter.Value = AsOfUtc.Value;
                    }
                    else
                    {
                        AsOfUtcParameter.Size = -1;
                        AsOfUtcParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(AsOfUtcParameter);
                    using (IDataReader reader = await cmd.ExecuteReaderAsync())
                    {
                        var fieldNames = Enumerable.Range(0, reader.FieldCount).Select(i => reader.GetName(i)).ToArray();
                        while (reader.Read())
                        {
                            ApiFeature row = new ApiFeature();
                            if (fieldNames.Contains("id") && !reader.IsDBNull(reader.GetOrdinal(@"id")))
                                row.Id = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"id")), typeof(System.Guid));

                            if (fieldNames.Contains("api_type_id") && !reader.IsDBNull(reader.GetOrdinal(@"api_type_id")))
                                row.ApiTypeId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"api_type_id")), typeof(System.Guid));
                            else
                                row.ApiTypeId = null;

                            if (fieldNames.Contains("semantic_uid") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid")))
                                row.SemanticUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid")), typeof(string));

                            if (fieldNames.Contains("truth_run_id") && !reader.IsDBNull(reader.GetOrdinal(@"truth_run_id")))
                                row.TruthRunId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"truth_run_id")), typeof(System.Guid));

                            if (fieldNames.Contains("name") && !reader.IsDBNull(reader.GetOrdinal(@"name")))
                                row.Name = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"name")), typeof(string));
                            else
                                row.Name = null;

                            if (fieldNames.Contains("language") && !reader.IsDBNull(reader.GetOrdinal(@"language")))
                                row.Language = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"language")), typeof(string));
                            else
                                row.Language = null;

                            if (fieldNames.Contains("description") && !reader.IsDBNull(reader.GetOrdinal(@"description")))
                                row.Description = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"description")), typeof(string));
                            else
                                row.Description = null;

                            if (fieldNames.Contains("tags") && !reader.IsDBNull(reader.GetOrdinal(@"tags")))
                                row.Tags = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"tags")), typeof(string));
                            else
                                row.Tags = null;

                            if (fieldNames.Contains("version_number") && !reader.IsDBNull(reader.GetOrdinal(@"version_number")))
                                row.VersionNumber = (int)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"version_number")), typeof(int));

                            if (fieldNames.Contains("created_ingestion_run_id") && !reader.IsDBNull(reader.GetOrdinal(@"created_ingestion_run_id")))
                                row.CreatedIngestionRunId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"created_ingestion_run_id")), typeof(System.Guid));

                            if (fieldNames.Contains("updated_ingestion_run_id") && !reader.IsDBNull(reader.GetOrdinal(@"updated_ingestion_run_id")))
                                row.UpdatedIngestionRunId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"updated_ingestion_run_id")), typeof(System.Guid));

                            if (fieldNames.Contains("removed_ingestion_run_id") && !reader.IsDBNull(reader.GetOrdinal(@"removed_ingestion_run_id")))
                                row.RemovedIngestionRunId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"removed_ingestion_run_id")), typeof(System.Guid));
                            else
                                row.RemovedIngestionRunId = null;

                            if (fieldNames.Contains("valid_from_utc") && !reader.IsDBNull(reader.GetOrdinal(@"valid_from_utc")))
                                row.ValidFromUtc = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"valid_from_utc")), typeof(System.DateTime));

                            if (fieldNames.Contains("valid_to_utc") && !reader.IsDBNull(reader.GetOrdinal(@"valid_to_utc")))
                                row.ValidToUtc = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"valid_to_utc")), typeof(System.DateTime));
                            else
                                row.ValidToUtc = null;

                            if (fieldNames.Contains("is_active") && !reader.IsDBNull(reader.GetOrdinal(@"is_active")))
                                row.IsActive = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_active")), typeof(bool));

                            if (fieldNames.Contains("content_hash") && !reader.IsDBNull(reader.GetOrdinal(@"content_hash")))
                                row.ContentHash = (byte[])Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"content_hash")), typeof(byte[]));
                            else
                                row.ContentHash = null;

                            if (fieldNames.Contains("semantic_uid_hash") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid_hash")))
                                row.SemanticUidHash = (byte[])Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid_hash")), typeof(byte[]));
                            else
                                row.SemanticUidHash = null;

                            result.Add(row);
                        }
                    }
                }
            }
            finally
            {
                if (needClose)
                    connection.Close();
            }
            return result;
        }

        public List<ApiMember> FnGetMemberAsOf (string SemanticUid, DateTime? AsOfUtc)
        {

            List<ApiMember> result = new List<ApiMember>();
            DbConnection connection = this.Database.GetDbConnection();
            bool needClose = false;
            if (connection.State != ConnectionState.Open)
            {
                connection.Open();
                needClose = true;
            }

            try
            {
                using (DbCommand cmd = connection.CreateCommand())
                {
                    if (this.Database.GetCommandTimeout().HasValue)
                        cmd.CommandTimeout = this.Database.GetCommandTimeout().Value;
                    cmd.CommandType = CommandType.Text;
                    cmd.CommandText = @"select * from dbo.fn_GetMemberAsOf(@SemanticUid, @AsOfUtc)";

                    DbParameter SemanticUidParameter = cmd.CreateParameter();
                    SemanticUidParameter.ParameterName = "SemanticUid";
                    SemanticUidParameter.Direction = ParameterDirection.Input;
                    SemanticUidParameter.DbType = DbType.String;
                    SemanticUidParameter.Size = 1000;
                    if (SemanticUid != null)
                    {
                        SemanticUidParameter.Value = SemanticUid;
                    }
                    else
                    {
                        SemanticUidParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SemanticUidParameter);

                    DbParameter AsOfUtcParameter = cmd.CreateParameter();
                    AsOfUtcParameter.ParameterName = "AsOfUtc";
                    AsOfUtcParameter.Direction = ParameterDirection.Input;
                    AsOfUtcParameter.DbType = DbType.DateTime;
                    if (AsOfUtc.HasValue)
                    {
                        AsOfUtcParameter.Value = AsOfUtc.Value;
                    }
                    else
                    {
                        AsOfUtcParameter.Size = -1;
                        AsOfUtcParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(AsOfUtcParameter);
                    using (IDataReader reader = cmd.ExecuteReader())
                    {
                        var fieldNames = Enumerable.Range(0, reader.FieldCount).Select(i => reader.GetName(i)).ToArray();
                        while (reader.Read())
                        {
                            ApiMember row = new ApiMember();
                            if (fieldNames.Contains("id") && !reader.IsDBNull(reader.GetOrdinal(@"id")))
                                row.Id = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"id")), typeof(System.Guid));

                            if (fieldNames.Contains("semantic_uid") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid")))
                                row.SemanticUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid")), typeof(string));

                            if (fieldNames.Contains("api_feature_id") && !reader.IsDBNull(reader.GetOrdinal(@"api_feature_id")))
                                row.ApiFeatureId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"api_feature_id")), typeof(System.Guid));

                            if (fieldNames.Contains("name") && !reader.IsDBNull(reader.GetOrdinal(@"name")))
                                row.Name = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"name")), typeof(string));
                            else
                                row.Name = null;

                            if (fieldNames.Contains("kind") && !reader.IsDBNull(reader.GetOrdinal(@"kind")))
                                row.Kind = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"kind")), typeof(string));
                            else
                                row.Kind = null;

                            if (fieldNames.Contains("method_kind") && !reader.IsDBNull(reader.GetOrdinal(@"method_kind")))
                                row.MethodKind = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"method_kind")), typeof(string));
                            else
                                row.MethodKind = null;

                            if (fieldNames.Contains("accessibility") && !reader.IsDBNull(reader.GetOrdinal(@"accessibility")))
                                row.Accessibility = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"accessibility")), typeof(string));
                            else
                                row.Accessibility = null;

                            if (fieldNames.Contains("is_static") && !reader.IsDBNull(reader.GetOrdinal(@"is_static")))
                                row.IsStatic = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_static")), typeof(bool));
                            else
                                row.IsStatic = null;

                            if (fieldNames.Contains("is_extension_method") && !reader.IsDBNull(reader.GetOrdinal(@"is_extension_method")))
                                row.IsExtensionMethod = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_extension_method")), typeof(bool));
                            else
                                row.IsExtensionMethod = null;

                            if (fieldNames.Contains("is_async") && !reader.IsDBNull(reader.GetOrdinal(@"is_async")))
                                row.IsAsync = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_async")), typeof(bool));
                            else
                                row.IsAsync = null;

                            if (fieldNames.Contains("is_virtual") && !reader.IsDBNull(reader.GetOrdinal(@"is_virtual")))
                                row.IsVirtual = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_virtual")), typeof(bool));
                            else
                                row.IsVirtual = null;

                            if (fieldNames.Contains("is_override") && !reader.IsDBNull(reader.GetOrdinal(@"is_override")))
                                row.IsOverride = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_override")), typeof(bool));
                            else
                                row.IsOverride = null;

                            if (fieldNames.Contains("is_abstract") && !reader.IsDBNull(reader.GetOrdinal(@"is_abstract")))
                                row.IsAbstract = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_abstract")), typeof(bool));
                            else
                                row.IsAbstract = null;

                            if (fieldNames.Contains("is_sealed") && !reader.IsDBNull(reader.GetOrdinal(@"is_sealed")))
                                row.IsSealed = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_sealed")), typeof(bool));
                            else
                                row.IsSealed = null;

                            if (fieldNames.Contains("is_readonly") && !reader.IsDBNull(reader.GetOrdinal(@"is_readonly")))
                                row.IsReadonly = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_readonly")), typeof(bool));
                            else
                                row.IsReadonly = null;

                            if (fieldNames.Contains("is_const") && !reader.IsDBNull(reader.GetOrdinal(@"is_const")))
                                row.IsConst = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_const")), typeof(bool));
                            else
                                row.IsConst = null;

                            if (fieldNames.Contains("is_unsafe") && !reader.IsDBNull(reader.GetOrdinal(@"is_unsafe")))
                                row.IsUnsafe = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_unsafe")), typeof(bool));
                            else
                                row.IsUnsafe = null;

                            if (fieldNames.Contains("return_type_uid") && !reader.IsDBNull(reader.GetOrdinal(@"return_type_uid")))
                                row.ReturnTypeUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"return_type_uid")), typeof(string));
                            else
                                row.ReturnTypeUid = null;

                            if (fieldNames.Contains("return_nullable") && !reader.IsDBNull(reader.GetOrdinal(@"return_nullable")))
                                row.ReturnNullable = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"return_nullable")), typeof(string));
                            else
                                row.ReturnNullable = null;

                            if (fieldNames.Contains("generic_parameters") && !reader.IsDBNull(reader.GetOrdinal(@"generic_parameters")))
                                row.GenericParameters = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"generic_parameters")), typeof(string));
                            else
                                row.GenericParameters = null;

                            if (fieldNames.Contains("generic_constraints") && !reader.IsDBNull(reader.GetOrdinal(@"generic_constraints")))
                                row.GenericConstraints = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"generic_constraints")), typeof(string));
                            else
                                row.GenericConstraints = null;

                            if (fieldNames.Contains("summary") && !reader.IsDBNull(reader.GetOrdinal(@"summary")))
                                row.Summary = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"summary")), typeof(string));
                            else
                                row.Summary = null;

                            if (fieldNames.Contains("remarks") && !reader.IsDBNull(reader.GetOrdinal(@"remarks")))
                                row.Remarks = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"remarks")), typeof(string));
                            else
                                row.Remarks = null;

                            if (fieldNames.Contains("attributes") && !reader.IsDBNull(reader.GetOrdinal(@"attributes")))
                                row.Attributes = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"attributes")), typeof(string));
                            else
                                row.Attributes = null;

                            if (fieldNames.Contains("source_file_path") && !reader.IsDBNull(reader.GetOrdinal(@"source_file_path")))
                                row.SourceFilePath = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"source_file_path")), typeof(string));
                            else
                                row.SourceFilePath = null;

                            if (fieldNames.Contains("source_start_line") && !reader.IsDBNull(reader.GetOrdinal(@"source_start_line")))
                                row.SourceStartLine = (int)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"source_start_line")), typeof(int));
                            else
                                row.SourceStartLine = null;

                            if (fieldNames.Contains("source_end_line") && !reader.IsDBNull(reader.GetOrdinal(@"source_end_line")))
                                row.SourceEndLine = (int)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"source_end_line")), typeof(int));
                            else
                                row.SourceEndLine = null;

                            if (fieldNames.Contains("member_uid_hash") && !reader.IsDBNull(reader.GetOrdinal(@"member_uid_hash")))
                                row.MemberUidHash = (byte[])Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"member_uid_hash")), typeof(byte[]));
                            else
                                row.MemberUidHash = null;

                            if (fieldNames.Contains("version_number") && !reader.IsDBNull(reader.GetOrdinal(@"version_number")))
                                row.VersionNumber = (int)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"version_number")), typeof(int));

                            if (fieldNames.Contains("created_ingestion_run_id") && !reader.IsDBNull(reader.GetOrdinal(@"created_ingestion_run_id")))
                                row.CreatedIngestionRunId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"created_ingestion_run_id")), typeof(System.Guid));

                            if (fieldNames.Contains("updated_ingestion_run_id") && !reader.IsDBNull(reader.GetOrdinal(@"updated_ingestion_run_id")))
                                row.UpdatedIngestionRunId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"updated_ingestion_run_id")), typeof(System.Guid));
                            else
                                row.UpdatedIngestionRunId = null;

                            if (fieldNames.Contains("removed_ingestion_run_id") && !reader.IsDBNull(reader.GetOrdinal(@"removed_ingestion_run_id")))
                                row.RemovedIngestionRunId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"removed_ingestion_run_id")), typeof(System.Guid));
                            else
                                row.RemovedIngestionRunId = null;

                            if (fieldNames.Contains("valid_from_utc") && !reader.IsDBNull(reader.GetOrdinal(@"valid_from_utc")))
                                row.ValidFromUtc = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"valid_from_utc")), typeof(System.DateTime));

                            if (fieldNames.Contains("valid_to_utc") && !reader.IsDBNull(reader.GetOrdinal(@"valid_to_utc")))
                                row.ValidToUtc = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"valid_to_utc")), typeof(System.DateTime));
                            else
                                row.ValidToUtc = null;

                            if (fieldNames.Contains("is_active") && !reader.IsDBNull(reader.GetOrdinal(@"is_active")))
                                row.IsActive = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_active")), typeof(bool));

                            if (fieldNames.Contains("content_hash") && !reader.IsDBNull(reader.GetOrdinal(@"content_hash")))
                                row.ContentHash = (byte[])Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"content_hash")), typeof(byte[]));
                            else
                                row.ContentHash = null;

                            if (fieldNames.Contains("semantic_uid_hash") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid_hash")))
                                row.SemanticUidHash = (byte[])Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid_hash")), typeof(byte[]));
                            else
                                row.SemanticUidHash = null;

                            result.Add(row);
                        }
                    }
                }
            }
            finally
            {
                if (needClose)
                    connection.Close();
            }
            return result;
        }

        public async Task<List<ApiMember>> FnGetMemberAsOfAsync (string SemanticUid, DateTime? AsOfUtc)
        {

            List<ApiMember> result = new List<ApiMember>();
            DbConnection connection = this.Database.GetDbConnection();
            bool needClose = false;
            if (connection.State != ConnectionState.Open)
            {
                await connection.OpenAsync();
                needClose = true;
            }

            try
            {
                using (DbCommand cmd = connection.CreateCommand())
                {
                    if (this.Database.GetCommandTimeout().HasValue)
                        cmd.CommandTimeout = this.Database.GetCommandTimeout().Value;
                    cmd.CommandType = CommandType.Text;
                    cmd.CommandText = @"select * from dbo.fn_GetMemberAsOf(@SemanticUid, @AsOfUtc)";

                    DbParameter SemanticUidParameter = cmd.CreateParameter();
                    SemanticUidParameter.ParameterName = "SemanticUid";
                    SemanticUidParameter.Direction = ParameterDirection.Input;
                    SemanticUidParameter.DbType = DbType.String;
                    SemanticUidParameter.Size = 1000;
                    if (SemanticUid != null)
                    {
                        SemanticUidParameter.Value = SemanticUid;
                    }
                    else
                    {
                        SemanticUidParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SemanticUidParameter);

                    DbParameter AsOfUtcParameter = cmd.CreateParameter();
                    AsOfUtcParameter.ParameterName = "AsOfUtc";
                    AsOfUtcParameter.Direction = ParameterDirection.Input;
                    AsOfUtcParameter.DbType = DbType.DateTime;
                    if (AsOfUtc.HasValue)
                    {
                        AsOfUtcParameter.Value = AsOfUtc.Value;
                    }
                    else
                    {
                        AsOfUtcParameter.Size = -1;
                        AsOfUtcParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(AsOfUtcParameter);
                    using (IDataReader reader = await cmd.ExecuteReaderAsync())
                    {
                        var fieldNames = Enumerable.Range(0, reader.FieldCount).Select(i => reader.GetName(i)).ToArray();
                        while (reader.Read())
                        {
                            ApiMember row = new ApiMember();
                            if (fieldNames.Contains("id") && !reader.IsDBNull(reader.GetOrdinal(@"id")))
                                row.Id = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"id")), typeof(System.Guid));

                            if (fieldNames.Contains("semantic_uid") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid")))
                                row.SemanticUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid")), typeof(string));

                            if (fieldNames.Contains("api_feature_id") && !reader.IsDBNull(reader.GetOrdinal(@"api_feature_id")))
                                row.ApiFeatureId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"api_feature_id")), typeof(System.Guid));

                            if (fieldNames.Contains("name") && !reader.IsDBNull(reader.GetOrdinal(@"name")))
                                row.Name = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"name")), typeof(string));
                            else
                                row.Name = null;

                            if (fieldNames.Contains("kind") && !reader.IsDBNull(reader.GetOrdinal(@"kind")))
                                row.Kind = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"kind")), typeof(string));
                            else
                                row.Kind = null;

                            if (fieldNames.Contains("method_kind") && !reader.IsDBNull(reader.GetOrdinal(@"method_kind")))
                                row.MethodKind = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"method_kind")), typeof(string));
                            else
                                row.MethodKind = null;

                            if (fieldNames.Contains("accessibility") && !reader.IsDBNull(reader.GetOrdinal(@"accessibility")))
                                row.Accessibility = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"accessibility")), typeof(string));
                            else
                                row.Accessibility = null;

                            if (fieldNames.Contains("is_static") && !reader.IsDBNull(reader.GetOrdinal(@"is_static")))
                                row.IsStatic = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_static")), typeof(bool));
                            else
                                row.IsStatic = null;

                            if (fieldNames.Contains("is_extension_method") && !reader.IsDBNull(reader.GetOrdinal(@"is_extension_method")))
                                row.IsExtensionMethod = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_extension_method")), typeof(bool));
                            else
                                row.IsExtensionMethod = null;

                            if (fieldNames.Contains("is_async") && !reader.IsDBNull(reader.GetOrdinal(@"is_async")))
                                row.IsAsync = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_async")), typeof(bool));
                            else
                                row.IsAsync = null;

                            if (fieldNames.Contains("is_virtual") && !reader.IsDBNull(reader.GetOrdinal(@"is_virtual")))
                                row.IsVirtual = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_virtual")), typeof(bool));
                            else
                                row.IsVirtual = null;

                            if (fieldNames.Contains("is_override") && !reader.IsDBNull(reader.GetOrdinal(@"is_override")))
                                row.IsOverride = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_override")), typeof(bool));
                            else
                                row.IsOverride = null;

                            if (fieldNames.Contains("is_abstract") && !reader.IsDBNull(reader.GetOrdinal(@"is_abstract")))
                                row.IsAbstract = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_abstract")), typeof(bool));
                            else
                                row.IsAbstract = null;

                            if (fieldNames.Contains("is_sealed") && !reader.IsDBNull(reader.GetOrdinal(@"is_sealed")))
                                row.IsSealed = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_sealed")), typeof(bool));
                            else
                                row.IsSealed = null;

                            if (fieldNames.Contains("is_readonly") && !reader.IsDBNull(reader.GetOrdinal(@"is_readonly")))
                                row.IsReadonly = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_readonly")), typeof(bool));
                            else
                                row.IsReadonly = null;

                            if (fieldNames.Contains("is_const") && !reader.IsDBNull(reader.GetOrdinal(@"is_const")))
                                row.IsConst = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_const")), typeof(bool));
                            else
                                row.IsConst = null;

                            if (fieldNames.Contains("is_unsafe") && !reader.IsDBNull(reader.GetOrdinal(@"is_unsafe")))
                                row.IsUnsafe = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_unsafe")), typeof(bool));
                            else
                                row.IsUnsafe = null;

                            if (fieldNames.Contains("return_type_uid") && !reader.IsDBNull(reader.GetOrdinal(@"return_type_uid")))
                                row.ReturnTypeUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"return_type_uid")), typeof(string));
                            else
                                row.ReturnTypeUid = null;

                            if (fieldNames.Contains("return_nullable") && !reader.IsDBNull(reader.GetOrdinal(@"return_nullable")))
                                row.ReturnNullable = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"return_nullable")), typeof(string));
                            else
                                row.ReturnNullable = null;

                            if (fieldNames.Contains("generic_parameters") && !reader.IsDBNull(reader.GetOrdinal(@"generic_parameters")))
                                row.GenericParameters = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"generic_parameters")), typeof(string));
                            else
                                row.GenericParameters = null;

                            if (fieldNames.Contains("generic_constraints") && !reader.IsDBNull(reader.GetOrdinal(@"generic_constraints")))
                                row.GenericConstraints = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"generic_constraints")), typeof(string));
                            else
                                row.GenericConstraints = null;

                            if (fieldNames.Contains("summary") && !reader.IsDBNull(reader.GetOrdinal(@"summary")))
                                row.Summary = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"summary")), typeof(string));
                            else
                                row.Summary = null;

                            if (fieldNames.Contains("remarks") && !reader.IsDBNull(reader.GetOrdinal(@"remarks")))
                                row.Remarks = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"remarks")), typeof(string));
                            else
                                row.Remarks = null;

                            if (fieldNames.Contains("attributes") && !reader.IsDBNull(reader.GetOrdinal(@"attributes")))
                                row.Attributes = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"attributes")), typeof(string));
                            else
                                row.Attributes = null;

                            if (fieldNames.Contains("source_file_path") && !reader.IsDBNull(reader.GetOrdinal(@"source_file_path")))
                                row.SourceFilePath = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"source_file_path")), typeof(string));
                            else
                                row.SourceFilePath = null;

                            if (fieldNames.Contains("source_start_line") && !reader.IsDBNull(reader.GetOrdinal(@"source_start_line")))
                                row.SourceStartLine = (int)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"source_start_line")), typeof(int));
                            else
                                row.SourceStartLine = null;

                            if (fieldNames.Contains("source_end_line") && !reader.IsDBNull(reader.GetOrdinal(@"source_end_line")))
                                row.SourceEndLine = (int)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"source_end_line")), typeof(int));
                            else
                                row.SourceEndLine = null;

                            if (fieldNames.Contains("member_uid_hash") && !reader.IsDBNull(reader.GetOrdinal(@"member_uid_hash")))
                                row.MemberUidHash = (byte[])Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"member_uid_hash")), typeof(byte[]));
                            else
                                row.MemberUidHash = null;

                            if (fieldNames.Contains("version_number") && !reader.IsDBNull(reader.GetOrdinal(@"version_number")))
                                row.VersionNumber = (int)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"version_number")), typeof(int));

                            if (fieldNames.Contains("created_ingestion_run_id") && !reader.IsDBNull(reader.GetOrdinal(@"created_ingestion_run_id")))
                                row.CreatedIngestionRunId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"created_ingestion_run_id")), typeof(System.Guid));

                            if (fieldNames.Contains("updated_ingestion_run_id") && !reader.IsDBNull(reader.GetOrdinal(@"updated_ingestion_run_id")))
                                row.UpdatedIngestionRunId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"updated_ingestion_run_id")), typeof(System.Guid));
                            else
                                row.UpdatedIngestionRunId = null;

                            if (fieldNames.Contains("removed_ingestion_run_id") && !reader.IsDBNull(reader.GetOrdinal(@"removed_ingestion_run_id")))
                                row.RemovedIngestionRunId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"removed_ingestion_run_id")), typeof(System.Guid));
                            else
                                row.RemovedIngestionRunId = null;

                            if (fieldNames.Contains("valid_from_utc") && !reader.IsDBNull(reader.GetOrdinal(@"valid_from_utc")))
                                row.ValidFromUtc = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"valid_from_utc")), typeof(System.DateTime));

                            if (fieldNames.Contains("valid_to_utc") && !reader.IsDBNull(reader.GetOrdinal(@"valid_to_utc")))
                                row.ValidToUtc = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"valid_to_utc")), typeof(System.DateTime));
                            else
                                row.ValidToUtc = null;

                            if (fieldNames.Contains("is_active") && !reader.IsDBNull(reader.GetOrdinal(@"is_active")))
                                row.IsActive = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_active")), typeof(bool));

                            if (fieldNames.Contains("content_hash") && !reader.IsDBNull(reader.GetOrdinal(@"content_hash")))
                                row.ContentHash = (byte[])Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"content_hash")), typeof(byte[]));
                            else
                                row.ContentHash = null;

                            if (fieldNames.Contains("semantic_uid_hash") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid_hash")))
                                row.SemanticUidHash = (byte[])Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid_hash")), typeof(byte[]));
                            else
                                row.SemanticUidHash = null;

                            result.Add(row);
                        }
                    }
                }
            }
            finally
            {
                if (needClose)
                    connection.Close();
            }
            return result;
        }

        public List<ApiType> FnGetTypeAsOf (string SemanticUid, DateTime? AsOfUtc)
        {

            List<ApiType> result = new List<ApiType>();
            DbConnection connection = this.Database.GetDbConnection();
            bool needClose = false;
            if (connection.State != ConnectionState.Open)
            {
                connection.Open();
                needClose = true;
            }

            try
            {
                using (DbCommand cmd = connection.CreateCommand())
                {
                    if (this.Database.GetCommandTimeout().HasValue)
                        cmd.CommandTimeout = this.Database.GetCommandTimeout().Value;
                    cmd.CommandType = CommandType.Text;
                    cmd.CommandText = @"select * from dbo.fn_GetTypeAsOf(@SemanticUid, @AsOfUtc)";

                    DbParameter SemanticUidParameter = cmd.CreateParameter();
                    SemanticUidParameter.ParameterName = "SemanticUid";
                    SemanticUidParameter.Direction = ParameterDirection.Input;
                    SemanticUidParameter.DbType = DbType.String;
                    SemanticUidParameter.Size = 1000;
                    if (SemanticUid != null)
                    {
                        SemanticUidParameter.Value = SemanticUid;
                    }
                    else
                    {
                        SemanticUidParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SemanticUidParameter);

                    DbParameter AsOfUtcParameter = cmd.CreateParameter();
                    AsOfUtcParameter.ParameterName = "AsOfUtc";
                    AsOfUtcParameter.Direction = ParameterDirection.Input;
                    AsOfUtcParameter.DbType = DbType.DateTime;
                    if (AsOfUtc.HasValue)
                    {
                        AsOfUtcParameter.Value = AsOfUtc.Value;
                    }
                    else
                    {
                        AsOfUtcParameter.Size = -1;
                        AsOfUtcParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(AsOfUtcParameter);
                    using (IDataReader reader = cmd.ExecuteReader())
                    {
                        var fieldNames = Enumerable.Range(0, reader.FieldCount).Select(i => reader.GetName(i)).ToArray();
                        while (reader.Read())
                        {
                            ApiType row = new ApiType();
                            if (fieldNames.Contains("id") && !reader.IsDBNull(reader.GetOrdinal(@"id")))
                                row.Id = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"id")), typeof(System.Guid));

                            if (fieldNames.Contains("semantic_uid") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid")))
                                row.SemanticUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid")), typeof(string));

                            if (fieldNames.Contains("source_snapshot_id") && !reader.IsDBNull(reader.GetOrdinal(@"source_snapshot_id")))
                                row.SourceSnapshotId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"source_snapshot_id")), typeof(System.Guid));

                            if (fieldNames.Contains("name") && !reader.IsDBNull(reader.GetOrdinal(@"name")))
                                row.Name = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"name")), typeof(string));
                            else
                                row.Name = null;

                            if (fieldNames.Contains("namespace_path") && !reader.IsDBNull(reader.GetOrdinal(@"namespace_path")))
                                row.NamespacePath = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"namespace_path")), typeof(string));
                            else
                                row.NamespacePath = null;

                            if (fieldNames.Contains("kind") && !reader.IsDBNull(reader.GetOrdinal(@"kind")))
                                row.Kind = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"kind")), typeof(string));
                            else
                                row.Kind = null;

                            if (fieldNames.Contains("accessibility") && !reader.IsDBNull(reader.GetOrdinal(@"accessibility")))
                                row.Accessibility = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"accessibility")), typeof(string));
                            else
                                row.Accessibility = null;

                            if (fieldNames.Contains("is_static") && !reader.IsDBNull(reader.GetOrdinal(@"is_static")))
                                row.IsStatic = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_static")), typeof(bool));
                            else
                                row.IsStatic = null;

                            if (fieldNames.Contains("is_generic") && !reader.IsDBNull(reader.GetOrdinal(@"is_generic")))
                                row.IsGeneric = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_generic")), typeof(bool));
                            else
                                row.IsGeneric = null;

                            if (fieldNames.Contains("is_abstract") && !reader.IsDBNull(reader.GetOrdinal(@"is_abstract")))
                                row.IsAbstract = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_abstract")), typeof(bool));
                            else
                                row.IsAbstract = null;

                            if (fieldNames.Contains("is_sealed") && !reader.IsDBNull(reader.GetOrdinal(@"is_sealed")))
                                row.IsSealed = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_sealed")), typeof(bool));
                            else
                                row.IsSealed = null;

                            if (fieldNames.Contains("is_record") && !reader.IsDBNull(reader.GetOrdinal(@"is_record")))
                                row.IsRecord = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_record")), typeof(bool));
                            else
                                row.IsRecord = null;

                            if (fieldNames.Contains("is_ref_like") && !reader.IsDBNull(reader.GetOrdinal(@"is_ref_like")))
                                row.IsRefLike = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_ref_like")), typeof(bool));
                            else
                                row.IsRefLike = null;

                            if (fieldNames.Contains("base_type_uid") && !reader.IsDBNull(reader.GetOrdinal(@"base_type_uid")))
                                row.BaseTypeUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"base_type_uid")), typeof(string));
                            else
                                row.BaseTypeUid = null;

                            if (fieldNames.Contains("interfaces") && !reader.IsDBNull(reader.GetOrdinal(@"interfaces")))
                                row.Interfaces = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"interfaces")), typeof(string));
                            else
                                row.Interfaces = null;

                            if (fieldNames.Contains("containing_type_uid") && !reader.IsDBNull(reader.GetOrdinal(@"containing_type_uid")))
                                row.ContainingTypeUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"containing_type_uid")), typeof(string));
                            else
                                row.ContainingTypeUid = null;

                            if (fieldNames.Contains("generic_parameters") && !reader.IsDBNull(reader.GetOrdinal(@"generic_parameters")))
                                row.GenericParameters = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"generic_parameters")), typeof(string));
                            else
                                row.GenericParameters = null;

                            if (fieldNames.Contains("generic_constraints") && !reader.IsDBNull(reader.GetOrdinal(@"generic_constraints")))
                                row.GenericConstraints = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"generic_constraints")), typeof(string));
                            else
                                row.GenericConstraints = null;

                            if (fieldNames.Contains("summary") && !reader.IsDBNull(reader.GetOrdinal(@"summary")))
                                row.Summary = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"summary")), typeof(string));
                            else
                                row.Summary = null;

                            if (fieldNames.Contains("remarks") && !reader.IsDBNull(reader.GetOrdinal(@"remarks")))
                                row.Remarks = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"remarks")), typeof(string));
                            else
                                row.Remarks = null;

                            if (fieldNames.Contains("attributes") && !reader.IsDBNull(reader.GetOrdinal(@"attributes")))
                                row.Attributes = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"attributes")), typeof(string));
                            else
                                row.Attributes = null;

                            if (fieldNames.Contains("source_file_path") && !reader.IsDBNull(reader.GetOrdinal(@"source_file_path")))
                                row.SourceFilePath = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"source_file_path")), typeof(string));
                            else
                                row.SourceFilePath = null;

                            if (fieldNames.Contains("source_start_line") && !reader.IsDBNull(reader.GetOrdinal(@"source_start_line")))
                                row.SourceStartLine = (int)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"source_start_line")), typeof(int));
                            else
                                row.SourceStartLine = null;

                            if (fieldNames.Contains("source_end_line") && !reader.IsDBNull(reader.GetOrdinal(@"source_end_line")))
                                row.SourceEndLine = (int)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"source_end_line")), typeof(int));
                            else
                                row.SourceEndLine = null;

                            if (fieldNames.Contains("version_number") && !reader.IsDBNull(reader.GetOrdinal(@"version_number")))
                                row.VersionNumber = (int)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"version_number")), typeof(int));

                            if (fieldNames.Contains("created_ingestion_run_id") && !reader.IsDBNull(reader.GetOrdinal(@"created_ingestion_run_id")))
                                row.CreatedIngestionRunId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"created_ingestion_run_id")), typeof(System.Guid));

                            if (fieldNames.Contains("updated_ingestion_run_id") && !reader.IsDBNull(reader.GetOrdinal(@"updated_ingestion_run_id")))
                                row.UpdatedIngestionRunId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"updated_ingestion_run_id")), typeof(System.Guid));

                            if (fieldNames.Contains("removed_ingestion_run_id") && !reader.IsDBNull(reader.GetOrdinal(@"removed_ingestion_run_id")))
                                row.RemovedIngestionRunId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"removed_ingestion_run_id")), typeof(System.Guid));
                            else
                                row.RemovedIngestionRunId = null;

                            if (fieldNames.Contains("valid_from_utc") && !reader.IsDBNull(reader.GetOrdinal(@"valid_from_utc")))
                                row.ValidFromUtc = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"valid_from_utc")), typeof(System.DateTime));

                            if (fieldNames.Contains("valid_to_utc") && !reader.IsDBNull(reader.GetOrdinal(@"valid_to_utc")))
                                row.ValidToUtc = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"valid_to_utc")), typeof(System.DateTime));
                            else
                                row.ValidToUtc = null;

                            if (fieldNames.Contains("is_active") && !reader.IsDBNull(reader.GetOrdinal(@"is_active")))
                                row.IsActive = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_active")), typeof(bool));

                            if (fieldNames.Contains("content_hash") && !reader.IsDBNull(reader.GetOrdinal(@"content_hash")))
                                row.ContentHash = (byte[])Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"content_hash")), typeof(byte[]));
                            else
                                row.ContentHash = null;

                            if (fieldNames.Contains("semantic_uid_hash") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid_hash")))
                                row.SemanticUidHash = (byte[])Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid_hash")), typeof(byte[]));
                            else
                                row.SemanticUidHash = null;

                            result.Add(row);
                        }
                    }
                }
            }
            finally
            {
                if (needClose)
                    connection.Close();
            }
            return result;
        }

        public async Task<List<ApiType>> FnGetTypeAsOfAsync (string SemanticUid, DateTime? AsOfUtc)
        {

            List<ApiType> result = new List<ApiType>();
            DbConnection connection = this.Database.GetDbConnection();
            bool needClose = false;
            if (connection.State != ConnectionState.Open)
            {
                await connection.OpenAsync();
                needClose = true;
            }

            try
            {
                using (DbCommand cmd = connection.CreateCommand())
                {
                    if (this.Database.GetCommandTimeout().HasValue)
                        cmd.CommandTimeout = this.Database.GetCommandTimeout().Value;
                    cmd.CommandType = CommandType.Text;
                    cmd.CommandText = @"select * from dbo.fn_GetTypeAsOf(@SemanticUid, @AsOfUtc)";

                    DbParameter SemanticUidParameter = cmd.CreateParameter();
                    SemanticUidParameter.ParameterName = "SemanticUid";
                    SemanticUidParameter.Direction = ParameterDirection.Input;
                    SemanticUidParameter.DbType = DbType.String;
                    SemanticUidParameter.Size = 1000;
                    if (SemanticUid != null)
                    {
                        SemanticUidParameter.Value = SemanticUid;
                    }
                    else
                    {
                        SemanticUidParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(SemanticUidParameter);

                    DbParameter AsOfUtcParameter = cmd.CreateParameter();
                    AsOfUtcParameter.ParameterName = "AsOfUtc";
                    AsOfUtcParameter.Direction = ParameterDirection.Input;
                    AsOfUtcParameter.DbType = DbType.DateTime;
                    if (AsOfUtc.HasValue)
                    {
                        AsOfUtcParameter.Value = AsOfUtc.Value;
                    }
                    else
                    {
                        AsOfUtcParameter.Size = -1;
                        AsOfUtcParameter.Value = DBNull.Value;
                    }
                    cmd.Parameters.Add(AsOfUtcParameter);
                    using (IDataReader reader = await cmd.ExecuteReaderAsync())
                    {
                        var fieldNames = Enumerable.Range(0, reader.FieldCount).Select(i => reader.GetName(i)).ToArray();
                        while (reader.Read())
                        {
                            ApiType row = new ApiType();
                            if (fieldNames.Contains("id") && !reader.IsDBNull(reader.GetOrdinal(@"id")))
                                row.Id = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"id")), typeof(System.Guid));

                            if (fieldNames.Contains("semantic_uid") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid")))
                                row.SemanticUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid")), typeof(string));

                            if (fieldNames.Contains("source_snapshot_id") && !reader.IsDBNull(reader.GetOrdinal(@"source_snapshot_id")))
                                row.SourceSnapshotId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"source_snapshot_id")), typeof(System.Guid));

                            if (fieldNames.Contains("name") && !reader.IsDBNull(reader.GetOrdinal(@"name")))
                                row.Name = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"name")), typeof(string));
                            else
                                row.Name = null;

                            if (fieldNames.Contains("namespace_path") && !reader.IsDBNull(reader.GetOrdinal(@"namespace_path")))
                                row.NamespacePath = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"namespace_path")), typeof(string));
                            else
                                row.NamespacePath = null;

                            if (fieldNames.Contains("kind") && !reader.IsDBNull(reader.GetOrdinal(@"kind")))
                                row.Kind = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"kind")), typeof(string));
                            else
                                row.Kind = null;

                            if (fieldNames.Contains("accessibility") && !reader.IsDBNull(reader.GetOrdinal(@"accessibility")))
                                row.Accessibility = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"accessibility")), typeof(string));
                            else
                                row.Accessibility = null;

                            if (fieldNames.Contains("is_static") && !reader.IsDBNull(reader.GetOrdinal(@"is_static")))
                                row.IsStatic = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_static")), typeof(bool));
                            else
                                row.IsStatic = null;

                            if (fieldNames.Contains("is_generic") && !reader.IsDBNull(reader.GetOrdinal(@"is_generic")))
                                row.IsGeneric = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_generic")), typeof(bool));
                            else
                                row.IsGeneric = null;

                            if (fieldNames.Contains("is_abstract") && !reader.IsDBNull(reader.GetOrdinal(@"is_abstract")))
                                row.IsAbstract = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_abstract")), typeof(bool));
                            else
                                row.IsAbstract = null;

                            if (fieldNames.Contains("is_sealed") && !reader.IsDBNull(reader.GetOrdinal(@"is_sealed")))
                                row.IsSealed = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_sealed")), typeof(bool));
                            else
                                row.IsSealed = null;

                            if (fieldNames.Contains("is_record") && !reader.IsDBNull(reader.GetOrdinal(@"is_record")))
                                row.IsRecord = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_record")), typeof(bool));
                            else
                                row.IsRecord = null;

                            if (fieldNames.Contains("is_ref_like") && !reader.IsDBNull(reader.GetOrdinal(@"is_ref_like")))
                                row.IsRefLike = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_ref_like")), typeof(bool));
                            else
                                row.IsRefLike = null;

                            if (fieldNames.Contains("base_type_uid") && !reader.IsDBNull(reader.GetOrdinal(@"base_type_uid")))
                                row.BaseTypeUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"base_type_uid")), typeof(string));
                            else
                                row.BaseTypeUid = null;

                            if (fieldNames.Contains("interfaces") && !reader.IsDBNull(reader.GetOrdinal(@"interfaces")))
                                row.Interfaces = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"interfaces")), typeof(string));
                            else
                                row.Interfaces = null;

                            if (fieldNames.Contains("containing_type_uid") && !reader.IsDBNull(reader.GetOrdinal(@"containing_type_uid")))
                                row.ContainingTypeUid = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"containing_type_uid")), typeof(string));
                            else
                                row.ContainingTypeUid = null;

                            if (fieldNames.Contains("generic_parameters") && !reader.IsDBNull(reader.GetOrdinal(@"generic_parameters")))
                                row.GenericParameters = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"generic_parameters")), typeof(string));
                            else
                                row.GenericParameters = null;

                            if (fieldNames.Contains("generic_constraints") && !reader.IsDBNull(reader.GetOrdinal(@"generic_constraints")))
                                row.GenericConstraints = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"generic_constraints")), typeof(string));
                            else
                                row.GenericConstraints = null;

                            if (fieldNames.Contains("summary") && !reader.IsDBNull(reader.GetOrdinal(@"summary")))
                                row.Summary = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"summary")), typeof(string));
                            else
                                row.Summary = null;

                            if (fieldNames.Contains("remarks") && !reader.IsDBNull(reader.GetOrdinal(@"remarks")))
                                row.Remarks = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"remarks")), typeof(string));
                            else
                                row.Remarks = null;

                            if (fieldNames.Contains("attributes") && !reader.IsDBNull(reader.GetOrdinal(@"attributes")))
                                row.Attributes = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"attributes")), typeof(string));
                            else
                                row.Attributes = null;

                            if (fieldNames.Contains("source_file_path") && !reader.IsDBNull(reader.GetOrdinal(@"source_file_path")))
                                row.SourceFilePath = (string)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"source_file_path")), typeof(string));
                            else
                                row.SourceFilePath = null;

                            if (fieldNames.Contains("source_start_line") && !reader.IsDBNull(reader.GetOrdinal(@"source_start_line")))
                                row.SourceStartLine = (int)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"source_start_line")), typeof(int));
                            else
                                row.SourceStartLine = null;

                            if (fieldNames.Contains("source_end_line") && !reader.IsDBNull(reader.GetOrdinal(@"source_end_line")))
                                row.SourceEndLine = (int)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"source_end_line")), typeof(int));
                            else
                                row.SourceEndLine = null;

                            if (fieldNames.Contains("version_number") && !reader.IsDBNull(reader.GetOrdinal(@"version_number")))
                                row.VersionNumber = (int)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"version_number")), typeof(int));

                            if (fieldNames.Contains("created_ingestion_run_id") && !reader.IsDBNull(reader.GetOrdinal(@"created_ingestion_run_id")))
                                row.CreatedIngestionRunId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"created_ingestion_run_id")), typeof(System.Guid));

                            if (fieldNames.Contains("updated_ingestion_run_id") && !reader.IsDBNull(reader.GetOrdinal(@"updated_ingestion_run_id")))
                                row.UpdatedIngestionRunId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"updated_ingestion_run_id")), typeof(System.Guid));

                            if (fieldNames.Contains("removed_ingestion_run_id") && !reader.IsDBNull(reader.GetOrdinal(@"removed_ingestion_run_id")))
                                row.RemovedIngestionRunId = (System.Guid)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"removed_ingestion_run_id")), typeof(System.Guid));
                            else
                                row.RemovedIngestionRunId = null;

                            if (fieldNames.Contains("valid_from_utc") && !reader.IsDBNull(reader.GetOrdinal(@"valid_from_utc")))
                                row.ValidFromUtc = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"valid_from_utc")), typeof(System.DateTime));

                            if (fieldNames.Contains("valid_to_utc") && !reader.IsDBNull(reader.GetOrdinal(@"valid_to_utc")))
                                row.ValidToUtc = (System.DateTime)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"valid_to_utc")), typeof(System.DateTime));
                            else
                                row.ValidToUtc = null;

                            if (fieldNames.Contains("is_active") && !reader.IsDBNull(reader.GetOrdinal(@"is_active")))
                                row.IsActive = (bool)Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"is_active")), typeof(bool));

                            if (fieldNames.Contains("content_hash") && !reader.IsDBNull(reader.GetOrdinal(@"content_hash")))
                                row.ContentHash = (byte[])Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"content_hash")), typeof(byte[]));
                            else
                                row.ContentHash = null;

                            if (fieldNames.Contains("semantic_uid_hash") && !reader.IsDBNull(reader.GetOrdinal(@"semantic_uid_hash")))
                                row.SemanticUidHash = (byte[])Convert.ChangeType(reader.GetValue(reader.GetOrdinal(@"semantic_uid_hash")), typeof(byte[]));
                            else
                                row.SemanticUidHash = null;

                            result.Add(row);
                        }
                    }
                }
            }
            finally
            {
                if (needClose)
                    connection.Close();
            }
            return result;
        }

        #endregion

        protected override void OnModelCreating(ModelBuilder modelBuilder)
        {
            base.OnModelCreating(modelBuilder);

            this.ApiFeatureMapping(modelBuilder);
            this.CustomizeApiFeatureMapping(modelBuilder);

            this.ApiMemberMapping(modelBuilder);
            this.CustomizeApiMemberMapping(modelBuilder);

            this.ApiMemberDiffMapping(modelBuilder);
            this.CustomizeApiMemberDiffMapping(modelBuilder);

            this.ApiParameterMapping(modelBuilder);
            this.CustomizeApiParameterMapping(modelBuilder);

            this.ApiTypeMapping(modelBuilder);
            this.CustomizeApiTypeMapping(modelBuilder);

            this.ApiTypeDiffMapping(modelBuilder);
            this.CustomizeApiTypeDiffMapping(modelBuilder);

            this.CodeBlockMapping(modelBuilder);
            this.CustomizeCodeBlockMapping(modelBuilder);

            this.DocPageMapping(modelBuilder);
            this.CustomizeDocPageMapping(modelBuilder);

            this.DocPageDiffMapping(modelBuilder);
            this.CustomizeDocPageDiffMapping(modelBuilder);

            this.DocSectionMapping(modelBuilder);
            this.CustomizeDocSectionMapping(modelBuilder);

            this.ExecutionResultMapping(modelBuilder);
            this.CustomizeExecutionResultMapping(modelBuilder);

            this.ExecutionRunMapping(modelBuilder);
            this.CustomizeExecutionRunMapping(modelBuilder);

            this.FeatureDocLinkMapping(modelBuilder);
            this.CustomizeFeatureDocLinkMapping(modelBuilder);

            this.FeatureMemberLinkMapping(modelBuilder);
            this.CustomizeFeatureMemberLinkMapping(modelBuilder);

            this.FeatureTypeLinkMapping(modelBuilder);
            this.CustomizeFeatureTypeLinkMapping(modelBuilder);

            this.IngestionRunMapping(modelBuilder);
            this.CustomizeIngestionRunMapping(modelBuilder);

            this.RagChunkMapping(modelBuilder);
            this.CustomizeRagChunkMapping(modelBuilder);

            this.RagRunMapping(modelBuilder);
            this.CustomizeRagRunMapping(modelBuilder);

            this.ReviewIssueMapping(modelBuilder);
            this.CustomizeReviewIssueMapping(modelBuilder);

            this.ReviewItemMapping(modelBuilder);
            this.CustomizeReviewItemMapping(modelBuilder);

            this.ReviewRunMapping(modelBuilder);
            this.CustomizeReviewRunMapping(modelBuilder);

            this.SampleMapping(modelBuilder);
            this.CustomizeSampleMapping(modelBuilder);

            this.SampleApiMemberLinkMapping(modelBuilder);
            this.CustomizeSampleApiMemberLinkMapping(modelBuilder);

            this.SampleRunMapping(modelBuilder);
            this.CustomizeSampleRunMapping(modelBuilder);

            this.SemanticIdentityMapping(modelBuilder);
            this.CustomizeSemanticIdentityMapping(modelBuilder);

            this.SnapshotDiffMapping(modelBuilder);
            this.CustomizeSnapshotDiffMapping(modelBuilder);

            this.SourceSnapshotMapping(modelBuilder);
            this.CustomizeSourceSnapshotMapping(modelBuilder);

            this.TruthRunMapping(modelBuilder);
            this.CustomizeTruthRunMapping(modelBuilder);

            this.VApiFeatureCurrentMapping(modelBuilder);
            this.CustomizeVApiFeatureCurrentMapping(modelBuilder);

            this.VApiMemberCurrentMapping(modelBuilder);
            this.CustomizeVApiMemberCurrentMapping(modelBuilder);

            this.VApiTypeCurrentMapping(modelBuilder);
            this.CustomizeVApiTypeCurrentMapping(modelBuilder);

            this.VDocPageCurrentMapping(modelBuilder);
            this.CustomizeVDocPageCurrentMapping(modelBuilder);

            RelationshipsMapping(modelBuilder);
            CustomizeMapping(ref modelBuilder);
        }

        #region ApiFeature Mapping

        private void ApiFeatureMapping(ModelBuilder modelBuilder)
        {
            modelBuilder.Entity<ApiFeature>().ToTable(@"api_feature", @"dbo");
            modelBuilder.Entity<ApiFeature>().Property(x => x.Id).HasColumnName(@"id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedOnAdd().HasDefaultValueSql(@"newid()");
            modelBuilder.Entity<ApiFeature>().Property(x => x.ApiTypeId).HasColumnName(@"api_type_id").HasColumnType(@"uniqueidentifier").ValueGeneratedNever();
            modelBuilder.Entity<ApiFeature>().Property(x => x.SemanticUid).HasColumnName(@"semantic_uid").HasColumnType(@"nvarchar(1000)").IsRequired().ValueGeneratedNever().HasMaxLength(1000);
            modelBuilder.Entity<ApiFeature>().Property(x => x.TruthRunId).HasColumnName(@"truth_run_id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<ApiFeature>().Property(x => x.Name).HasColumnName(@"name").HasColumnType(@"nvarchar(400)").ValueGeneratedNever().HasMaxLength(400);
            modelBuilder.Entity<ApiFeature>().Property(x => x.Language).HasColumnName(@"language").HasColumnType(@"nvarchar(200)").ValueGeneratedNever().HasMaxLength(200);
            modelBuilder.Entity<ApiFeature>().Property(x => x.Description).HasColumnName(@"description").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<ApiFeature>().Property(x => x.Tags).HasColumnName(@"tags").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<ApiFeature>().Property(x => x.VersionNumber).HasColumnName(@"version_number").HasColumnType(@"int").IsRequired().ValueGeneratedNever().HasPrecision(10, 0);
            modelBuilder.Entity<ApiFeature>().Property(x => x.CreatedIngestionRunId).HasColumnName(@"created_ingestion_run_id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<ApiFeature>().Property(x => x.UpdatedIngestionRunId).HasColumnName(@"updated_ingestion_run_id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<ApiFeature>().Property(x => x.RemovedIngestionRunId).HasColumnName(@"removed_ingestion_run_id").HasColumnType(@"uniqueidentifier").ValueGeneratedNever();
            modelBuilder.Entity<ApiFeature>().Property(x => x.ValidFromUtc).HasColumnName(@"valid_from_utc").HasColumnType(@"datetime2").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<ApiFeature>().Property(x => x.ValidToUtc).HasColumnName(@"valid_to_utc").HasColumnType(@"datetime2").ValueGeneratedNever();
            modelBuilder.Entity<ApiFeature>().Property(x => x.IsActive).HasColumnName(@"is_active").HasColumnType(@"bit").IsRequired().ValueGeneratedNever().HasDefaultValueSql(@"1");
            modelBuilder.Entity<ApiFeature>().Property(x => x.ContentHash).HasColumnName(@"content_hash").HasColumnType(@"binary(32)").ValueGeneratedNever().HasMaxLength(32);
            modelBuilder.Entity<ApiFeature>().Property(x => x.SemanticUidHash).HasColumnName(@"semantic_uid_hash").HasColumnType(@"binary(32)").ValueGeneratedOnAddOrUpdate().HasMaxLength(32);
            modelBuilder.Entity<ApiFeature>().HasKey(@"Id");
            modelBuilder.Entity<ApiFeature>().HasIndex(@"SemanticUid", @"VersionNumber").IsUnique(true).HasDatabaseName(@"uq_api_feature_semantic_version");
        }

        partial void CustomizeApiFeatureMapping(ModelBuilder modelBuilder);

        #endregion

        #region ApiMember Mapping

        private void ApiMemberMapping(ModelBuilder modelBuilder)
        {
            modelBuilder.Entity<ApiMember>().ToTable(@"api_member", @"dbo");
            modelBuilder.Entity<ApiMember>().Property(x => x.Id).HasColumnName(@"id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedOnAdd().HasDefaultValueSql(@"newid()");
            modelBuilder.Entity<ApiMember>().Property(x => x.SemanticUid).HasColumnName(@"semantic_uid").HasColumnType(@"nvarchar(1000)").IsRequired().ValueGeneratedNever().HasMaxLength(1000);
            modelBuilder.Entity<ApiMember>().Property(x => x.ApiFeatureId).HasColumnName(@"api_feature_id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<ApiMember>().Property(x => x.Name).HasColumnName(@"name").HasColumnType(@"nvarchar(400)").ValueGeneratedNever().HasMaxLength(400);
            modelBuilder.Entity<ApiMember>().Property(x => x.Kind).HasColumnName(@"kind").HasColumnType(@"nvarchar(200)").ValueGeneratedNever().HasMaxLength(200);
            modelBuilder.Entity<ApiMember>().Property(x => x.MethodKind).HasColumnName(@"method_kind").HasColumnType(@"nvarchar(200)").ValueGeneratedNever().HasMaxLength(200);
            modelBuilder.Entity<ApiMember>().Property(x => x.Accessibility).HasColumnName(@"accessibility").HasColumnType(@"nvarchar(200)").ValueGeneratedNever().HasMaxLength(200);
            modelBuilder.Entity<ApiMember>().Property(x => x.IsStatic).HasColumnName(@"is_static").HasColumnType(@"bit").ValueGeneratedNever();
            modelBuilder.Entity<ApiMember>().Property(x => x.IsExtensionMethod).HasColumnName(@"is_extension_method").HasColumnType(@"bit").ValueGeneratedNever();
            modelBuilder.Entity<ApiMember>().Property(x => x.IsAsync).HasColumnName(@"is_async").HasColumnType(@"bit").ValueGeneratedNever();
            modelBuilder.Entity<ApiMember>().Property(x => x.IsVirtual).HasColumnName(@"is_virtual").HasColumnType(@"bit").ValueGeneratedNever();
            modelBuilder.Entity<ApiMember>().Property(x => x.IsOverride).HasColumnName(@"is_override").HasColumnType(@"bit").ValueGeneratedNever();
            modelBuilder.Entity<ApiMember>().Property(x => x.IsAbstract).HasColumnName(@"is_abstract").HasColumnType(@"bit").ValueGeneratedNever();
            modelBuilder.Entity<ApiMember>().Property(x => x.IsSealed).HasColumnName(@"is_sealed").HasColumnType(@"bit").ValueGeneratedNever();
            modelBuilder.Entity<ApiMember>().Property(x => x.IsReadonly).HasColumnName(@"is_readonly").HasColumnType(@"bit").ValueGeneratedNever();
            modelBuilder.Entity<ApiMember>().Property(x => x.IsConst).HasColumnName(@"is_const").HasColumnType(@"bit").ValueGeneratedNever();
            modelBuilder.Entity<ApiMember>().Property(x => x.IsUnsafe).HasColumnName(@"is_unsafe").HasColumnType(@"bit").ValueGeneratedNever();
            modelBuilder.Entity<ApiMember>().Property(x => x.ReturnTypeUid).HasColumnName(@"return_type_uid").HasColumnType(@"nvarchar(1000)").ValueGeneratedNever().HasMaxLength(1000);
            modelBuilder.Entity<ApiMember>().Property(x => x.ReturnNullable).HasColumnName(@"return_nullable").HasColumnType(@"nvarchar(50)").ValueGeneratedNever().HasMaxLength(50);
            modelBuilder.Entity<ApiMember>().Property(x => x.GenericParameters).HasColumnName(@"generic_parameters").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<ApiMember>().Property(x => x.GenericConstraints).HasColumnName(@"generic_constraints").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<ApiMember>().Property(x => x.Summary).HasColumnName(@"summary").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<ApiMember>().Property(x => x.Remarks).HasColumnName(@"remarks").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<ApiMember>().Property(x => x.Attributes).HasColumnName(@"attributes").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<ApiMember>().Property(x => x.SourceFilePath).HasColumnName(@"source_file_path").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<ApiMember>().Property(x => x.SourceStartLine).HasColumnName(@"source_start_line").HasColumnType(@"int").ValueGeneratedNever().HasPrecision(10, 0);
            modelBuilder.Entity<ApiMember>().Property(x => x.SourceEndLine).HasColumnName(@"source_end_line").HasColumnType(@"int").ValueGeneratedNever().HasPrecision(10, 0);
            modelBuilder.Entity<ApiMember>().Property(x => x.MemberUidHash).HasColumnName(@"member_uid_hash").HasColumnType(@"binary(32)").ValueGeneratedNever().HasMaxLength(32);
            modelBuilder.Entity<ApiMember>().Property(x => x.VersionNumber).HasColumnName(@"version_number").HasColumnType(@"int").IsRequired().ValueGeneratedNever().HasPrecision(10, 0);
            modelBuilder.Entity<ApiMember>().Property(x => x.CreatedIngestionRunId).HasColumnName(@"created_ingestion_run_id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<ApiMember>().Property(x => x.UpdatedIngestionRunId).HasColumnName(@"updated_ingestion_run_id").HasColumnType(@"uniqueidentifier").ValueGeneratedNever();
            modelBuilder.Entity<ApiMember>().Property(x => x.RemovedIngestionRunId).HasColumnName(@"removed_ingestion_run_id").HasColumnType(@"uniqueidentifier").ValueGeneratedNever();
            modelBuilder.Entity<ApiMember>().Property(x => x.ValidFromUtc).HasColumnName(@"valid_from_utc").HasColumnType(@"datetime2").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<ApiMember>().Property(x => x.ValidToUtc).HasColumnName(@"valid_to_utc").HasColumnType(@"datetime2").ValueGeneratedNever();
            modelBuilder.Entity<ApiMember>().Property(x => x.IsActive).HasColumnName(@"is_active").HasColumnType(@"bit").IsRequired().ValueGeneratedNever().HasDefaultValueSql(@"1");
            modelBuilder.Entity<ApiMember>().Property(x => x.ContentHash).HasColumnName(@"content_hash").HasColumnType(@"binary(32)").ValueGeneratedNever().HasMaxLength(32);
            modelBuilder.Entity<ApiMember>().Property(x => x.SemanticUidHash).HasColumnName(@"semantic_uid_hash").HasColumnType(@"binary(32)").ValueGeneratedOnAddOrUpdate().HasMaxLength(32);
            modelBuilder.Entity<ApiMember>().HasKey(@"Id");
            modelBuilder.Entity<ApiMember>().HasIndex(@"ApiFeatureId", @"MemberUidHash").IsUnique(true).HasDatabaseName(@"ix_api_member_type_hash");
            modelBuilder.Entity<ApiMember>().HasIndex(@"VersionNumber", @"SemanticUidHash").IsUnique(true).HasDatabaseName(@"uq_api_member_semantic_version");
        }

        partial void CustomizeApiMemberMapping(ModelBuilder modelBuilder);

        #endregion

        #region ApiMemberDiff Mapping

        private void ApiMemberDiffMapping(ModelBuilder modelBuilder)
        {
            modelBuilder.Entity<ApiMemberDiff>().ToTable(@"api_member_diff", @"dbo");
            modelBuilder.Entity<ApiMemberDiff>().Property(x => x.Id).HasColumnName(@"id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedOnAdd().HasDefaultValueSql(@"newid()");
            modelBuilder.Entity<ApiMemberDiff>().Property(x => x.SnapshotDiffId).HasColumnName(@"snapshot_diff_id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<ApiMemberDiff>().Property(x => x.MemberUid).HasColumnName(@"member_uid").HasColumnType(@"nvarchar(1000)").IsRequired().ValueGeneratedNever().HasMaxLength(1000);
            modelBuilder.Entity<ApiMemberDiff>().Property(x => x.ChangeKind).HasColumnName(@"change_kind").HasColumnType(@"nvarchar(200)").ValueGeneratedNever().HasMaxLength(200);
            modelBuilder.Entity<ApiMemberDiff>().Property(x => x.OldSignature).HasColumnName(@"old_signature").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<ApiMemberDiff>().Property(x => x.NewSignature).HasColumnName(@"new_signature").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<ApiMemberDiff>().Property(x => x.Breaking).HasColumnName(@"breaking").HasColumnType(@"bit").ValueGeneratedNever();
            modelBuilder.Entity<ApiMemberDiff>().Property(x => x.DetailJson).HasColumnName(@"detail_json").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<ApiMemberDiff>().HasKey(@"Id");
        }

        partial void CustomizeApiMemberDiffMapping(ModelBuilder modelBuilder);

        #endregion

        #region ApiParameter Mapping

        private void ApiParameterMapping(ModelBuilder modelBuilder)
        {
            modelBuilder.Entity<ApiParameter>().ToTable(@"api_parameter", @"dbo");
            modelBuilder.Entity<ApiParameter>().Property(x => x.Id).HasColumnName(@"id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedOnAdd().HasDefaultValueSql(@"newid()");
            modelBuilder.Entity<ApiParameter>().Property(x => x.ApiMemberId).HasColumnName(@"api_member_id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<ApiParameter>().Property(x => x.Name).HasColumnName(@"name").HasColumnType(@"nvarchar(200)").ValueGeneratedNever().HasMaxLength(200);
            modelBuilder.Entity<ApiParameter>().Property(x => x.TypeUid).HasColumnName(@"type_uid").HasColumnType(@"nvarchar(1000)").ValueGeneratedNever().HasMaxLength(1000);
            modelBuilder.Entity<ApiParameter>().Property(x => x.NullableAnnotation).HasColumnName(@"nullable_annotation").HasColumnType(@"nvarchar(50)").ValueGeneratedNever().HasMaxLength(50);
            modelBuilder.Entity<ApiParameter>().Property(x => x.Position).HasColumnName(@"position").HasColumnType(@"int").ValueGeneratedNever().HasPrecision(10, 0);
            modelBuilder.Entity<ApiParameter>().Property(x => x.Modifier).HasColumnName(@"modifier").HasColumnType(@"nvarchar(50)").ValueGeneratedNever().HasMaxLength(50);
            modelBuilder.Entity<ApiParameter>().Property(x => x.HasDefaultValue).HasColumnName(@"has_default_value").HasColumnType(@"bit").ValueGeneratedNever();
            modelBuilder.Entity<ApiParameter>().Property(x => x.DefaultValueLiteral).HasColumnName(@"default_value_literal").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<ApiParameter>().Property(x => x.VersionNumber).HasColumnName(@"version_number").HasColumnType(@"int").IsRequired().ValueGeneratedNever().HasPrecision(10, 0);
            modelBuilder.Entity<ApiParameter>().Property(x => x.CreatedIngestionRunId).HasColumnName(@"created_ingestion_run_id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<ApiParameter>().Property(x => x.UpdatedIngestionRunId).HasColumnName(@"updated_ingestion_run_id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<ApiParameter>().Property(x => x.RemovedIngestionRunId).HasColumnName(@"removed_ingestion_run_id").HasColumnType(@"uniqueidentifier").ValueGeneratedNever();
            modelBuilder.Entity<ApiParameter>().Property(x => x.ValidFromUtc).HasColumnName(@"valid_from_utc").HasColumnType(@"datetime2").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<ApiParameter>().Property(x => x.ValidToUtc).HasColumnName(@"valid_to_utc").HasColumnType(@"datetime2").ValueGeneratedNever();
            modelBuilder.Entity<ApiParameter>().Property(x => x.IsActive).HasColumnName(@"is_active").HasColumnType(@"bit").IsRequired().ValueGeneratedNever().HasDefaultValueSql(@"1");
            modelBuilder.Entity<ApiParameter>().Property(x => x.ContentHash).HasColumnName(@"content_hash").HasColumnType(@"binary(32)").ValueGeneratedNever().HasMaxLength(32);
            modelBuilder.Entity<ApiParameter>().Property(x => x.SemanticUidHash).HasColumnName(@"semantic_uid_hash").HasColumnType(@"binary(32)").ValueGeneratedNever().HasMaxLength(32);
            modelBuilder.Entity<ApiParameter>().HasKey(@"Id");
            modelBuilder.Entity<ApiParameter>().HasIndex(@"ApiMemberId", @"Position", @"VersionNumber").IsUnique(true).HasDatabaseName(@"uq_api_parameter_member_position_version");
        }

        partial void CustomizeApiParameterMapping(ModelBuilder modelBuilder);

        #endregion

        #region ApiType Mapping

        private void ApiTypeMapping(ModelBuilder modelBuilder)
        {
            modelBuilder.Entity<ApiType>().ToTable(@"api_type", @"dbo");
            modelBuilder.Entity<ApiType>().Property(x => x.Id).HasColumnName(@"id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedOnAdd().HasDefaultValueSql(@"newid()");
            modelBuilder.Entity<ApiType>().Property(x => x.SemanticUid).HasColumnName(@"semantic_uid").HasColumnType(@"nvarchar(1000)").IsRequired().ValueGeneratedNever().HasMaxLength(1000);
            modelBuilder.Entity<ApiType>().Property(x => x.SourceSnapshotId).HasColumnName(@"source_snapshot_id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<ApiType>().Property(x => x.Name).HasColumnName(@"name").HasColumnType(@"nvarchar(400)").ValueGeneratedNever().HasMaxLength(400);
            modelBuilder.Entity<ApiType>().Property(x => x.NamespacePath).HasColumnName(@"namespace_path").HasColumnType(@"nvarchar(1000)").ValueGeneratedNever().HasMaxLength(1000);
            modelBuilder.Entity<ApiType>().Property(x => x.Kind).HasColumnName(@"kind").HasColumnType(@"nvarchar(200)").ValueGeneratedNever().HasMaxLength(200);
            modelBuilder.Entity<ApiType>().Property(x => x.Accessibility).HasColumnName(@"accessibility").HasColumnType(@"nvarchar(200)").ValueGeneratedNever().HasMaxLength(200);
            modelBuilder.Entity<ApiType>().Property(x => x.IsStatic).HasColumnName(@"is_static").HasColumnType(@"bit").ValueGeneratedNever();
            modelBuilder.Entity<ApiType>().Property(x => x.IsGeneric).HasColumnName(@"is_generic").HasColumnType(@"bit").ValueGeneratedNever();
            modelBuilder.Entity<ApiType>().Property(x => x.IsAbstract).HasColumnName(@"is_abstract").HasColumnType(@"bit").ValueGeneratedNever();
            modelBuilder.Entity<ApiType>().Property(x => x.IsSealed).HasColumnName(@"is_sealed").HasColumnType(@"bit").ValueGeneratedNever();
            modelBuilder.Entity<ApiType>().Property(x => x.IsRecord).HasColumnName(@"is_record").HasColumnType(@"bit").ValueGeneratedNever();
            modelBuilder.Entity<ApiType>().Property(x => x.IsRefLike).HasColumnName(@"is_ref_like").HasColumnType(@"bit").ValueGeneratedNever();
            modelBuilder.Entity<ApiType>().Property(x => x.BaseTypeUid).HasColumnName(@"base_type_uid").HasColumnType(@"nvarchar(1000)").ValueGeneratedNever().HasMaxLength(1000);
            modelBuilder.Entity<ApiType>().Property(x => x.Interfaces).HasColumnName(@"interfaces").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<ApiType>().Property(x => x.ContainingTypeUid).HasColumnName(@"containing_type_uid").HasColumnType(@"nvarchar(1000)").ValueGeneratedNever().HasMaxLength(1000);
            modelBuilder.Entity<ApiType>().Property(x => x.GenericParameters).HasColumnName(@"generic_parameters").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<ApiType>().Property(x => x.GenericConstraints).HasColumnName(@"generic_constraints").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<ApiType>().Property(x => x.Summary).HasColumnName(@"summary").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<ApiType>().Property(x => x.Remarks).HasColumnName(@"remarks").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<ApiType>().Property(x => x.Attributes).HasColumnName(@"attributes").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<ApiType>().Property(x => x.SourceFilePath).HasColumnName(@"source_file_path").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<ApiType>().Property(x => x.SourceStartLine).HasColumnName(@"source_start_line").HasColumnType(@"int").ValueGeneratedNever().HasPrecision(10, 0);
            modelBuilder.Entity<ApiType>().Property(x => x.SourceEndLine).HasColumnName(@"source_end_line").HasColumnType(@"int").ValueGeneratedNever().HasPrecision(10, 0);
            modelBuilder.Entity<ApiType>().Property(x => x.VersionNumber).HasColumnName(@"version_number").HasColumnType(@"int").IsRequired().ValueGeneratedNever().HasPrecision(10, 0);
            modelBuilder.Entity<ApiType>().Property(x => x.CreatedIngestionRunId).HasColumnName(@"created_ingestion_run_id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<ApiType>().Property(x => x.UpdatedIngestionRunId).HasColumnName(@"updated_ingestion_run_id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<ApiType>().Property(x => x.RemovedIngestionRunId).HasColumnName(@"removed_ingestion_run_id").HasColumnType(@"uniqueidentifier").ValueGeneratedNever();
            modelBuilder.Entity<ApiType>().Property(x => x.ValidFromUtc).HasColumnName(@"valid_from_utc").HasColumnType(@"datetime2").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<ApiType>().Property(x => x.ValidToUtc).HasColumnName(@"valid_to_utc").HasColumnType(@"datetime2").ValueGeneratedNever();
            modelBuilder.Entity<ApiType>().Property(x => x.IsActive).HasColumnName(@"is_active").HasColumnType(@"bit").IsRequired().ValueGeneratedNever().HasDefaultValueSql(@"1");
            modelBuilder.Entity<ApiType>().Property(x => x.ContentHash).HasColumnName(@"content_hash").HasColumnType(@"binary(32)").ValueGeneratedNever().HasMaxLength(32);
            modelBuilder.Entity<ApiType>().Property(x => x.SemanticUidHash).HasColumnName(@"semantic_uid_hash").HasColumnType(@"binary(32)").ValueGeneratedOnAddOrUpdate().HasMaxLength(32);
            modelBuilder.Entity<ApiType>().HasKey(@"Id");
            modelBuilder.Entity<ApiType>().HasIndex(@"VersionNumber", @"SemanticUidHash").IsUnique(true).HasDatabaseName(@"uq_api_type_semantic_version");
        }

        partial void CustomizeApiTypeMapping(ModelBuilder modelBuilder);

        #endregion

        #region ApiTypeDiff Mapping

        private void ApiTypeDiffMapping(ModelBuilder modelBuilder)
        {
            modelBuilder.Entity<ApiTypeDiff>().ToTable(@"api_type_diff", @"dbo");
            modelBuilder.Entity<ApiTypeDiff>().Property(x => x.Id).HasColumnName(@"id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedOnAdd().HasDefaultValueSql(@"newid()");
            modelBuilder.Entity<ApiTypeDiff>().Property(x => x.SnapshotDiffId).HasColumnName(@"snapshot_diff_id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<ApiTypeDiff>().Property(x => x.TypeUid).HasColumnName(@"type_uid").HasColumnType(@"nvarchar(1000)").IsRequired().ValueGeneratedNever().HasMaxLength(1000);
            modelBuilder.Entity<ApiTypeDiff>().Property(x => x.ChangeKind).HasColumnName(@"change_kind").HasColumnType(@"nvarchar(200)").ValueGeneratedNever().HasMaxLength(200);
            modelBuilder.Entity<ApiTypeDiff>().Property(x => x.DetailJson).HasColumnName(@"detail_json").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<ApiTypeDiff>().HasKey(@"Id");
        }

        partial void CustomizeApiTypeDiffMapping(ModelBuilder modelBuilder);

        #endregion

        #region CodeBlock Mapping

        private void CodeBlockMapping(ModelBuilder modelBuilder)
        {
            modelBuilder.Entity<CodeBlock>().ToTable(@"code_block", @"dbo");
            modelBuilder.Entity<CodeBlock>().Property(x => x.Id).HasColumnName(@"id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedOnAdd().HasDefaultValueSql(@"newid()");
            modelBuilder.Entity<CodeBlock>().Property(x => x.DocSectionId).HasColumnName(@"doc_section_id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<CodeBlock>().Property(x => x.SemanticUid).HasColumnName(@"semantic_uid").HasColumnType(@"nvarchar(1000)").ValueGeneratedNever().HasMaxLength(1000);
            modelBuilder.Entity<CodeBlock>().Property(x => x.Language).HasColumnName(@"language").HasColumnType(@"nvarchar(200)").ValueGeneratedNever().HasMaxLength(200);
            modelBuilder.Entity<CodeBlock>().Property(x => x.Content).HasColumnName(@"content").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<CodeBlock>().Property(x => x.DeclaredPackages).HasColumnName(@"declared_packages").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<CodeBlock>().Property(x => x.Tags).HasColumnName(@"tags").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<CodeBlock>().Property(x => x.InlineComments).HasColumnName(@"inline_comments").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<CodeBlock>().Property(x => x.VersionNumber).HasColumnName(@"version_number").HasColumnType(@"int").IsRequired().ValueGeneratedNever().HasPrecision(10, 0);
            modelBuilder.Entity<CodeBlock>().Property(x => x.CreatedIngestionRunId).HasColumnName(@"created_ingestion_run_id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<CodeBlock>().Property(x => x.UpdatedIngestionRunId).HasColumnName(@"updated_ingestion_run_id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<CodeBlock>().Property(x => x.RemovedIngestionRunId).HasColumnName(@"removed_ingestion_run_id").HasColumnType(@"uniqueidentifier").ValueGeneratedNever();
            modelBuilder.Entity<CodeBlock>().Property(x => x.ValidFromUtc).HasColumnName(@"valid_from_utc").HasColumnType(@"datetime2").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<CodeBlock>().Property(x => x.ValidToUtc).HasColumnName(@"valid_to_utc").HasColumnType(@"datetime2").ValueGeneratedNever();
            modelBuilder.Entity<CodeBlock>().Property(x => x.IsActive).HasColumnName(@"is_active").HasColumnType(@"bit").IsRequired().ValueGeneratedNever().HasDefaultValueSql(@"1");
            modelBuilder.Entity<CodeBlock>().Property(x => x.ContentHash).HasColumnName(@"content_hash").HasColumnType(@"binary(32)").ValueGeneratedNever().HasMaxLength(32);
            modelBuilder.Entity<CodeBlock>().HasKey(@"Id");
            modelBuilder.Entity<CodeBlock>().HasIndex(@"SemanticUid", @"VersionNumber").IsUnique(true).HasDatabaseName(@"ix_code_block_semantic_version");
        }

        partial void CustomizeCodeBlockMapping(ModelBuilder modelBuilder);

        #endregion

        #region DocPage Mapping

        private void DocPageMapping(ModelBuilder modelBuilder)
        {
            modelBuilder.Entity<DocPage>().ToTable(@"doc_page", @"dbo");
            modelBuilder.Entity<DocPage>().Property(x => x.Id).HasColumnName(@"id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedOnAdd().HasDefaultValueSql(@"newid()");
            modelBuilder.Entity<DocPage>().Property(x => x.SemanticUid).HasColumnName(@"semantic_uid").HasColumnType(@"nvarchar(1000)").IsRequired().ValueGeneratedNever().HasMaxLength(1000);
            modelBuilder.Entity<DocPage>().Property(x => x.SourceSnapshotId).HasColumnName(@"source_snapshot_id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<DocPage>().Property(x => x.SourcePath).HasColumnName(@"source_path").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<DocPage>().Property(x => x.Title).HasColumnName(@"title").HasColumnType(@"nvarchar(400)").ValueGeneratedNever().HasMaxLength(400);
            modelBuilder.Entity<DocPage>().Property(x => x.Language).HasColumnName(@"language").HasColumnType(@"nvarchar(200)").ValueGeneratedNever().HasMaxLength(200);
            modelBuilder.Entity<DocPage>().Property(x => x.Url).HasColumnName(@"url").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<DocPage>().Property(x => x.RawMarkdown).HasColumnName(@"raw_markdown").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<DocPage>().Property(x => x.VersionNumber).HasColumnName(@"version_number").HasColumnType(@"int").IsRequired().ValueGeneratedNever().HasPrecision(10, 0);
            modelBuilder.Entity<DocPage>().Property(x => x.CreatedIngestionRunId).HasColumnName(@"created_ingestion_run_id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<DocPage>().Property(x => x.UpdatedIngestionRunId).HasColumnName(@"updated_ingestion_run_id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<DocPage>().Property(x => x.RemovedIngestionRunId).HasColumnName(@"removed_ingestion_run_id").HasColumnType(@"uniqueidentifier").ValueGeneratedNever();
            modelBuilder.Entity<DocPage>().Property(x => x.ValidFromUtc).HasColumnName(@"valid_from_utc").HasColumnType(@"datetime2").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<DocPage>().Property(x => x.ValidToUtc).HasColumnName(@"valid_to_utc").HasColumnType(@"datetime2").ValueGeneratedNever();
            modelBuilder.Entity<DocPage>().Property(x => x.IsActive).HasColumnName(@"is_active").HasColumnType(@"bit").IsRequired().ValueGeneratedNever().HasDefaultValueSql(@"1");
            modelBuilder.Entity<DocPage>().Property(x => x.ContentHash).HasColumnName(@"content_hash").HasColumnType(@"binary(32)").ValueGeneratedNever().HasMaxLength(32);
            modelBuilder.Entity<DocPage>().Property(x => x.SemanticUidHash).HasColumnName(@"semantic_uid_hash").HasColumnType(@"binary(32)").ValueGeneratedOnAddOrUpdate().HasMaxLength(32);
            modelBuilder.Entity<DocPage>().HasKey(@"Id");
            modelBuilder.Entity<DocPage>().HasIndex(@"SemanticUid", @"VersionNumber").IsUnique(true).HasDatabaseName(@"uq_doc_page_semantic_version");
        }

        partial void CustomizeDocPageMapping(ModelBuilder modelBuilder);

        #endregion

        #region DocPageDiff Mapping

        private void DocPageDiffMapping(ModelBuilder modelBuilder)
        {
            modelBuilder.Entity<DocPageDiff>().ToTable(@"doc_page_diff", @"dbo");
            modelBuilder.Entity<DocPageDiff>().Property(x => x.Id).HasColumnName(@"id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedOnAdd().HasDefaultValueSql(@"newid()");
            modelBuilder.Entity<DocPageDiff>().Property(x => x.SnapshotDiffId).HasColumnName(@"snapshot_diff_id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<DocPageDiff>().Property(x => x.DocUid).HasColumnName(@"doc_uid").HasColumnType(@"nvarchar(1000)").IsRequired().ValueGeneratedNever().HasMaxLength(1000);
            modelBuilder.Entity<DocPageDiff>().Property(x => x.ChangeKind).HasColumnName(@"change_kind").HasColumnType(@"nvarchar(200)").ValueGeneratedNever().HasMaxLength(200);
            modelBuilder.Entity<DocPageDiff>().Property(x => x.DetailJson).HasColumnName(@"detail_json").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<DocPageDiff>().HasKey(@"Id");
        }

        partial void CustomizeDocPageDiffMapping(ModelBuilder modelBuilder);

        #endregion

        #region DocSection Mapping

        private void DocSectionMapping(ModelBuilder modelBuilder)
        {
            modelBuilder.Entity<DocSection>().ToTable(@"doc_section", @"dbo");
            modelBuilder.Entity<DocSection>().Property(x => x.Id).HasColumnName(@"id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedOnAdd().HasDefaultValueSql(@"newid()");
            modelBuilder.Entity<DocSection>().Property(x => x.DocPageId).HasColumnName(@"doc_page_id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<DocSection>().Property(x => x.SemanticUid).HasColumnName(@"semantic_uid").HasColumnType(@"nvarchar(1000)").IsRequired().ValueGeneratedNever().HasMaxLength(1000);
            modelBuilder.Entity<DocSection>().Property(x => x.Heading).HasColumnName(@"heading").HasColumnType(@"nvarchar(400)").ValueGeneratedNever().HasMaxLength(400);
            modelBuilder.Entity<DocSection>().Property(x => x.Level).HasColumnName(@"level").HasColumnType(@"int").ValueGeneratedNever().HasPrecision(10, 0);
            modelBuilder.Entity<DocSection>().Property(x => x.ContentMarkdown).HasColumnName(@"content_markdown").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<DocSection>().Property(x => x.OrderIndex).HasColumnName(@"order_index").HasColumnType(@"int").ValueGeneratedNever().HasPrecision(10, 0);
            modelBuilder.Entity<DocSection>().Property(x => x.VersionNumber).HasColumnName(@"version_number").HasColumnType(@"int").IsRequired().ValueGeneratedNever().HasPrecision(10, 0);
            modelBuilder.Entity<DocSection>().Property(x => x.CreatedIngestionRunId).HasColumnName(@"created_ingestion_run_id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<DocSection>().Property(x => x.UpdatedIngestionRunId).HasColumnName(@"updated_ingestion_run_id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<DocSection>().Property(x => x.RemovedIngestionRunId).HasColumnName(@"removed_ingestion_run_id").HasColumnType(@"uniqueidentifier").ValueGeneratedNever();
            modelBuilder.Entity<DocSection>().Property(x => x.ValidFromUtc).HasColumnName(@"valid_from_utc").HasColumnType(@"datetime2").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<DocSection>().Property(x => x.ValidToUtc).HasColumnName(@"valid_to_utc").HasColumnType(@"datetime2").ValueGeneratedNever();
            modelBuilder.Entity<DocSection>().Property(x => x.IsActive).HasColumnName(@"is_active").HasColumnType(@"bit").IsRequired().ValueGeneratedNever().HasDefaultValueSql(@"1");
            modelBuilder.Entity<DocSection>().Property(x => x.ContentHash).HasColumnName(@"content_hash").HasColumnType(@"binary(32)").ValueGeneratedNever().HasMaxLength(32);
            modelBuilder.Entity<DocSection>().Property(x => x.SemanticUidHash).HasColumnName(@"semantic_uid_hash").HasColumnType(@"binary(32)").ValueGeneratedOnAddOrUpdate().HasMaxLength(32);
            modelBuilder.Entity<DocSection>().HasKey(@"Id");
            modelBuilder.Entity<DocSection>().HasIndex(@"SemanticUid", @"VersionNumber").IsUnique(true).HasDatabaseName(@"uq_doc_section_semantic_version");
        }

        partial void CustomizeDocSectionMapping(ModelBuilder modelBuilder);

        #endregion

        #region ExecutionResult Mapping

        private void ExecutionResultMapping(ModelBuilder modelBuilder)
        {
            modelBuilder.Entity<ExecutionResult>().ToTable(@"execution_result", @"dbo");
            modelBuilder.Entity<ExecutionResult>().Property(x => x.Id).HasColumnName(@"id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedOnAdd().HasDefaultValueSql(@"newid()");
            modelBuilder.Entity<ExecutionResult>().Property(x => x.ExecutionRunId).HasColumnName(@"execution_run_id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<ExecutionResult>().Property(x => x.SampleUid).HasColumnName(@"sample_uid").HasColumnType(@"nvarchar(1000)").IsRequired().ValueGeneratedNever().HasMaxLength(1000);
            modelBuilder.Entity<ExecutionResult>().Property(x => x.Status).HasColumnName(@"status").HasColumnType(@"nvarchar(100)").ValueGeneratedNever().HasMaxLength(100);
            modelBuilder.Entity<ExecutionResult>().Property(x => x.BuildLog).HasColumnName(@"build_log").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<ExecutionResult>().Property(x => x.RunLog).HasColumnName(@"run_log").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<ExecutionResult>().Property(x => x.ExceptionJson).HasColumnName(@"exception_json").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<ExecutionResult>().Property(x => x.DurationMs).HasColumnName(@"duration_ms").HasColumnType(@"int").ValueGeneratedNever().HasPrecision(10, 0);
            modelBuilder.Entity<ExecutionResult>().HasKey(@"Id");
        }

        partial void CustomizeExecutionResultMapping(ModelBuilder modelBuilder);

        #endregion

        #region ExecutionRun Mapping

        private void ExecutionRunMapping(ModelBuilder modelBuilder)
        {
            modelBuilder.Entity<ExecutionRun>().ToTable(@"execution_run", @"dbo");
            modelBuilder.Entity<ExecutionRun>().Property(x => x.Id).HasColumnName(@"id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedOnAdd().HasDefaultValueSql(@"newid()");
            modelBuilder.Entity<ExecutionRun>().Property(x => x.SnapshotId).HasColumnName(@"snapshot_id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<ExecutionRun>().Property(x => x.SampleRunId).HasColumnName(@"sample_run_id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<ExecutionRun>().Property(x => x.TimestampUtc).HasColumnName(@"timestamp_utc").HasColumnType(@"datetime2").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<ExecutionRun>().Property(x => x.EnvironmentJson).HasColumnName(@"environment_json").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<ExecutionRun>().Property(x => x.SchemaVersion).HasColumnName(@"schema_version").HasColumnType(@"nvarchar(200)").IsRequired().ValueGeneratedNever().HasMaxLength(200);
            modelBuilder.Entity<ExecutionRun>().HasKey(@"Id");
        }

        partial void CustomizeExecutionRunMapping(ModelBuilder modelBuilder);

        #endregion

        #region FeatureDocLink Mapping

        private void FeatureDocLinkMapping(ModelBuilder modelBuilder)
        {
            modelBuilder.Entity<FeatureDocLink>().ToTable(@"feature_doc_link", @"dbo");
            modelBuilder.Entity<FeatureDocLink>().Property(x => x.Id).HasColumnName(@"id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedOnAdd().HasDefaultValueSql(@"newid()");
            modelBuilder.Entity<FeatureDocLink>().Property(x => x.FeatureId).HasColumnName(@"feature_id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<FeatureDocLink>().Property(x => x.DocUid).HasColumnName(@"doc_uid").HasColumnType(@"nvarchar(1000)").IsRequired().ValueGeneratedNever().HasMaxLength(1000);
            modelBuilder.Entity<FeatureDocLink>().Property(x => x.SectionUid).HasColumnName(@"section_uid").HasColumnType(@"nvarchar(1000)").ValueGeneratedNever().HasMaxLength(1000);
            modelBuilder.Entity<FeatureDocLink>().HasKey(@"Id");
        }

        partial void CustomizeFeatureDocLinkMapping(ModelBuilder modelBuilder);

        #endregion

        #region FeatureMemberLink Mapping

        private void FeatureMemberLinkMapping(ModelBuilder modelBuilder)
        {
            modelBuilder.Entity<FeatureMemberLink>().ToTable(@"feature_member_link", @"dbo");
            modelBuilder.Entity<FeatureMemberLink>().Property(x => x.Id).HasColumnName(@"id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedOnAdd().HasDefaultValueSql(@"newid()");
            modelBuilder.Entity<FeatureMemberLink>().Property(x => x.FeatureId).HasColumnName(@"feature_id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<FeatureMemberLink>().Property(x => x.MemberUid).HasColumnName(@"member_uid").HasColumnType(@"nvarchar(1000)").IsRequired().ValueGeneratedNever().HasMaxLength(1000);
            modelBuilder.Entity<FeatureMemberLink>().Property(x => x.Role).HasColumnName(@"role").HasColumnType(@"nvarchar(50)").ValueGeneratedNever().HasMaxLength(50);
            modelBuilder.Entity<FeatureMemberLink>().HasKey(@"Id");
        }

        partial void CustomizeFeatureMemberLinkMapping(ModelBuilder modelBuilder);

        #endregion

        #region FeatureTypeLink Mapping

        private void FeatureTypeLinkMapping(ModelBuilder modelBuilder)
        {
            modelBuilder.Entity<FeatureTypeLink>().ToTable(@"feature_type_link", @"dbo");
            modelBuilder.Entity<FeatureTypeLink>().Property(x => x.Id).HasColumnName(@"id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedOnAdd().HasDefaultValueSql(@"newid()");
            modelBuilder.Entity<FeatureTypeLink>().Property(x => x.FeatureId).HasColumnName(@"feature_id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<FeatureTypeLink>().Property(x => x.TypeUid).HasColumnName(@"type_uid").HasColumnType(@"nvarchar(1000)").IsRequired().ValueGeneratedNever().HasMaxLength(1000);
            modelBuilder.Entity<FeatureTypeLink>().Property(x => x.Role).HasColumnName(@"role").HasColumnType(@"nvarchar(50)").ValueGeneratedNever().HasMaxLength(50);
            modelBuilder.Entity<FeatureTypeLink>().HasKey(@"Id");
        }

        partial void CustomizeFeatureTypeLinkMapping(ModelBuilder modelBuilder);

        #endregion

        #region IngestionRun Mapping

        private void IngestionRunMapping(ModelBuilder modelBuilder)
        {
            modelBuilder.Entity<IngestionRun>().ToTable(@"ingestion_run", @"dbo");
            modelBuilder.Entity<IngestionRun>().Property(x => x.Id).HasColumnName(@"id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedOnAdd().HasDefaultValueSql(@"newid()");
            modelBuilder.Entity<IngestionRun>().Property(x => x.TimestampUtc).HasColumnName(@"timestamp_utc").HasColumnType(@"datetime2").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<IngestionRun>().Property(x => x.SchemaVersion).HasColumnName(@"schema_version").HasColumnType(@"nvarchar(200)").IsRequired().ValueGeneratedNever().HasMaxLength(200);
            modelBuilder.Entity<IngestionRun>().Property(x => x.Notes).HasColumnName(@"notes").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<IngestionRun>().HasKey(@"Id");
        }

        partial void CustomizeIngestionRunMapping(ModelBuilder modelBuilder);

        #endregion

        #region RagChunk Mapping

        private void RagChunkMapping(ModelBuilder modelBuilder)
        {
            modelBuilder.Entity<RagChunk>().ToTable(@"rag_chunk", @"dbo");
            modelBuilder.Entity<RagChunk>().Property(x => x.Id).HasColumnName(@"id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedOnAdd().HasDefaultValueSql(@"newid()");
            modelBuilder.Entity<RagChunk>().Property(x => x.RagRunId).HasColumnName(@"rag_run_id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<RagChunk>().Property(x => x.ChunkUid).HasColumnName(@"chunk_uid").HasColumnType(@"nvarchar(1000)").IsRequired().ValueGeneratedNever().HasMaxLength(1000);
            modelBuilder.Entity<RagChunk>().Property(x => x.Kind).HasColumnName(@"kind").HasColumnType(@"nvarchar(100)").ValueGeneratedNever().HasMaxLength(100);
            modelBuilder.Entity<RagChunk>().Property(x => x.Text).HasColumnName(@"text").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<RagChunk>().Property(x => x.MetadataJson).HasColumnName(@"metadata_json").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<RagChunk>().Property(x => x.EmbeddingVector).HasColumnName(@"embedding_vector").HasColumnType(@"varchar(1536)").ValueGeneratedNever().HasMaxLength(1536);
            modelBuilder.Entity<RagChunk>().HasKey(@"Id");
            modelBuilder.Entity<RagChunk>().HasIndex(@"ChunkUid").IsUnique(true);
        }

        partial void CustomizeRagChunkMapping(ModelBuilder modelBuilder);

        #endregion

        #region RagRun Mapping

        private void RagRunMapping(ModelBuilder modelBuilder)
        {
            modelBuilder.Entity<RagRun>().ToTable(@"rag_run", @"dbo");
            modelBuilder.Entity<RagRun>().Property(x => x.Id).HasColumnName(@"id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedOnAdd().HasDefaultValueSql(@"newid()");
            modelBuilder.Entity<RagRun>().Property(x => x.SnapshotId).HasColumnName(@"snapshot_id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<RagRun>().Property(x => x.TimestampUtc).HasColumnName(@"timestamp_utc").HasColumnType(@"datetime2").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<RagRun>().Property(x => x.SchemaVersion).HasColumnName(@"schema_version").HasColumnType(@"nvarchar(200)").IsRequired().ValueGeneratedNever().HasMaxLength(200);
            modelBuilder.Entity<RagRun>().HasKey(@"Id");
        }

        partial void CustomizeRagRunMapping(ModelBuilder modelBuilder);

        #endregion

        #region ReviewIssue Mapping

        private void ReviewIssueMapping(ModelBuilder modelBuilder)
        {
            modelBuilder.Entity<ReviewIssue>().ToTable(@"review_issue", @"dbo");
            modelBuilder.Entity<ReviewIssue>().Property(x => x.Id).HasColumnName(@"id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedOnAdd().HasDefaultValueSql(@"newid()");
            modelBuilder.Entity<ReviewIssue>().Property(x => x.ReviewItemId).HasColumnName(@"review_item_id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<ReviewIssue>().Property(x => x.Code).HasColumnName(@"code").HasColumnType(@"nvarchar(200)").ValueGeneratedNever().HasMaxLength(200);
            modelBuilder.Entity<ReviewIssue>().Property(x => x.Severity).HasColumnName(@"severity").HasColumnType(@"nvarchar(50)").ValueGeneratedNever().HasMaxLength(50);
            modelBuilder.Entity<ReviewIssue>().Property(x => x.RelatedMemberUid).HasColumnName(@"related_member_uid").HasColumnType(@"nvarchar(1000)").ValueGeneratedNever().HasMaxLength(1000);
            modelBuilder.Entity<ReviewIssue>().Property(x => x.Details).HasColumnName(@"details").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<ReviewIssue>().HasKey(@"Id");
        }

        partial void CustomizeReviewIssueMapping(ModelBuilder modelBuilder);

        #endregion

        #region ReviewItem Mapping

        private void ReviewItemMapping(ModelBuilder modelBuilder)
        {
            modelBuilder.Entity<ReviewItem>().ToTable(@"review_item", @"dbo");
            modelBuilder.Entity<ReviewItem>().Property(x => x.Id).HasColumnName(@"id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedOnAdd().HasDefaultValueSql(@"newid()");
            modelBuilder.Entity<ReviewItem>().Property(x => x.ReviewRunId).HasColumnName(@"review_run_id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<ReviewItem>().Property(x => x.TargetKind).HasColumnName(@"target_kind").HasColumnType(@"nvarchar(50)").IsRequired().ValueGeneratedNever().HasMaxLength(50);
            modelBuilder.Entity<ReviewItem>().Property(x => x.TargetUid).HasColumnName(@"target_uid").HasColumnType(@"nvarchar(1000)").IsRequired().ValueGeneratedNever().HasMaxLength(1000);
            modelBuilder.Entity<ReviewItem>().Property(x => x.Status).HasColumnName(@"status").HasColumnType(@"nvarchar(50)").ValueGeneratedNever().HasMaxLength(50);
            modelBuilder.Entity<ReviewItem>().Property(x => x.Summary).HasColumnName(@"summary").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<ReviewItem>().HasKey(@"Id");
        }

        partial void CustomizeReviewItemMapping(ModelBuilder modelBuilder);

        #endregion

        #region ReviewRun Mapping

        private void ReviewRunMapping(ModelBuilder modelBuilder)
        {
            modelBuilder.Entity<ReviewRun>().ToTable(@"review_run", @"dbo");
            modelBuilder.Entity<ReviewRun>().Property(x => x.Id).HasColumnName(@"id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedOnAdd().HasDefaultValueSql(@"newid()");
            modelBuilder.Entity<ReviewRun>().Property(x => x.SnapshotId).HasColumnName(@"snapshot_id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<ReviewRun>().Property(x => x.TimestampUtc).HasColumnName(@"timestamp_utc").HasColumnType(@"datetime2").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<ReviewRun>().Property(x => x.SchemaVersion).HasColumnName(@"schema_version").HasColumnType(@"nvarchar(200)").IsRequired().ValueGeneratedNever().HasMaxLength(200);
            modelBuilder.Entity<ReviewRun>().HasKey(@"Id");
        }

        partial void CustomizeReviewRunMapping(ModelBuilder modelBuilder);

        #endregion

        #region Sample Mapping

        private void SampleMapping(ModelBuilder modelBuilder)
        {
            modelBuilder.Entity<Sample>().ToTable(@"sample", @"dbo");
            modelBuilder.Entity<Sample>().Property(x => x.Id).HasColumnName(@"id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedOnAdd().HasDefaultValueSql(@"newid()");
            modelBuilder.Entity<Sample>().Property(x => x.SampleRunId).HasColumnName(@"sample_run_id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<Sample>().Property(x => x.SampleUid).HasColumnName(@"sample_uid").HasColumnType(@"nvarchar(1000)").IsRequired().ValueGeneratedNever().HasMaxLength(1000);
            modelBuilder.Entity<Sample>().Property(x => x.FeatureUid).HasColumnName(@"feature_uid").HasColumnType(@"nvarchar(1000)").ValueGeneratedNever().HasMaxLength(1000);
            modelBuilder.Entity<Sample>().Property(x => x.Language).HasColumnName(@"language").HasColumnType(@"nvarchar(200)").ValueGeneratedNever().HasMaxLength(200);
            modelBuilder.Entity<Sample>().Property(x => x.Code).HasColumnName(@"code").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<Sample>().Property(x => x.EntryPoint).HasColumnName(@"entry_point").HasColumnType(@"nvarchar(400)").ValueGeneratedNever().HasMaxLength(400);
            modelBuilder.Entity<Sample>().Property(x => x.TargetFramework).HasColumnName(@"target_framework").HasColumnType(@"nvarchar(200)").ValueGeneratedNever().HasMaxLength(200);
            modelBuilder.Entity<Sample>().Property(x => x.PackageReferences).HasColumnName(@"package_references").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<Sample>().Property(x => x.DerivedFromCodeUid).HasColumnName(@"derived_from_code_uid").HasColumnType(@"nvarchar(1000)").ValueGeneratedNever().HasMaxLength(1000);
            modelBuilder.Entity<Sample>().Property(x => x.Tags).HasColumnName(@"tags").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<Sample>().HasKey(@"Id");
            modelBuilder.Entity<Sample>().HasIndex(@"SampleUid").IsUnique(true);
        }

        partial void CustomizeSampleMapping(ModelBuilder modelBuilder);

        #endregion

        #region SampleApiMemberLink Mapping

        private void SampleApiMemberLinkMapping(ModelBuilder modelBuilder)
        {
            modelBuilder.Entity<SampleApiMemberLink>().ToTable(@"sample_api_member_link", @"dbo");
            modelBuilder.Entity<SampleApiMemberLink>().Property(x => x.Id).HasColumnName(@"id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedOnAdd().HasDefaultValueSql(@"newid()");
            modelBuilder.Entity<SampleApiMemberLink>().Property(x => x.SampleId).HasColumnName(@"sample_id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<SampleApiMemberLink>().Property(x => x.MemberUid).HasColumnName(@"member_uid").HasColumnType(@"nvarchar(1000)").IsRequired().ValueGeneratedNever().HasMaxLength(1000);
            modelBuilder.Entity<SampleApiMemberLink>().HasKey(@"Id");
        }

        partial void CustomizeSampleApiMemberLinkMapping(ModelBuilder modelBuilder);

        #endregion

        #region SampleRun Mapping

        private void SampleRunMapping(ModelBuilder modelBuilder)
        {
            modelBuilder.Entity<SampleRun>().ToTable(@"sample_run", @"dbo");
            modelBuilder.Entity<SampleRun>().Property(x => x.Id).HasColumnName(@"id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedOnAdd().HasDefaultValueSql(@"newid()");
            modelBuilder.Entity<SampleRun>().Property(x => x.SnapshotId).HasColumnName(@"snapshot_id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<SampleRun>().Property(x => x.TimestampUtc).HasColumnName(@"timestamp_utc").HasColumnType(@"datetime2").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<SampleRun>().Property(x => x.SchemaVersion).HasColumnName(@"schema_version").HasColumnType(@"nvarchar(200)").IsRequired().ValueGeneratedNever().HasMaxLength(200);
            modelBuilder.Entity<SampleRun>().HasKey(@"Id");
        }

        partial void CustomizeSampleRunMapping(ModelBuilder modelBuilder);

        #endregion

        #region SemanticIdentity Mapping

        private void SemanticIdentityMapping(ModelBuilder modelBuilder)
        {
            modelBuilder.Entity<SemanticIdentity>().ToTable(@"semantic_identity", @"dbo");
            modelBuilder.Entity<SemanticIdentity>().Property(x => x.UidHash).HasColumnName(@"uid_hash").HasColumnType(@"binary(32)").IsRequired().ValueGeneratedNever().HasMaxLength(32);
            modelBuilder.Entity<SemanticIdentity>().Property(x => x.Uid).HasColumnName(@"uid").HasColumnType(@"nvarchar(1000)").IsRequired().ValueGeneratedNever().HasMaxLength(1000);
            modelBuilder.Entity<SemanticIdentity>().Property(x => x.Kind).HasColumnName(@"kind").HasColumnType(@"nvarchar(50)").IsRequired().ValueGeneratedNever().HasMaxLength(50);
            modelBuilder.Entity<SemanticIdentity>().Property(x => x.CreatedUtc).HasColumnName(@"created_utc").HasColumnType(@"datetime2").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<SemanticIdentity>().Property(x => x.Notes).HasColumnName(@"notes").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<SemanticIdentity>().HasKey(@"UidHash");
        }

        partial void CustomizeSemanticIdentityMapping(ModelBuilder modelBuilder);

        #endregion

        #region SnapshotDiff Mapping

        private void SnapshotDiffMapping(ModelBuilder modelBuilder)
        {
            modelBuilder.Entity<SnapshotDiff>().ToTable(@"snapshot_diff", @"dbo");
            modelBuilder.Entity<SnapshotDiff>().Property(x => x.Id).HasColumnName(@"id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedOnAdd().HasDefaultValueSql(@"newid()");
            modelBuilder.Entity<SnapshotDiff>().Property(x => x.OldSnapshotId).HasColumnName(@"old_snapshot_id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<SnapshotDiff>().Property(x => x.NewSnapshotId).HasColumnName(@"new_snapshot_id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<SnapshotDiff>().Property(x => x.TimestampUtc).HasColumnName(@"timestamp_utc").HasColumnType(@"datetime2").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<SnapshotDiff>().Property(x => x.SchemaVersion).HasColumnName(@"schema_version").HasColumnType(@"nvarchar(200)").IsRequired().ValueGeneratedNever().HasMaxLength(200);
            modelBuilder.Entity<SnapshotDiff>().HasKey(@"Id");
        }

        partial void CustomizeSnapshotDiffMapping(ModelBuilder modelBuilder);

        #endregion

        #region SourceSnapshot Mapping

        private void SourceSnapshotMapping(ModelBuilder modelBuilder)
        {
            modelBuilder.Entity<SourceSnapshot>().ToTable(@"source_snapshot", @"dbo");
            modelBuilder.Entity<SourceSnapshot>().Property(x => x.Id).HasColumnName(@"id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedOnAdd().HasDefaultValueSql(@"newid()");
            modelBuilder.Entity<SourceSnapshot>().Property(x => x.IngestionRunId).HasColumnName(@"ingestion_run_id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<SourceSnapshot>().Property(x => x.SnapshotUid).HasColumnName(@"snapshot_uid").HasColumnType(@"nvarchar(200)").IsRequired().ValueGeneratedNever().HasMaxLength(200);
            modelBuilder.Entity<SourceSnapshot>().Property(x => x.RepoUrl).HasColumnName(@"repo_url").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<SourceSnapshot>().Property(x => x.Branch).HasColumnName(@"branch").HasColumnType(@"nvarchar(200)").ValueGeneratedNever().HasMaxLength(200);
            modelBuilder.Entity<SourceSnapshot>().Property(x => x.RepoCommit).HasColumnName(@"repo_commit").HasColumnType(@"nvarchar(200)").ValueGeneratedNever().HasMaxLength(200);
            modelBuilder.Entity<SourceSnapshot>().Property(x => x.Language).HasColumnName(@"language").HasColumnType(@"nvarchar(200)").ValueGeneratedNever().HasMaxLength(200);
            modelBuilder.Entity<SourceSnapshot>().Property(x => x.PackageName).HasColumnName(@"package_name").HasColumnType(@"nvarchar(200)").ValueGeneratedNever().HasMaxLength(200);
            modelBuilder.Entity<SourceSnapshot>().Property(x => x.PackageVersion).HasColumnName(@"package_version").HasColumnType(@"nvarchar(200)").ValueGeneratedNever().HasMaxLength(200);
            modelBuilder.Entity<SourceSnapshot>().Property(x => x.ConfigJson).HasColumnName(@"config_json").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<SourceSnapshot>().Property(x => x.SnapshotUidHash).HasColumnName(@"snapshot_uid_hash").HasColumnType(@"binary(32)").ValueGeneratedOnAddOrUpdate().HasMaxLength(32);
            modelBuilder.Entity<SourceSnapshot>().HasKey(@"Id");
            modelBuilder.Entity<SourceSnapshot>().HasIndex(@"SnapshotUidHash").IsUnique(true);
        }

        partial void CustomizeSourceSnapshotMapping(ModelBuilder modelBuilder);

        #endregion

        #region TruthRun Mapping

        private void TruthRunMapping(ModelBuilder modelBuilder)
        {
            modelBuilder.Entity<TruthRun>().ToTable(@"truth_run", @"dbo");
            modelBuilder.Entity<TruthRun>().Property(x => x.Id).HasColumnName(@"id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedOnAdd().HasDefaultValueSql(@"newid()");
            modelBuilder.Entity<TruthRun>().Property(x => x.SnapshotId).HasColumnName(@"snapshot_id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<TruthRun>().Property(x => x.TimestampUtc).HasColumnName(@"timestamp_utc").HasColumnType(@"datetime2").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<TruthRun>().Property(x => x.SchemaVersion).HasColumnName(@"schema_version").HasColumnType(@"nvarchar(200)").IsRequired().ValueGeneratedNever().HasMaxLength(200);
            modelBuilder.Entity<TruthRun>().HasKey(@"Id");
        }

        partial void CustomizeTruthRunMapping(ModelBuilder modelBuilder);

        #endregion

        #region VApiFeatureCurrent Mapping

        private void VApiFeatureCurrentMapping(ModelBuilder modelBuilder)
        {
            modelBuilder.Entity<VApiFeatureCurrent>().HasNoKey();
            modelBuilder.Entity<VApiFeatureCurrent>().ToView(@"v_api_feature_current", @"dbo");
            modelBuilder.Entity<VApiFeatureCurrent>().Property(x => x.Id).HasColumnName(@"id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<VApiFeatureCurrent>().Property(x => x.ApiTypeId).HasColumnName(@"api_type_id").HasColumnType(@"uniqueidentifier").ValueGeneratedNever();
            modelBuilder.Entity<VApiFeatureCurrent>().Property(x => x.SemanticUid).HasColumnName(@"semantic_uid").HasColumnType(@"nvarchar(1000)").IsRequired().ValueGeneratedNever().HasMaxLength(1000);
            modelBuilder.Entity<VApiFeatureCurrent>().Property(x => x.TruthRunId).HasColumnName(@"truth_run_id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<VApiFeatureCurrent>().Property(x => x.Name).HasColumnName(@"name").HasColumnType(@"nvarchar(400)").ValueGeneratedNever().HasMaxLength(400);
            modelBuilder.Entity<VApiFeatureCurrent>().Property(x => x.Language).HasColumnName(@"language").HasColumnType(@"nvarchar(200)").ValueGeneratedNever().HasMaxLength(200);
            modelBuilder.Entity<VApiFeatureCurrent>().Property(x => x.Description).HasColumnName(@"description").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<VApiFeatureCurrent>().Property(x => x.Tags).HasColumnName(@"tags").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<VApiFeatureCurrent>().Property(x => x.VersionNumber).HasColumnName(@"version_number").HasColumnType(@"int").IsRequired().ValueGeneratedNever().HasPrecision(10, 0);
            modelBuilder.Entity<VApiFeatureCurrent>().Property(x => x.CreatedIngestionRunId).HasColumnName(@"created_ingestion_run_id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<VApiFeatureCurrent>().Property(x => x.UpdatedIngestionRunId).HasColumnName(@"updated_ingestion_run_id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<VApiFeatureCurrent>().Property(x => x.RemovedIngestionRunId).HasColumnName(@"removed_ingestion_run_id").HasColumnType(@"uniqueidentifier").ValueGeneratedNever();
            modelBuilder.Entity<VApiFeatureCurrent>().Property(x => x.ValidFromUtc).HasColumnName(@"valid_from_utc").HasColumnType(@"datetime2").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<VApiFeatureCurrent>().Property(x => x.ValidToUtc).HasColumnName(@"valid_to_utc").HasColumnType(@"datetime2").ValueGeneratedNever();
            modelBuilder.Entity<VApiFeatureCurrent>().Property(x => x.IsActive).HasColumnName(@"is_active").HasColumnType(@"bit").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<VApiFeatureCurrent>().Property(x => x.ContentHash).HasColumnName(@"content_hash").HasColumnType(@"binary(32)").ValueGeneratedNever().HasMaxLength(32);
            modelBuilder.Entity<VApiFeatureCurrent>().Property(x => x.SemanticUidHash).HasColumnName(@"semantic_uid_hash").HasColumnType(@"binary(32)").ValueGeneratedNever().HasMaxLength(32);
        }

        partial void CustomizeVApiFeatureCurrentMapping(ModelBuilder modelBuilder);

        #endregion

        #region VApiMemberCurrent Mapping

        private void VApiMemberCurrentMapping(ModelBuilder modelBuilder)
        {
            modelBuilder.Entity<VApiMemberCurrent>().HasNoKey();
            modelBuilder.Entity<VApiMemberCurrent>().ToView(@"v_api_member_current", @"dbo");
            modelBuilder.Entity<VApiMemberCurrent>().Property(x => x.Id).HasColumnName(@"id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<VApiMemberCurrent>().Property(x => x.SemanticUid).HasColumnName(@"semantic_uid").HasColumnType(@"nvarchar(1000)").IsRequired().ValueGeneratedNever().HasMaxLength(1000);
            modelBuilder.Entity<VApiMemberCurrent>().Property(x => x.ApiFeatureId).HasColumnName(@"api_feature_id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<VApiMemberCurrent>().Property(x => x.Name).HasColumnName(@"name").HasColumnType(@"nvarchar(400)").ValueGeneratedNever().HasMaxLength(400);
            modelBuilder.Entity<VApiMemberCurrent>().Property(x => x.Kind).HasColumnName(@"kind").HasColumnType(@"nvarchar(200)").ValueGeneratedNever().HasMaxLength(200);
            modelBuilder.Entity<VApiMemberCurrent>().Property(x => x.MethodKind).HasColumnName(@"method_kind").HasColumnType(@"nvarchar(200)").ValueGeneratedNever().HasMaxLength(200);
            modelBuilder.Entity<VApiMemberCurrent>().Property(x => x.Accessibility).HasColumnName(@"accessibility").HasColumnType(@"nvarchar(200)").ValueGeneratedNever().HasMaxLength(200);
            modelBuilder.Entity<VApiMemberCurrent>().Property(x => x.IsStatic).HasColumnName(@"is_static").HasColumnType(@"bit").ValueGeneratedNever();
            modelBuilder.Entity<VApiMemberCurrent>().Property(x => x.IsExtensionMethod).HasColumnName(@"is_extension_method").HasColumnType(@"bit").ValueGeneratedNever();
            modelBuilder.Entity<VApiMemberCurrent>().Property(x => x.IsAsync).HasColumnName(@"is_async").HasColumnType(@"bit").ValueGeneratedNever();
            modelBuilder.Entity<VApiMemberCurrent>().Property(x => x.IsVirtual).HasColumnName(@"is_virtual").HasColumnType(@"bit").ValueGeneratedNever();
            modelBuilder.Entity<VApiMemberCurrent>().Property(x => x.IsOverride).HasColumnName(@"is_override").HasColumnType(@"bit").ValueGeneratedNever();
            modelBuilder.Entity<VApiMemberCurrent>().Property(x => x.IsAbstract).HasColumnName(@"is_abstract").HasColumnType(@"bit").ValueGeneratedNever();
            modelBuilder.Entity<VApiMemberCurrent>().Property(x => x.IsSealed).HasColumnName(@"is_sealed").HasColumnType(@"bit").ValueGeneratedNever();
            modelBuilder.Entity<VApiMemberCurrent>().Property(x => x.IsReadonly).HasColumnName(@"is_readonly").HasColumnType(@"bit").ValueGeneratedNever();
            modelBuilder.Entity<VApiMemberCurrent>().Property(x => x.IsConst).HasColumnName(@"is_const").HasColumnType(@"bit").ValueGeneratedNever();
            modelBuilder.Entity<VApiMemberCurrent>().Property(x => x.IsUnsafe).HasColumnName(@"is_unsafe").HasColumnType(@"bit").ValueGeneratedNever();
            modelBuilder.Entity<VApiMemberCurrent>().Property(x => x.ReturnTypeUid).HasColumnName(@"return_type_uid").HasColumnType(@"nvarchar(1000)").ValueGeneratedNever().HasMaxLength(1000);
            modelBuilder.Entity<VApiMemberCurrent>().Property(x => x.ReturnNullable).HasColumnName(@"return_nullable").HasColumnType(@"nvarchar(50)").ValueGeneratedNever().HasMaxLength(50);
            modelBuilder.Entity<VApiMemberCurrent>().Property(x => x.GenericParameters).HasColumnName(@"generic_parameters").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<VApiMemberCurrent>().Property(x => x.GenericConstraints).HasColumnName(@"generic_constraints").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<VApiMemberCurrent>().Property(x => x.Summary).HasColumnName(@"summary").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<VApiMemberCurrent>().Property(x => x.Remarks).HasColumnName(@"remarks").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<VApiMemberCurrent>().Property(x => x.Attributes).HasColumnName(@"attributes").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<VApiMemberCurrent>().Property(x => x.SourceFilePath).HasColumnName(@"source_file_path").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<VApiMemberCurrent>().Property(x => x.SourceStartLine).HasColumnName(@"source_start_line").HasColumnType(@"int").ValueGeneratedNever().HasPrecision(10, 0);
            modelBuilder.Entity<VApiMemberCurrent>().Property(x => x.SourceEndLine).HasColumnName(@"source_end_line").HasColumnType(@"int").ValueGeneratedNever().HasPrecision(10, 0);
            modelBuilder.Entity<VApiMemberCurrent>().Property(x => x.MemberUidHash).HasColumnName(@"member_uid_hash").HasColumnType(@"binary(32)").ValueGeneratedNever().HasMaxLength(32);
            modelBuilder.Entity<VApiMemberCurrent>().Property(x => x.VersionNumber).HasColumnName(@"version_number").HasColumnType(@"int").IsRequired().ValueGeneratedNever().HasPrecision(10, 0);
            modelBuilder.Entity<VApiMemberCurrent>().Property(x => x.CreatedIngestionRunId).HasColumnName(@"created_ingestion_run_id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<VApiMemberCurrent>().Property(x => x.UpdatedIngestionRunId).HasColumnName(@"updated_ingestion_run_id").HasColumnType(@"uniqueidentifier").ValueGeneratedNever();
            modelBuilder.Entity<VApiMemberCurrent>().Property(x => x.RemovedIngestionRunId).HasColumnName(@"removed_ingestion_run_id").HasColumnType(@"uniqueidentifier").ValueGeneratedNever();
            modelBuilder.Entity<VApiMemberCurrent>().Property(x => x.ValidFromUtc).HasColumnName(@"valid_from_utc").HasColumnType(@"datetime2").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<VApiMemberCurrent>().Property(x => x.ValidToUtc).HasColumnName(@"valid_to_utc").HasColumnType(@"datetime2").ValueGeneratedNever();
            modelBuilder.Entity<VApiMemberCurrent>().Property(x => x.IsActive).HasColumnName(@"is_active").HasColumnType(@"bit").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<VApiMemberCurrent>().Property(x => x.ContentHash).HasColumnName(@"content_hash").HasColumnType(@"binary(32)").ValueGeneratedNever().HasMaxLength(32);
            modelBuilder.Entity<VApiMemberCurrent>().Property(x => x.SemanticUidHash).HasColumnName(@"semantic_uid_hash").HasColumnType(@"binary(32)").ValueGeneratedNever().HasMaxLength(32);
        }

        partial void CustomizeVApiMemberCurrentMapping(ModelBuilder modelBuilder);

        #endregion

        #region VApiTypeCurrent Mapping

        private void VApiTypeCurrentMapping(ModelBuilder modelBuilder)
        {
            modelBuilder.Entity<VApiTypeCurrent>().HasNoKey();
            modelBuilder.Entity<VApiTypeCurrent>().ToView(@"v_api_type_current", @"dbo");
            modelBuilder.Entity<VApiTypeCurrent>().Property(x => x.Id).HasColumnName(@"id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<VApiTypeCurrent>().Property(x => x.SemanticUid).HasColumnName(@"semantic_uid").HasColumnType(@"nvarchar(1000)").IsRequired().ValueGeneratedNever().HasMaxLength(1000);
            modelBuilder.Entity<VApiTypeCurrent>().Property(x => x.SourceSnapshotId).HasColumnName(@"source_snapshot_id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<VApiTypeCurrent>().Property(x => x.Name).HasColumnName(@"name").HasColumnType(@"nvarchar(400)").ValueGeneratedNever().HasMaxLength(400);
            modelBuilder.Entity<VApiTypeCurrent>().Property(x => x.NamespacePath).HasColumnName(@"namespace_path").HasColumnType(@"nvarchar(1000)").ValueGeneratedNever().HasMaxLength(1000);
            modelBuilder.Entity<VApiTypeCurrent>().Property(x => x.Kind).HasColumnName(@"kind").HasColumnType(@"nvarchar(200)").ValueGeneratedNever().HasMaxLength(200);
            modelBuilder.Entity<VApiTypeCurrent>().Property(x => x.Accessibility).HasColumnName(@"accessibility").HasColumnType(@"nvarchar(200)").ValueGeneratedNever().HasMaxLength(200);
            modelBuilder.Entity<VApiTypeCurrent>().Property(x => x.IsStatic).HasColumnName(@"is_static").HasColumnType(@"bit").ValueGeneratedNever();
            modelBuilder.Entity<VApiTypeCurrent>().Property(x => x.IsGeneric).HasColumnName(@"is_generic").HasColumnType(@"bit").ValueGeneratedNever();
            modelBuilder.Entity<VApiTypeCurrent>().Property(x => x.IsAbstract).HasColumnName(@"is_abstract").HasColumnType(@"bit").ValueGeneratedNever();
            modelBuilder.Entity<VApiTypeCurrent>().Property(x => x.IsSealed).HasColumnName(@"is_sealed").HasColumnType(@"bit").ValueGeneratedNever();
            modelBuilder.Entity<VApiTypeCurrent>().Property(x => x.IsRecord).HasColumnName(@"is_record").HasColumnType(@"bit").ValueGeneratedNever();
            modelBuilder.Entity<VApiTypeCurrent>().Property(x => x.IsRefLike).HasColumnName(@"is_ref_like").HasColumnType(@"bit").ValueGeneratedNever();
            modelBuilder.Entity<VApiTypeCurrent>().Property(x => x.BaseTypeUid).HasColumnName(@"base_type_uid").HasColumnType(@"nvarchar(1000)").ValueGeneratedNever().HasMaxLength(1000);
            modelBuilder.Entity<VApiTypeCurrent>().Property(x => x.Interfaces).HasColumnName(@"interfaces").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<VApiTypeCurrent>().Property(x => x.ContainingTypeUid).HasColumnName(@"containing_type_uid").HasColumnType(@"nvarchar(1000)").ValueGeneratedNever().HasMaxLength(1000);
            modelBuilder.Entity<VApiTypeCurrent>().Property(x => x.GenericParameters).HasColumnName(@"generic_parameters").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<VApiTypeCurrent>().Property(x => x.GenericConstraints).HasColumnName(@"generic_constraints").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<VApiTypeCurrent>().Property(x => x.Summary).HasColumnName(@"summary").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<VApiTypeCurrent>().Property(x => x.Remarks).HasColumnName(@"remarks").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<VApiTypeCurrent>().Property(x => x.Attributes).HasColumnName(@"attributes").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<VApiTypeCurrent>().Property(x => x.SourceFilePath).HasColumnName(@"source_file_path").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<VApiTypeCurrent>().Property(x => x.SourceStartLine).HasColumnName(@"source_start_line").HasColumnType(@"int").ValueGeneratedNever().HasPrecision(10, 0);
            modelBuilder.Entity<VApiTypeCurrent>().Property(x => x.SourceEndLine).HasColumnName(@"source_end_line").HasColumnType(@"int").ValueGeneratedNever().HasPrecision(10, 0);
            modelBuilder.Entity<VApiTypeCurrent>().Property(x => x.VersionNumber).HasColumnName(@"version_number").HasColumnType(@"int").IsRequired().ValueGeneratedNever().HasPrecision(10, 0);
            modelBuilder.Entity<VApiTypeCurrent>().Property(x => x.CreatedIngestionRunId).HasColumnName(@"created_ingestion_run_id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<VApiTypeCurrent>().Property(x => x.UpdatedIngestionRunId).HasColumnName(@"updated_ingestion_run_id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<VApiTypeCurrent>().Property(x => x.RemovedIngestionRunId).HasColumnName(@"removed_ingestion_run_id").HasColumnType(@"uniqueidentifier").ValueGeneratedNever();
            modelBuilder.Entity<VApiTypeCurrent>().Property(x => x.ValidFromUtc).HasColumnName(@"valid_from_utc").HasColumnType(@"datetime2").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<VApiTypeCurrent>().Property(x => x.ValidToUtc).HasColumnName(@"valid_to_utc").HasColumnType(@"datetime2").ValueGeneratedNever();
            modelBuilder.Entity<VApiTypeCurrent>().Property(x => x.IsActive).HasColumnName(@"is_active").HasColumnType(@"bit").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<VApiTypeCurrent>().Property(x => x.ContentHash).HasColumnName(@"content_hash").HasColumnType(@"binary(32)").ValueGeneratedNever().HasMaxLength(32);
            modelBuilder.Entity<VApiTypeCurrent>().Property(x => x.SemanticUidHash).HasColumnName(@"semantic_uid_hash").HasColumnType(@"binary(32)").ValueGeneratedNever().HasMaxLength(32);
        }

        partial void CustomizeVApiTypeCurrentMapping(ModelBuilder modelBuilder);

        #endregion

        #region VDocPageCurrent Mapping

        private void VDocPageCurrentMapping(ModelBuilder modelBuilder)
        {
            modelBuilder.Entity<VDocPageCurrent>().HasNoKey();
            modelBuilder.Entity<VDocPageCurrent>().ToView(@"v_doc_page_current", @"dbo");
            modelBuilder.Entity<VDocPageCurrent>().Property(x => x.Id).HasColumnName(@"id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<VDocPageCurrent>().Property(x => x.SemanticUid).HasColumnName(@"semantic_uid").HasColumnType(@"nvarchar(1000)").IsRequired().ValueGeneratedNever().HasMaxLength(1000);
            modelBuilder.Entity<VDocPageCurrent>().Property(x => x.SourceSnapshotId).HasColumnName(@"source_snapshot_id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<VDocPageCurrent>().Property(x => x.SourcePath).HasColumnName(@"source_path").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<VDocPageCurrent>().Property(x => x.Title).HasColumnName(@"title").HasColumnType(@"nvarchar(400)").ValueGeneratedNever().HasMaxLength(400);
            modelBuilder.Entity<VDocPageCurrent>().Property(x => x.Language).HasColumnName(@"language").HasColumnType(@"nvarchar(200)").ValueGeneratedNever().HasMaxLength(200);
            modelBuilder.Entity<VDocPageCurrent>().Property(x => x.Url).HasColumnName(@"url").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<VDocPageCurrent>().Property(x => x.RawMarkdown).HasColumnName(@"raw_markdown").HasColumnType(@"nvarchar(max)").ValueGeneratedNever();
            modelBuilder.Entity<VDocPageCurrent>().Property(x => x.VersionNumber).HasColumnName(@"version_number").HasColumnType(@"int").IsRequired().ValueGeneratedNever().HasPrecision(10, 0);
            modelBuilder.Entity<VDocPageCurrent>().Property(x => x.CreatedIngestionRunId).HasColumnName(@"created_ingestion_run_id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<VDocPageCurrent>().Property(x => x.UpdatedIngestionRunId).HasColumnName(@"updated_ingestion_run_id").HasColumnType(@"uniqueidentifier").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<VDocPageCurrent>().Property(x => x.RemovedIngestionRunId).HasColumnName(@"removed_ingestion_run_id").HasColumnType(@"uniqueidentifier").ValueGeneratedNever();
            modelBuilder.Entity<VDocPageCurrent>().Property(x => x.ValidFromUtc).HasColumnName(@"valid_from_utc").HasColumnType(@"datetime2").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<VDocPageCurrent>().Property(x => x.ValidToUtc).HasColumnName(@"valid_to_utc").HasColumnType(@"datetime2").ValueGeneratedNever();
            modelBuilder.Entity<VDocPageCurrent>().Property(x => x.IsActive).HasColumnName(@"is_active").HasColumnType(@"bit").IsRequired().ValueGeneratedNever();
            modelBuilder.Entity<VDocPageCurrent>().Property(x => x.ContentHash).HasColumnName(@"content_hash").HasColumnType(@"binary(32)").ValueGeneratedNever().HasMaxLength(32);
            modelBuilder.Entity<VDocPageCurrent>().Property(x => x.SemanticUidHash).HasColumnName(@"semantic_uid_hash").HasColumnType(@"binary(32)").ValueGeneratedNever().HasMaxLength(32);
        }

        partial void CustomizeVDocPageCurrentMapping(ModelBuilder modelBuilder);

        #endregion

        private void RelationshipsMapping(ModelBuilder modelBuilder)
        {
            modelBuilder.Entity<ApiFeature>().HasOne(x => x.IngestionRun).WithMany(op => op.ApiFeatures).HasForeignKey(@"CreatedIngestionRunId").IsRequired(true);
            modelBuilder.Entity<ApiFeature>().HasOne(x => x.ApiMember).WithOne(op => op.ApiFeature).HasForeignKey(typeof(ApiMember), @"ApiFeatureId").IsRequired(false);

            modelBuilder.Entity<ApiMember>().HasOne(x => x.IngestionRun).WithMany(op => op.ApiMembers).HasForeignKey(@"CreatedIngestionRunId").IsRequired(true);

            modelBuilder.Entity<ApiParameter>().HasOne(x => x.IngestionRun).WithMany(op => op.ApiParameters).HasForeignKey(@"CreatedIngestionRunId").IsRequired(true);

            modelBuilder.Entity<ApiType>().HasOne(x => x.IngestionRun).WithMany(op => op.ApiTypes).HasForeignKey(@"CreatedIngestionRunId").IsRequired(true);

            modelBuilder.Entity<DocPage>().HasOne(x => x.IngestionRun).WithMany(op => op.DocPages).HasForeignKey(@"CreatedIngestionRunId").IsRequired(true);

            modelBuilder.Entity<DocSection>().HasOne(x => x.IngestionRun).WithMany(op => op.DocSections).HasForeignKey(@"CreatedIngestionRunId").IsRequired(true);

            modelBuilder.Entity<IngestionRun>().HasMany(x => x.ApiFeatures).WithOne(op => op.IngestionRun).HasForeignKey(@"CreatedIngestionRunId").IsRequired(true);
            modelBuilder.Entity<IngestionRun>().HasMany(x => x.ApiMembers).WithOne(op => op.IngestionRun).HasForeignKey(@"CreatedIngestionRunId").IsRequired(true);
            modelBuilder.Entity<IngestionRun>().HasMany(x => x.ApiParameters).WithOne(op => op.IngestionRun).HasForeignKey(@"CreatedIngestionRunId").IsRequired(true);
            modelBuilder.Entity<IngestionRun>().HasMany(x => x.ApiTypes).WithOne(op => op.IngestionRun).HasForeignKey(@"CreatedIngestionRunId").IsRequired(true);
            modelBuilder.Entity<IngestionRun>().HasMany(x => x.DocPages).WithOne(op => op.IngestionRun).HasForeignKey(@"CreatedIngestionRunId").IsRequired(true);
            modelBuilder.Entity<IngestionRun>().HasMany(x => x.DocSections).WithOne(op => op.IngestionRun).HasForeignKey(@"CreatedIngestionRunId").IsRequired(true);
        }

        partial void CustomizeMapping(ref ModelBuilder modelBuilder);

        public bool HasChanges()
        {
            return ChangeTracker.Entries().Any(e => e.State == Microsoft.EntityFrameworkCore.EntityState.Added || e.State == Microsoft.EntityFrameworkCore.EntityState.Modified || e.State == Microsoft.EntityFrameworkCore.EntityState.Deleted);
        }

        partial void OnCreated();
    }

    public class SpCheckTemporalConsistencyMultipleResult
    {

        public SpCheckTemporalConsistencyMultipleResult()
        {
          SpCheckTemporalConsistencyResults = new List<SpCheckTemporalConsistencyResult>();
          SpCheckTemporalConsistencyResults1 = new List<SpCheckTemporalConsistencyResult>();
          SpCheckTemporalConsistencyResults2 = new List<SpCheckTemporalConsistencyResult>();
          SpCheckTemporalConsistencyResults3 = new List<SpCheckTemporalConsistencyResult>();
          SpCheckTemporalConsistencyResult1s = new List<SpCheckTemporalConsistencyResult1>();
          SpCheckTemporalConsistencyResult1s1 = new List<SpCheckTemporalConsistencyResult1>();
          SpCheckTemporalConsistencyResult1s2 = new List<SpCheckTemporalConsistencyResult1>();
          SpCheckTemporalConsistencyResult1s3 = new List<SpCheckTemporalConsistencyResult1>();
          SpCheckTemporalConsistencyResult2s = new List<SpCheckTemporalConsistencyResult2>();
          SpCheckTemporalConsistencyResult2s1 = new List<SpCheckTemporalConsistencyResult2>();
          SpCheckTemporalConsistencyResult2s2 = new List<SpCheckTemporalConsistencyResult2>();
          SpCheckTemporalConsistencyResult2s3 = new List<SpCheckTemporalConsistencyResult2>();
        }

        public List<SpCheckTemporalConsistencyResult> SpCheckTemporalConsistencyResults { get; private set; }
        public List<SpCheckTemporalConsistencyResult> SpCheckTemporalConsistencyResults1 { get; private set; }
        public List<SpCheckTemporalConsistencyResult> SpCheckTemporalConsistencyResults2 { get; private set; }
        public List<SpCheckTemporalConsistencyResult> SpCheckTemporalConsistencyResults3 { get; private set; }
        public List<SpCheckTemporalConsistencyResult1> SpCheckTemporalConsistencyResult1s { get; private set; }
        public List<SpCheckTemporalConsistencyResult1> SpCheckTemporalConsistencyResult1s1 { get; private set; }
        public List<SpCheckTemporalConsistencyResult1> SpCheckTemporalConsistencyResult1s2 { get; private set; }
        public List<SpCheckTemporalConsistencyResult1> SpCheckTemporalConsistencyResult1s3 { get; private set; }
        public List<SpCheckTemporalConsistencyResult2> SpCheckTemporalConsistencyResult2s { get; private set; }
        public List<SpCheckTemporalConsistencyResult2> SpCheckTemporalConsistencyResult2s1 { get; private set; }
        public List<SpCheckTemporalConsistencyResult2> SpCheckTemporalConsistencyResult2s2 { get; private set; }
        public List<SpCheckTemporalConsistencyResult2> SpCheckTemporalConsistencyResult2s3 { get; private set; }
    }

    public class SpUpsertApiParameterMultipleResult
    {

        public SpUpsertApiParameterMultipleResult()
        {
          SpUpsertApiParameterResults = new List<SpUpsertApiParameterResult>();
          SpUpsertApiParameterResults1 = new List<SpUpsertApiParameterResult>();
          SpUpsertApiParameterResults2 = new List<SpUpsertApiParameterResult>();
        }

        public List<SpUpsertApiParameterResult> SpUpsertApiParameterResults { get; private set; }
        public List<SpUpsertApiParameterResult> SpUpsertApiParameterResults1 { get; private set; }
        public List<SpUpsertApiParameterResult> SpUpsertApiParameterResults2 { get; private set; }
    }

    public class SpVerifyIngestionRunMultipleResult
    {

        public SpVerifyIngestionRunMultipleResult()
        {
          SpVerifyIngestionRunResults = new List<SpVerifyIngestionRunResult>();
          SpVerifyIngestionRunResults1 = new List<SpVerifyIngestionRunResult>();
        }

        public List<SpVerifyIngestionRunResult> SpVerifyIngestionRunResults { get; private set; }
        public List<SpVerifyIngestionRunResult> SpVerifyIngestionRunResults1 { get; private set; }
    }
}
